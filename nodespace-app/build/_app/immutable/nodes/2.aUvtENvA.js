var Es=Object.defineProperty;var Ms=(n,e,t)=>e in n?Es(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Fe=(n,e,t)=>Ms(n,typeof e!="symbol"?e+"":e,t);import"../chunks/Bzak7iHL.js";import{b as $s,i as zs,c as Rs,d as Ls,e as qs,n as Ds,f as Bs,l as Jn,j as js,w as Br,g as Rn,o as It,k as jr,p as yn,q as $e,s as ee,r as Nt}from"../chunks/CwC9PgJr.js";import{z as dn,h as De,ag as Vt,B as Gr,a as Ln,w as Xn,g as a,_ as We,x as Gs,H as Os,y as cr,A as Yt,J as Ct,ah as Or,al as Hs,C as Xt,F as Fs,aD as xn,aE as wn,D as Lt,aF as Hr,ap as Fr,ae as Qn,Q as ve,aG as dr,aH as ur,G as Vr,I as Vs,aI as Cn,M as Ws,at as Qt,aJ as Us,aK as Ys,aj as Wr,aL as Ks,ao as Zs,aM as Js,Y as Ur,t as re,aN as Xs,am as Qs,ak as eo,ar as fr,as as to,K as Yr,aO as no,aP as ro,N as Kr,aQ as so,aR as oo,aS as ao,aT as io,aU as lo,U as co,aV as uo,aW as fo,d as z,L as _n,aX as vo,aY as ho,T as po,p as Re,aZ as Be,a_ as lt,n as G,m as k,o as Le,q as p,R as H,aB as vr,s as v,f as Ne,a$ as er,v as C,k as ke,l as xe,a8 as fn,b0 as vn,aa as Je,b1 as Ge,a9 as mo,b2 as go,b3 as hr,P as St,a7 as Tn}from"../chunks/DMKrJgiX.js";import{p as ne,s as Zr,a as hn,i as de,b as rt,r as At}from"../chunks/BJeaJRxb.js";import"../chunks/DlAJEGHk.js";import{s as Wt}from"../chunks/BJz-SxDU.js";import{i as st}from"../chunks/90y2bIhG.js";function Pt(n,e){return e}function bo(n,e,t){for(var r=n.items,o=[],s=e.length,i=0;i<s;i++)Ks(e[i].e,o,!0);var l=s>0&&o.length===0&&t!==null;if(l){var d=t.parentNode;Zs(d),d.append(t),r.clear(),at(n,e[0].prev,e[s-1].next)}Js(o,()=>{for(var b=0;b<s;b++){var h=e[b];l||(r.delete(h.k),at(n,h.prev,h.next)),Qt(h.e,!l)}})}function et(n,e,t,r,o,s=null){var i=n,l={flags:e,items:new Map,first:null},d=(e&Hr)!==0;if(d){var b=n;i=De?dn(Vt(b)):b.appendChild(Gr())}De&&Ln();var h=null,c=!1,g=new Map,j=We(()=>{var P=t();return Qn(P)?P:P==null?[]:Fr(P)}),S,A;function R(){yo(A,S,l,g,i,o,e,r,t),s!==null&&(S.length===0?h?Vr(h):h=Xt(()=>s(i)):h!==null&&Vs(h,()=>{h=null}))}Xn(()=>{A??(A=Ur),S=a(j);var P=S.length;if(c&&P===0)return;c=P===0;let T=!1;if(De){var B=Gs(i)===Os;B!==(P===0)&&(i=cr(),dn(i),Yt(!1),T=!0)}if(De){for(var L=null,m,f=0;f<P;f++){if(Ct.nodeType===Or&&Ct.data===Hs){i=Ct,T=!0,Yt(!1);break}var N=S[f],_=r(N,f);m=qn(Ct,l,L,null,N,_,f,o,e,t),l.items.set(_,m),L=m}P>0&&dn(cr())}if(De)P===0&&s&&(h=Xt(()=>s(i)));else if(Fs()){var U=new Set,K=Lt;for(f=0;f<P;f+=1){N=S[f],_=r(N,f);var O=l.items.get(_)??g.get(_);O?(e&(xn|wn))!==0&&Jr(O,N,f,e):(m=qn(null,l,null,null,N,_,f,o,e,t,!0),g.set(_,m)),U.add(_)}for(const[M,$]of l.items)U.has(M)||K.skipped_effects.add($.e);K.add_callback(R)}else R();T&&Yt(!0),a(j)}),De&&(i=Ct)}function yo(n,e,t,r,o,s,i,l,d){var I,q,W,Y;var b=(i&Ys)!==0,h=(i&(xn|wn))!==0,c=e.length,g=t.items,j=t.first,S=j,A,R=null,P,T=[],B=[],L,m,f,N;if(b)for(N=0;N<c;N+=1)L=e[N],m=l(L,N),f=g.get(m),f!==void 0&&((I=f.a)==null||I.measure(),(P??(P=new Set)).add(f));for(N=0;N<c;N+=1){if(L=e[N],m=l(L,N),f=g.get(m),f===void 0){var _=r.get(m);if(_!==void 0){r.delete(m),g.set(m,_);var U=R?R.next:S;at(t,R,_),at(t,_,U),Nn(_,U,o),R=_}else{var K=S?S.e.nodes_start:o;R=qn(K,t,R,R===null?t.first:R.next,L,m,N,s,i,d)}g.set(m,R),T=[],B=[],S=R.next;continue}if(h&&Jr(f,L,N,i),(f.e.f&Cn)!==0&&(Vr(f.e),b&&((q=f.a)==null||q.unfix(),(P??(P=new Set)).delete(f))),f!==S){if(A!==void 0&&A.has(f)){if(T.length<B.length){var O=B[0],M;R=O.prev;var $=T[0],x=T[T.length-1];for(M=0;M<T.length;M+=1)Nn(T[M],O,o);for(M=0;M<B.length;M+=1)A.delete(B[M]);at(t,$.prev,x.next),at(t,R,$),at(t,x,O),S=O,R=x,N-=1,T=[],B=[]}else A.delete(f),Nn(f,S,o),at(t,f.prev,f.next),at(t,f,R===null?t.first:R.next),at(t,R,f),R=f;continue}for(T=[],B=[];S!==null&&S.k!==m;)(S.e.f&Cn)===0&&(A??(A=new Set)).add(S),B.push(S),S=S.next;if(S===null)continue;f=S}T.push(f),R=f,S=f.next}if(S!==null||A!==void 0){for(var w=A===void 0?[]:Fr(A);S!==null;)(S.e.f&Cn)===0&&w.push(S),S=S.next;var y=w.length;if(y>0){var E=(i&Hr)!==0&&c===0?o:null;if(b){for(N=0;N<y;N+=1)(W=w[N].a)==null||W.measure();for(N=0;N<y;N+=1)(Y=w[N].a)==null||Y.fix()}bo(t,w,E)}}b&&Ws(()=>{var V;if(P!==void 0)for(f of P)(V=f.a)==null||V.apply()}),n.first=t.first&&t.first.e,n.last=R&&R.e;for(var u of r.values())Qt(u.e);r.clear()}function Jr(n,e,t,r){(r&xn)!==0&&ur(n.v,e),(r&wn)!==0?ur(n.i,t):n.i=t}function qn(n,e,t,r,o,s,i,l,d,b,h){var c=(d&xn)!==0,g=(d&Us)===0,j=c?g?ve(o,!1,!1):dr(o):o,S=(d&wn)===0?i:dr(i),A={i:S,v:j,k:s,a:null,e:null,prev:t,next:r};try{if(n===null){var R=document.createDocumentFragment();R.append(n=Gr())}return A.e=Xt(()=>l(n,j,S,b),De),A.e.prev=t&&t.e,A.e.next=r&&r.e,t===null?h||(e.first=A):(t.next=A,t.e.next=A.e),r!==null&&(r.prev=A,r.e.prev=A.e),A}finally{}}function Nn(n,e,t){for(var r=n.next?n.next.e.nodes_start:t,o=e?e.e.nodes_start:t,s=n.e.nodes_start;s!==null&&s!==r;){var i=Wr(s);o.before(s),s=i}}function at(n,e,t){e===null?n.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function pr(n,e,t=!1,r=!1,o=!1){var s=n,i="";re(()=>{var l=Ur;if(i===(i=e()??"")){De&&Ln();return}if(l.nodes_start!==null&&(Xs(l.nodes_start,l.nodes_end),l.nodes_start=l.nodes_end=null),i!==""){if(De){Ct.data;for(var d=Ln(),b=d;d!==null&&(d.nodeType!==Or||d.data!=="");)b=d,d=Wr(d);if(d===null)throw Qs(),eo;fr(Ct,b),s=dn(d);return}var h=i+"";t?h=`<svg>${h}</svg>`:r&&(h=`<math>${h}</math>`);var c=to(h);if((t||r)&&(c=Vt(c)),fr(Vt(c),c.lastChild),t||r)for(;Vt(c);)s.before(Vt(c));else s.before(c)}})}function xo(n,e){var t=void 0,r;Xn(()=>{t!==(t=e())&&(r&&(Qt(r),r=null),t&&(r=Xt(()=>{Yr(()=>t(n))})))})}function Xr(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=Xr(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Qr(){for(var n,e,t=0,r="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=Xr(n))&&(r&&(r+=" "),r+=e);return r}function Ze(n){return typeof n=="object"?Qr(n):n??""}const mr=[...` 	
\r\fÂ \v\uFEFF`];function wo(n,e,t){var r=n==null?"":""+n;if(e&&(r=r?r+" "+e:e),t){for(var o in t)if(t[o])r=r?r+" "+o:o;else if(r.length)for(var s=o.length,i=0;(i=r.indexOf(o,i))>=0;){var l=i+s;(i===0||mr.includes(r[i-1]))&&(l===r.length||mr.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function gr(n,e=!1){var t=e?" !important;":";",r="";for(var o in n){var s=n[o];s!=null&&s!==""&&(r+=" "+o+": "+s+t)}return r}function Sn(n){return n[0]!=="-"||n[1]!=="-"?n.toLowerCase():n}function _o(n,e){if(e){var t="",r,o;if(Array.isArray(e)?(r=e[0],o=e[1]):r=e,n){n=String(n).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var s=!1,i=0,l=!1,d=[];r&&d.push(...Object.keys(r).map(Sn)),o&&d.push(...Object.keys(o).map(Sn));var b=0,h=-1;const A=n.length;for(var c=0;c<A;c++){var g=n[c];if(l?g==="/"&&n[c-1]==="*"&&(l=!1):s?s===g&&(s=!1):g==="/"&&n[c+1]==="*"?l=!0:g==='"'||g==="'"?s=g:g==="("?i++:g===")"&&i--,!l&&s===!1&&i===0){if(g===":"&&h===-1)h=c;else if(g===";"||c===A-1){if(h!==-1){var j=Sn(n.substring(b,h).trim());if(!d.includes(j)){g!==";"&&c++;var S=n.substring(b,c).trim();t+=" "+S+";"}}b=c+1,h=-1}}}}return r&&(t+=gr(r)),o&&(t+=gr(o,!0)),t=t.trim(),t===""?null:t}return n==null?null:String(n)}function Ae(n,e,t,r,o,s){var i=n.__className;if(De||i!==t||i===void 0){var l=wo(t,r,s);(!De||l!==n.getAttribute("class"))&&(l==null?n.removeAttribute("class"):e?n.className=l:n.setAttribute("class",l)),n.__className=t}else if(s&&o!==s)for(var d in s){var b=!!s[d];(o==null||b!==!!o[d])&&n.classList.toggle(d,b)}return s}function Pn(n,e={},t,r){for(var o in t){var s=t[o];e[o]!==s&&(t[o]==null?n.style.removeProperty(o):n.style.setProperty(o,s,r))}}function tr(n,e,t,r){var o=n.__style;if(De||o!==e){var s=_o(e,r);(!De||s!==n.getAttribute("style"))&&(s==null?n.removeAttribute("style"):n.style.cssText=s),n.__style=e}else r&&(Array.isArray(r)?(Pn(n,t==null?void 0:t[0],r[0]),Pn(n,t==null?void 0:t[1],r[1],"important")):Pn(n,t,r));return r}function Dn(n,e,t=!1){if(n.multiple){if(e==null)return;if(!Qn(e))return no();for(var r of n.options)r.selected=e.includes(br(r));return}for(r of n.options){var o=br(r);if(ro(o,e)){r.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function ko(n){var e=new MutationObserver(()=>{Dn(n,n.__value)});e.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Kr(()=>{e.disconnect()})}function br(n){return"__value"in n?n.__value:n.value}const Gt=Symbol("class"),Ot=Symbol("style"),es=Symbol("is custom element"),ts=Symbol("is html");function Bn(n){if(De){var e=!1,t=()=>{if(!e){if(e=!0,n.hasAttribute("value")){var r=n.value;ze(n,"value",null),n.value=r}if(n.hasAttribute("checked")){var o=n.checked;ze(n,"checked",null),n.checked=o}}};n.__on_r=t,lo(t),$s()}}function Co(n,e){e?n.hasAttribute("selected")||n.setAttribute("selected",""):n.removeAttribute("selected")}function ze(n,e,t,r){var o=ns(n);De&&(o[e]=n.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&n.nodeName==="LINK")||o[e]!==(o[e]=t)&&(e==="loading"&&(n[uo]=t),t==null?n.removeAttribute(e):typeof t!="string"&&rs(n).includes(e)?n[e]=t:n.setAttribute(e,t))}function To(n,e,t,r,o=!1){var s=ns(n),i=s[es],l=!s[ts];let d=De&&i;d&&Yt(!1);var b=e||{},h=n.tagName==="OPTION";for(var c in e)c in t||(t[c]=null);t.class?t.class=Ze(t.class):t[Gt]&&(t.class=null),t[Ot]&&(t.style??(t.style=null));var g=rs(n);for(const B in t){let L=t[B];if(h&&B==="value"&&L==null){n.value=n.__value="",b[B]=L;continue}if(B==="class"){var j=n.namespaceURI==="http://www.w3.org/1999/xhtml";Ae(n,j,L,r,e==null?void 0:e[Gt],t[Gt]),b[B]=L,b[Gt]=t[Gt];continue}if(B==="style"){tr(n,L,e==null?void 0:e[Ot],t[Ot]),b[B]=L,b[Ot]=t[Ot];continue}var S=b[B];if(!(L===S&&!(L===void 0&&n.hasAttribute(B)))){b[B]=L;var A=B[0]+B[1];if(A!=="$$")if(A==="on"){const m={},f="$$"+B;let N=B.slice(2);var R=Bs(N);if(zs(N)&&(N=N.slice(0,-7),m.capture=!0),!R&&S){if(L!=null)continue;n.removeEventListener(N,b[f],m),b[f]=null}if(L!=null)if(R)n[`__${N}`]=L,Ls([N]);else{let _=function(U){b[B].call(this,U)};b[f]=Rs(N,n,_,m)}else R&&(n[`__${N}`]=void 0)}else if(B==="style")ze(n,B,L);else if(B==="autofocus")qs(n,!!L);else if(!i&&(B==="__value"||B==="value"&&L!=null))n.value=n.__value=L;else if(B==="selected"&&h)Co(n,L);else{var P=B;l||(P=Ds(P));var T=P==="defaultValue"||P==="defaultChecked";if(L==null&&!i&&!T)if(s[B]=null,P==="value"||P==="checked"){let m=n;const f=e===void 0;if(P==="value"){let N=m.defaultValue;m.removeAttribute(P),m.defaultValue=N,m.value=m.__value=f?N:null}else{let N=m.defaultChecked;m.removeAttribute(P),m.defaultChecked=N,m.checked=f?N:!1}}else n.removeAttribute(B);else T||g.includes(P)&&(i||typeof L!="string")?(n[P]=L,P in s&&(s[P]=co)):typeof L!="function"&&ze(n,P,L)}}}return d&&Yt(!0),b}function mt(n,e,t=[],r=[],o,s=!1){ao(t,r,i=>{var l=void 0,d={},b=n.nodeName==="SELECT",h=!1;if(Xn(()=>{var g=e(...i.map(a)),j=To(n,l,g,o,s);h&&b&&"value"in g&&Dn(n,g.value);for(let A of Object.getOwnPropertySymbols(d))g[A]||Qt(d[A]);for(let A of Object.getOwnPropertySymbols(g)){var S=g[A];A.description===io&&(!l||S!==l[A])&&(d[A]&&Qt(d[A]),d[A]=Xt(()=>xo(n,()=>S))),j[A]=S}l=j}),b){var c=n;Yr(()=>{Dn(c,l.value,!0),ko(c)})}h=!0})}function ns(n){return n.__attributes??(n.__attributes={[es]:n.nodeName.includes("-"),[ts]:n.namespaceURI===so})}var yr=new Map;function rs(n){var e=yr.get(n.nodeName);if(e)return e;yr.set(n.nodeName,e=[]);for(var t,r=n,o=Element.prototype;o!==r;){t=fo(r);for(var s in t)t[s].set&&e.push(s);r=oo(r)}return e}function xr(n,e,t=e){var r=vo(),o=new WeakSet;Jn(n,"input",s=>{var i=s?n.defaultValue:n.value;if(i=In(n)?An(i):i,t(i),Lt!==null&&o.add(Lt),r&&i!==(i=e())){var l=n.selectionStart,d=n.selectionEnd;n.value=i??"",d!==null&&(n.selectionStart=l,n.selectionEnd=Math.min(d,n.value.length))}}),(De&&n.defaultValue!==n.value||z(e)==null&&n.value)&&(t(In(n)?An(n.value):n.value),Lt!==null&&o.add(Lt)),_n(()=>{var s=e();if(n===document.activeElement){var i=ho??Lt;if(o.has(i))return}In(n)&&s===An(n.value)||n.type==="date"&&!s&&!n.value||s!==n.value&&(n.value=s??"")})}function No(n,e,t=e){Jn(n,"change",r=>{var o=r?n.defaultChecked:n.checked;t(o)}),(De&&n.defaultChecked!==n.checked||z(e)==null)&&t(n.checked),_n(()=>{var r=e();n.checked=!!r})}function In(n){var e=n.type;return e==="number"||e==="range"}function An(n){return n===""?null:+n}function So(n,e,t=e){Jn(n,"change",()=>{t(n.files)}),De&&n.files&&t(n.files),_n(()=>{n.files=e()})}function Kt(n,e,t){var r=po(n,e);r&&r.set&&(n[e]=t,Kr(()=>{n[e]=null}))}function Po(n,e,t,r=t){e.addEventListener("input",()=>{r(e[n])}),_n(()=>{var o=t();if(e[n]!==o)if(o==null){var s=e[n];r(s)}else e[n]=o+""})}function Io(n){return function(...e){var t=e[0];return t.stopPropagation(),n==null?void 0:n.apply(this,e)}}function un(n,e){var s;var t=(s=n.$$events)==null?void 0:s[e.type],r=Qn(t)?t.slice():t==null?[]:[t];for(var o of r)o.call(this,e)}async function nr(n,e={},t){return window.__TAURI_INTERNALS__.invoke(n,e,t)}var wr;(function(n){n.Nsis="nsis",n.Msi="msi",n.Deb="deb",n.Rpm="rpm",n.AppImage="appimage",n.App="app"})(wr||(wr={}));async function Ao(){return nr("plugin:app|version")}async function Eo(){return nr("plugin:app|name")}function Mo(n,e){return n==="system"?e||(typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"):n}const it=Br("system"),pn=Br("light"),mn=js([it,pn],([n,e])=>Mo(n,e)),_r="nodespace-theme-preference";function $o(){const n=localStorage.getItem(_r);n&&["light","dark","system"].includes(n)&&it.set(n);const e=window.matchMedia("(prefers-color-scheme: dark)");pn.set(e.matches?"dark":"light");const t=s=>{pn.set(s.matches?"dark":"light")};e.addEventListener("change",t),kr(Rn(mn));const r=mn.subscribe(kr),o=it.subscribe(s=>{localStorage.setItem(_r,s)});return()=>{e.removeEventListener("change",t),r(),o()}}function kr(n){document.documentElement.setAttribute("data-theme",n),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(n),window.dispatchEvent(new CustomEvent("themechange",{detail:{theme:n}}))}function Zt(n){it.set(n)}function zo(){const n=Rn(it);if(n==="system"){const e=Rn(pn);Zt(e==="dark"?"light":"dark")}else Zt(n==="light"?"dark":"light")}function Ro(){Zt("system")}var Lo=G('<div class="theme-provider svelte-1uxr1pi"><!></div>');function qo(n,e){Re(e,!1);const[t,r]=Zr(),o=()=>hn(mn,"$currentTheme",t),s=()=>hn(it,"$themePreference",t);let i=ne(e,"enableTransitions",8,!0),l=ne(e,"transitionDuration",8,300),d=ve(),b;It(()=>{if(b=$o(),i()){const g=document.createElement("style");g.id="nodespace-theme-transitions",g.textContent=`
        * {
          transition: 
            color ${l()}ms cubic-bezier(0.4, 0, 0.2, 1),
            background-color ${l()}ms cubic-bezier(0.4, 0, 0.2, 1),
            border-color ${l()}ms cubic-bezier(0.4, 0, 0.2, 1),
            box-shadow ${l()}ms cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* Prevent transitions during initial load */
        .no-transitions * {
          transition: none !important;
        }
      `,document.head.appendChild(g),setTimeout(()=>{document.body.classList.remove("no-transitions")},100)}}),jr(()=>{b&&b();const g=document.getElementById("nodespace-theme-transitions");g&&g.remove()}),Be(()=>(a(d),o(),s(),vr),()=>{H(d,{theme:o(),preference:s(),setTheme:Zt,toggleTheme:zo,resetThemeToSystem:Ro}),vr("theme",a(d))}),lt(),st();var h=Lo(),c=p(h);Wt(c,e,"default",{get themeContext(){return a(d)}},null),v(h),re(()=>ze(h,"data-theme",o())),k(n,h),Le(),r()}const Do="M160-400v-80h280v80H160Zm0-160v-80h440v80H160Zm0-160v-80h440v80H160Zm360 560v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q8 9 12.5 20t4.5 22q0 11-4 22.5T863-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z";var Bo=er("<path></path>"),jo=er('<rect x="200" y="-760" width="560" height="560" rx="40"></rect>'),Go=er('<svg viewBox="0 -960 960 960" role="img"><!></svg>');function Oo(n,e){Re(e,!1);const t=ve(),r={text:Do};let o=ne(e,"name",8),s=ne(e,"size",8,20),i=ne(e,"className",8,""),l=ne(e,"color",8,"currentColor");Be(()=>Ne(o()),()=>{H(t,r[o()])}),Be(()=>(a(t),Ne(o())),()=>{a(t)||console.warn(`Icon "${o()}" not found in registry`)}),lt();var d=Go(),b=p(d);{var h=g=>{var j=Bo();re(()=>ze(j,"d",a(t))),k(g,j)},c=g=>{var j=jo();k(g,j)};de(b,g=>{a(t)?g(h):g(c,!1)})}v(d),re(()=>{ze(d,"width",s()),ze(d,"height",s()),ze(d,"fill",l()),Ae(d,0,`ns-icon ns-icon--${o()} ${i()}`,"svelte-1yloz1g"),ze(d,"aria-label",`${o()} icon`)}),k(n,d),Le()}class Ho{constructor(){Fe(this,"subscribers",[]);Fe(this,"lastDetectionMetrics");Fe(this,"lastPatterns",[]);this.lastDetectionMetrics=this.createEmptyMetrics()}detectPatterns(e,t={}){const r=performance.now(),o=this.mergeDefaultOptions(t),s=[],i=[];try{const l=performance.now();o.detectHeaders&&i.push(...this.detectHeaders(e,o)),o.detectBullets&&i.push(...this.detectBullets(e,o)),o.detectBlockquotes&&i.push(...this.detectBlockquotes(e,o)),o.detectCodeBlocks&&i.push(...this.detectCodeBlocks(e,o));const d=performance.now(),b=performance.now();(o.detectBold||o.detectItalic||o.detectInlineCode)&&i.push(...this.detectInlinePatterns(e,i,o));const h=performance.now(),c=performance.now()-r;i.sort((j,S)=>j.start-S.start),this.lastDetectionMetrics={blockDetectionTime:d-l,inlineDetectionTime:h-b,totalTime:c,regexOperations:this.countRegexOperations(o),contentLength:e.length,patternsPerMs:i.length/(c||1)},c>50&&s.push(`Detection took ${c.toFixed(2)}ms, exceeding 50ms target`);const g={patterns:i,detectionTime:c,linesProcessed:e.split(`
`).length,contentLength:e.length,warnings:s};return this.emitPatternEvent("patterns_detected",i,e),this.lastPatterns=i,g}catch(l){return s.push(`Detection error: ${l instanceof Error?l.message:"Unknown error"}`),{patterns:[],detectionTime:performance.now()-r,linesProcessed:0,contentLength:e.length,warnings:s}}}detectPatternsRealtime(e,t,r={}){const o=this.detectPatterns(e,r),s=this.getCursorPosition(e,t,o.patterns);return this.emitPatternEvent("patterns_changed",o.patterns,e,s),o}detectHeaders(e,t){const r=[],o=e.split(`
`);let s=0;const i=t.maxHeaderLevel||6;for(let l=0;l<o.length;l++){const d=o[l],b=d.match(/^(#{1,6})\s+(.+)$/);if(b&&b[1].length<=i){const h=b[1],c=b[2],g=h.length;r.push({type:"header",start:s,end:s+d.length,syntax:h,content:c,level:g,line:l,column:0})}s+=d.length+1}return r}detectBullets(e,t){const r=[],o=e.split(`
`);let s=0;for(let i=0;i<o.length;i++){const l=o[i],d=l.match(/^(\s*)([-*+])\s+(.+)$/);if(d&&d[3].trim().length>0){const b=d[1],h=d[2],c=d[3],g=`${b}${h} `;r.push({type:"bullet",start:s,end:s+l.length,syntax:g,content:c,bulletType:h,line:i,column:b.length})}s+=l.length+1}return r}detectBlockquotes(e,t){const r=[],o=e.split(`
`);let s=0;for(let i=0;i<o.length;i++){const l=o[i],d=l.match(/^(\s*)(>+)\s*(.*)$/);if(d){const b=d[1],h=d[2],c=d[3],g=`${b}${h} `;r.push({type:"blockquote",start:s,end:s+l.length,syntax:g,content:c,line:i,column:b.length})}s+=l.length+1}return r}detectCodeBlocks(e,t){const r=[],o=/^```(\w+)?\n?([\s\S]*?)\n?```$/gm;let s;for(;(s=o.exec(e))!==null;){const i=s[1]||"",l=s[2]||"",d=i?`\`\`\`${i}`:"```",h=e.substring(0,s.index).split(`
`),c=h.length-1,g=h[h.length-1].length;r.push({type:"codeblock",start:s.index,end:s.index+s[0].length,syntax:d,content:l,language:i,line:c,column:g})}return r}detectInlinePatterns(e,t,r){const o=[],s=this.getProcessableRanges(e,t);for(const i of s){const l=e.substring(i.start,i.end),d=i.start;r.detectBold&&o.push(...this.detectBoldInRange(l,d)),r.detectItalic&&o.push(...this.detectItalicInRange(l,d)),r.detectInlineCode&&o.push(...this.detectInlineCodeInRange(l,d))}return o}detectBoldInRange(e,t){const r=[],o=/\*\*([^*\n]+)\*\*/g;let s;for(;(s=o.exec(e))!==null;)if(s[1]&&s[1].trim().length>0){const l=this.getLineColumn(e,s.index);r.push({type:"bold",start:t+s.index,end:t+s.index+s[0].length,syntax:"**",content:s[1],line:l.line,column:l.column})}const i=/__([^_\n]+)__/g;for(;(s=i.exec(e))!==null;)if(s[1]&&s[1].trim().length>0){const l=this.getLineColumn(e,s.index);r.push({type:"bold",start:t+s.index,end:t+s.index+s[0].length,syntax:"__",content:s[1],line:l.line,column:l.column})}return r}detectItalicInRange(e,t){const r=[],o=new RegExp("(?<!\\*)\\*([^*]+)\\*(?!\\*)","g");let s;for(;(s=o.exec(e))!==null;){const l=this.getLineColumn(e,s.index);r.push({type:"italic",start:t+s.index,end:t+s.index+s[0].length,syntax:"*",content:s[1],line:l.line,column:l.column})}const i=new RegExp("(?<!_)_([^_]+)_(?!_)","g");for(;(s=i.exec(e))!==null;){const l=this.getLineColumn(e,s.index);r.push({type:"italic",start:t+s.index,end:t+s.index+s[0].length,syntax:"_",content:s[1],line:l.line,column:l.column})}return r}detectInlineCodeInRange(e,t){const r=[],o=/`([^`]+)`/g;let s;for(;(s=o.exec(e))!==null;){const i=this.getLineColumn(e,s.index);r.push({type:"inlinecode",start:t+s.index,end:t+s.index+s[0].length,syntax:"`",content:s[1],line:i.line,column:i.column})}return r}getProcessableRanges(e,t){const r=t.filter(i=>i.type==="codeblock");if(r.length===0)return[{start:0,end:e.length}];const o=[];let s=0;for(const i of r)s<i.start&&o.push({start:s,end:i.start}),s=i.end;return s<e.length&&o.push({start:s,end:e.length}),o}getLineColumn(e,t){const o=e.substring(0,t).split(`
`);return{line:o.length-1,column:o[o.length-1].length}}getPatternAt(e,t){return this.detectPatterns(e).patterns.find(o=>t>=o.start&&t<o.end)||null}getPatternsByType(e,t){return this.detectPatterns(e).patterns.filter(o=>o.type===t)}extractPatternContent(e){return e.map(t=>t.content)}replacePatterns(e,t){let r=e;const o=t.sort((s,i)=>i.pattern.start-s.pattern.start);for(const s of o){const i=r.substring(0,s.pattern.start),l=r.substring(s.pattern.end);r=i+s.replacement+l}return r}validatePattern(e){const t=[],r=[],o=[];switch(e.start>=e.end&&t.push("Invalid pattern range: start must be less than end"),!e.content&&e.type!=="codeblock"&&(r.push("Pattern has no content"),o.push("Consider removing empty pattern")),e.type){case"header":(!e.level||e.level<1||e.level>6)&&t.push("Header level must be between 1 and 6");break;case"bullet":(!e.bulletType||!["*","-","+"].includes(e.bulletType))&&t.push("Invalid bullet type, must be *, -, or +");break;case"codeblock":e.language&&!/^[a-zA-Z][a-zA-Z0-9-]*$/.test(e.language)&&r.push("Language specification contains unusual characters");break}return{isValid:t.length===0,errors:t,warnings:r,suggestions:o}}getMetrics(){return{...this.lastDetectionMetrics}}subscribe(e){return this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);t>-1&&this.subscribers.splice(t,1)}}mergeDefaultOptions(e){return{detectHeaders:!0,detectBullets:!0,detectBlockquotes:!0,detectCodeBlocks:!0,detectBold:!0,detectItalic:!0,detectInlineCode:!0,maxHeaderLevel:6,includePositions:!0,performanceMode:!1,...e}}createEmptyMetrics(){return{blockDetectionTime:0,inlineDetectionTime:0,totalTime:0,regexOperations:0,contentLength:0,patternsPerMs:0}}countRegexOperations(e){let t=0;return e.detectHeaders&&t++,e.detectBullets&&t++,e.detectBlockquotes&&t++,e.detectCodeBlocks&&t++,e.detectBold&&(t+=2),e.detectItalic&&(t+=2),e.detectInlineCode&&t++,t}getCursorPosition(e,t,r){const o=this.getLineColumn(e,t),s=r.find(i=>t>=i.start&&t<i.end);return{position:t,line:o.line,column:o.column,atPatternStart:(s==null?void 0:s.start)===t,atPatternEnd:(s==null?void 0:s.end)===t,currentPattern:s}}emitPatternEvent(e,t,r,o){const s={type:e,patterns:t,content:r,cursorPosition:o,timestamp:Date.now()};if(e==="patterns_changed"){const i=t.filter(d=>!this.lastPatterns.some(b=>this.patternsEqual(d,b))),l=this.lastPatterns.filter(d=>!t.some(b=>this.patternsEqual(b,d)));s.addedPatterns=i,s.removedPatterns=l}this.subscribers.forEach(i=>{try{i(s)}catch(l){console.warn("Pattern detection event callback error:",l)}})}patternsEqual(e,t){return e.type===t.type&&e.start===t.start&&e.end===t.end&&e.content===t.content&&e.syntax===t.syntax}}const jn=new Ho;class Fo{toCSSClasses(e){const t={};for(const r of e)for(let o=r.start;o<r.end;o++){switch(t[o]||(t[o]=[]),r.type){case"header":t[o].push("markdown-header",`markdown-header-${r.level}`);break;case"bold":t[o].push("markdown-bold");break;case"italic":t[o].push("markdown-italic");break;case"inlinecode":t[o].push("markdown-inline-code");break;case"codeblock":t[o].push("markdown-code-block"),r.language&&t[o].push(`markdown-code-${r.language}`);break;case"bullet":t[o].push("markdown-bullet",`markdown-bullet-${r.bulletType}`);break;case"blockquote":t[o].push("markdown-blockquote");break}this.isSyntaxCharacter(o,r)&&t[o].push("markdown-syntax","markdown-syntax-hidden")}return t}toHTMLStructure(e,t){const r=document.createElement("div");if(r.className="markdown-content",t.length===0)return r.textContent=e,r;let o=0;const s=[...t].sort((i,l)=>i.start-l.start);for(const i of s){if(o<i.start){const d=document.createTextNode(e.substring(o,i.start));r.appendChild(d)}const l=this.createPatternElement(i);r.appendChild(l),o=i.end}if(o<e.length){const i=document.createTextNode(e.substring(o));r.appendChild(i)}return r}adjustCursorForPatterns(e,t,r){const o=r.find(i=>t>=i.start&&t<i.end);if(!o)return t;const s=this.getSyntaxLength(o);return t<o.start+s?o.start+s:t>o.end-s?o.end-s:t}extractBulletPatterns(e){return e.filter(t=>t.type==="bullet").sort((t,r)=>t.start-r.start)}detectSoftNewlineContext(e,t,r){const o=e.lastIndexOf(`
`,t-1)+1,s=e.indexOf(`
`,t),i=s===-1?e.length:s,l=e.substring(o,i),d=r.find(h=>t>=h.start&&t<=h.end);if(d)switch(d.type){case"codeblock":case"blockquote":return!0;case"bullet":return t>d.start+d.syntax.length;default:return!1}const b=l.trim();return b.startsWith(">")||b.match(/^[\s]*[-*+]\s/)!==null||b.startsWith("```")}isSyntaxCharacter(e,t){const r=this.getSyntaxLength(t);return!!(e<t.start+r||this.hasClosingSyntax(t)&&e>=t.end-r)}getSyntaxLength(e){switch(e.type){case"header":return e.syntax.length+1;case"bold":return e.syntax.length;case"italic":return e.syntax.length;case"inlinecode":return 1;case"bullet":return e.syntax.length;case"blockquote":return e.syntax.length;case"codeblock":return 3;default:return 0}}hasClosingSyntax(e){return["bold","italic","inlinecode","codeblock"].includes(e.type)}createPatternElement(e){let t;switch(e.type){case"header":t=document.createElement(`h${e.level}`),t.className=`markdown-header markdown-header-${e.level}`;break;case"bold":t=document.createElement("strong"),t.className="markdown-bold";break;case"italic":t=document.createElement("em"),t.className="markdown-italic";break;case"inlinecode":t=document.createElement("code"),t.className="markdown-inline-code";break;case"codeblock":t=document.createElement("pre");const r=document.createElement("code");return e.language&&(r.className=`language-${e.language}`),r.textContent=e.content,t.appendChild(r),t.className="markdown-code-block",t;case"bullet":t=document.createElement("li"),t.className=`markdown-bullet markdown-bullet-${e.bulletType}`;break;case"blockquote":t=document.createElement("blockquote"),t.className="markdown-blockquote";break;default:t=document.createElement("span"),t.className="markdown-unknown"}return t.textContent=e.content,t}}const en=new Fo;class Vo{constructor(e={}){Fe(this,"lastDetection",null);Fe(this,"processingTimeouts",new Map);Fe(this,"eventCallbacks",new Set);this.options=e,this.options={minContentLength:2,debounceTime:300,autoCreateNodes:!1,patternCompletionTimeout:2e3,...e}}isShiftEnter(e){return e.key==="Enter"&&e.shiftKey&&!e.ctrlKey&&!e.metaKey}processSoftNewlineContent(e,t,r="default"){const s=e.substring(0,t).lastIndexOf(`
`);if(s===-1)return this.createEmptyContext(e,t);const i=e.substring(0,s),l=e.substring(s+1);if(l.trim().length<(this.options.minContentLength||2))return this.createEmptyContext(e,t,s);const d=jn.detectPatternsRealtime(l,t-s-1),b=this.findRelevantPattern(l,d.patterns),h={hasMarkdownAfterNewline:b!==null,detectedPattern:b||void 0,contentBefore:i,contentAfter:l,newlinePosition:s,shouldCreateNewNode:b!==null&&this.shouldCreateNodeForPattern(b),suggestedNodeType:b?this.getNodeTypeForPattern(b):void 0};return this.lastDetection=h,this.emitContextChange(h),h.shouldCreateNewNode&&this.options.autoCreateNodes&&this.scheduleNodeCreation(h,r),h}getNodeCreationSuggestion(e){if(!e.detectedPattern||!e.shouldCreateNewNode)return null;const t=e.detectedPattern,r=this.getNodeTypeForPattern(t),o=this.extractCleanContent(t);return{nodeType:r,content:o,rawContent:e.contentAfter,triggerPattern:t,insertPosition:e.newlinePosition+1,relationship:this.getNodeRelationship(t)}}processRealtimeTyping(e,t,r="default"){return new Promise(o=>{const s=this.processingTimeouts.get(r);s&&clearTimeout(s);const i=setTimeout(()=>{const l=this.processSoftNewlineContent(e,t,r);this.processingTimeouts.delete(r),o(l)},this.options.debounceTime);this.processingTimeouts.set(r,i)})}cancelProcessing(e){const t=this.processingTimeouts.get(e);t&&(clearTimeout(t),this.processingTimeouts.delete(e))}subscribe(e){return this.eventCallbacks.add(e),()=>{this.eventCallbacks.delete(e)}}getLastContext(){return this.lastDetection}createEmptyContext(e,t,r){return{hasMarkdownAfterNewline:!1,contentBefore:r!==void 0?e.substring(0,r):e,contentAfter:r!==void 0?e.substring(r+1):"",newlinePosition:r||-1,shouldCreateNewNode:!1}}findRelevantPattern(e,t){if(t.length===0)return null;const r=t.filter(s=>s.start<=3);if(r.length===0)return null;const o=r.filter(s=>["header","bullet","blockquote","codeblock"].includes(s.type));return o.length>0?o[0]:r[0]}shouldCreateNodeForPattern(e){return["header","bullet","blockquote"].includes(e.type)}getNodeTypeForPattern(e){switch(e.type){case"header":return"text";case"bullet":const t=e.content.toLowerCase();return t.includes("todo")||t.includes("task")||t.includes("do ")?"task":t.includes("ask")||t.includes("question")||t.includes("?")?"ai-chat":t.includes("@")||t.includes("person")||t.includes("contact")?"entity":t.includes("search")||t.includes("find")||t.includes("query")?"query":"text";case"blockquote":return"ai-chat";case"codeblock":return"text";default:return"text"}}extractCleanContent(e){return e.content.trim()}getNodeRelationship(e){return e.type==="header"?"sibling":"child"}scheduleNodeCreation(e,t){const r=this.getNodeCreationSuggestion(e);r&&this.emitNodeCreationSuggestion(r,t)}emitContextChange(e){this.eventCallbacks.forEach(t=>{try{t(e)}catch(r){console.warn("Soft newline context callback error:",r)}})}emitNodeCreationSuggestion(e,t){const r=new CustomEvent("nodespace:node-creation-suggestion",{detail:{suggestion:e,sourceNodeId:t}});document.dispatchEvent(r)}}const gn=new Vo;class Cr{static handleKeyboardEvent(e,t,r,o,s=gn){return!!s.isShiftEnter(e)}static handleInputChange(e,t,r,o=gn){return o.processRealtimeTyping(e,t,r)}static getCursorPosition(e){const t=window.getSelection();if(!t||t.rangeCount===0)return 0;const r=t.getRangeAt(0),o=r.cloneRange();return o.selectNodeContents(e),o.setEnd(r.endContainer,r.endOffset),o.toString().length}static setCursorPosition(e,t){var d;const r=window.getSelection();if(!r)return;const o=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null);let s=0,i=o.nextNode();for(;i;){const b=((d=i.textContent)==null?void 0:d.length)||0;if(s+b>=t){const h=t-s,c=document.createRange();c.setStart(i,Math.max(0,Math.min(h,b))),c.collapse(!0),r.removeAllRanges(),r.addRange(c);return}s+=b,i=o.nextNode()}const l=document.createRange();l.selectNodeContents(e),l.collapse(!1),r.removeAllRanges(),r.addRange(l)}}class Wo{constructor(e={}){Fe(this,"config");Fe(this,"lastProcessingTime",0);Fe(this,"debounceTimeout",null);Fe(this,"subscribers",[]);Fe(this,"isProcessing",!1);this.config={enableRealTime:!0,performanceMode:!1,maxProcessingTime:50,debounceDelay:16,hideSyntax:!0,enableFormatting:!0,cssPrefix:"wysiwyg",...e}}async process(e,t,r={}){const o=performance.now(),s=[];try{this.isProcessing=!0;const i={performanceMode:this.config.performanceMode,...r},l=t!==void 0?jn.detectPatternsRealtime(e,t,i):jn.detectPatterns(e,i);s.push(...l.warnings);const d=this.config.enableFormatting?en.toCSSClasses(l.patterns):{},b=await this.generateProcessedHTML(e,l.patterns);let h=t;t!==void 0&&(h=en.adjustCursorForPatterns(e,t,l.patterns));const c=performance.now()-o;this.lastProcessingTime=c,c>this.config.maxProcessingTime&&s.push(`WYSIWYG processing took ${c.toFixed(2)}ms, exceeding ${this.config.maxProcessingTime}ms target`);const g={originalContent:e,processedHTML:b,characterClasses:this.addWYSIWYGClasses(d,l.patterns),patterns:l.patterns,processingTime:c,adjustedCursorPosition:h,warnings:s};return this.emitEvent({type:"processed",result:g,timestamp:Date.now()}),g}catch(i){const l=performance.now()-o,d=i instanceof Error?i.message:"Unknown processing error";return s.push(`Processing error: ${d}`),this.emitEvent({type:"error",error:d,timestamp:Date.now()}),{originalContent:e,processedHTML:this.escapeHTML(e),characterClasses:{},patterns:[],processingTime:l,warnings:s}}finally{this.isProcessing=!1}}processRealTime(e,t,r){if(!this.config.enableRealTime)return;this.debounceTimeout!==null&&clearTimeout(this.debounceTimeout);const o=this.lastProcessingTime>this.config.maxProcessingTime?this.config.debounceDelay*2:this.config.debounceDelay;this.debounceTimeout=setTimeout(async()=>{try{const s=await this.process(e,t);r(s)}catch(s){console.warn("Real-time WYSIWYG processing error:",s)}this.debounceTimeout=null},o)}async generateProcessedHTML(e,t){if(!this.config.hideSyntax&&!this.config.enableFormatting)return this.escapeHTML(e);const r=[...t].sort((i,l)=>i.start-l.start);let o="",s=0;for(const i of r)s<i.start&&(o+=this.escapeHTML(e.substring(s,i.start))),o+=await this.processPattern(i,e.substring(i.start,i.end)),s=i.end;return s<e.length&&(o+=this.escapeHTML(e.substring(s))),o}async processPattern(e,t){const r=this.getPatternCSSClasses(e),o=this.escapeHTML(e.content);switch(e.type){case"header":return this.config.hideSyntax?`<span class="${r}" data-syntax="${this.escapeHTML(e.syntax)} ">${o}</span>`:`<span class="${r}">${this.escapeHTML(t)}</span>`;case"bold":return this.config.hideSyntax?`<span class="${r}" data-syntax-before="${this.escapeHTML(e.syntax)}" data-syntax-after="${this.escapeHTML(e.syntax)}">${o}</span>`:`<span class="${r}">${this.escapeHTML(t)}</span>`;case"italic":return this.config.hideSyntax?`<span class="${r}" data-syntax-before="${this.escapeHTML(e.syntax)}" data-syntax-after="${this.escapeHTML(e.syntax)}">${o}</span>`:`<span class="${r}">${this.escapeHTML(t)}</span>`;case"inlinecode":return this.config.hideSyntax?`<span class="${r}" data-syntax-before="\`" data-syntax-after="\`">${o}</span>`:`<span class="${r}">${this.escapeHTML(t)}</span>`;case"bullet":return this.config.hideSyntax?`<span class="${r}" data-syntax="${this.escapeHTML(e.syntax)}">${o}</span>`:`<span class="${r}">${this.escapeHTML(t)}</span>`;case"blockquote":return this.config.hideSyntax?`<span class="${r}" data-syntax="${this.escapeHTML(e.syntax)}">${o}</span>`:`<span class="${r}">${this.escapeHTML(t)}</span>`;case"codeblock":if(this.config.hideSyntax){const s=e.language?`\`\`\`${e.language}`:"```";return`<span class="${r}" data-syntax-before="${s}" data-syntax-after="\`\`\`">${o}</span>`}else return`<span class="${r}">${this.escapeHTML(t)}</span>`;default:return this.escapeHTML(t)}}getPatternCSSClasses(e){const t=[`${this.config.cssPrefix}-${e.type}`];switch(e.type){case"header":t.push(`${this.config.cssPrefix}-header-${e.level}`);break;case"bullet":t.push(`${this.config.cssPrefix}-bullet-${e.bulletType}`);break;case"codeblock":e.language&&t.push(`${this.config.cssPrefix}-code-${e.language}`);break}return this.config.hideSyntax&&t.push(`${this.config.cssPrefix}-syntax-hidden`),t.join(" ")}addWYSIWYGClasses(e,t){const r={...e};for(const o of t)for(let s=o.start;s<o.end;s++){r[s]||(r[s]=[]);const i=r[s].map(l=>`${this.config.cssPrefix}-${l}`);r[s]=[...r[s],...i],this.config.hideSyntax&&this.isSyntaxPosition(s,o)&&r[s].push(`${this.config.cssPrefix}-syntax`,`${this.config.cssPrefix}-syntax-hidden`)}return r}isSyntaxPosition(e,t){const r=this.getSyntaxLength(t);return!!(e<t.start+r||this.hasClosingSyntax(t)&&e>=t.end-r)}getSyntaxLength(e){switch(e.type){case"header":return e.syntax.length+1;case"bold":case"italic":return e.syntax.length;case"inlinecode":return 1;case"bullet":return e.syntax.length;case"blockquote":return e.syntax.length;case"codeblock":return 3;default:return 0}}hasClosingSyntax(e){return["bold","italic","inlinecode","codeblock"].includes(e.type)}escapeHTML(e){const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return e.replace(/[&<>"']/g,r=>t[r])}subscribe(e){return this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);t>-1&&this.subscribers.splice(t,1)}}getConfig(){return{...this.config}}updateConfig(e){this.config={...this.config,...e}}getMetrics(){return{lastProcessingTime:this.lastProcessingTime,isProcessing:this.isProcessing,averageProcessingTime:this.lastProcessingTime}}cancelPendingProcessing(){this.debounceTimeout!==null&&(clearTimeout(this.debounceTimeout),this.debounceTimeout=null)}emitEvent(e){this.subscribers.forEach(t=>{try{t(e)}catch(r){console.warn("WYSIWYG event callback error:",r)}})}}const Tr=new Wo;var Uo=G("<div></div>"),Yo=G('<div contenteditable="true" role="textbox" tabindex="0" aria-label="Editable content"> </div>'),Ko=G("<span><!></span>"),Zo=G('<span class="ns-node__empty svelte-1tgptln"> </span>'),Jo=G('<div class="ns-node__display ns-node__display--clickable svelte-1tgptln" role="button" tabindex="0" aria-label="Click to edit content"><!></div>'),Xo=G("<span><!></span>"),Qo=G('<span class="ns-node__empty svelte-1tgptln"> </span>'),ea=G('<div class="ns-node__display svelte-1tgptln" role="region"><!></div>'),ta=G('<div role="button" tabindex="0"><header class="ns-node__header svelte-1tgptln"><div class="ns-node__indicator svelte-1tgptln"><!></div> <div class="ns-node__content svelte-1tgptln"><!> <!></div></header></div>');function kn(n,e){Re(e,!1);const t=ve(),r=ve(),o=ve();let s=ne(e,"nodeType",8,"text"),i=ne(e,"nodeId",8,""),l=ne(e,"content",12,""),d=ne(e,"hasChildren",8,!1),b=ne(e,"className",8,""),h=ne(e,"editable",8,!0),c=ne(e,"contentEditable",8,!0),g=ne(e,"multiline",8,!1),j=ne(e,"placeholder",8,"Click to add content..."),S=ne(e,"iconName",8,void 0),A=ne(e,"isProcessing",8,!1),R=ne(e,"processingAnimation",8,"pulse"),P=ne(e,"processingIcon",8,void 0),T=ne(e,"enableWYSIWYG",8,!0),B=ne(e,"wysiwygConfig",24,()=>({enableRealTime:!0,performanceMode:!1,maxProcessingTime:50,debounceDelay:16,hideSyntax:!0,enableFormatting:!0})),L=ve(!1),m=ve(),f=ve(null),N=ve(!1);const _=yn();function U(D){!h()||!c()||a(L)||O(D)}function K(D){_("click",{nodeId:i(),event:D}),!a(L)&&h()&&c()&&D.target.closest(".ns-node__display--clickable")&&U(D)}async function O(D){H(L,!0),_("focus",{nodeId:i()}),await fn(),a(m)&&(a(m).focus(),D?(await fn(),M(D)):$())}async function M(D){if(a(m))try{let ie;if(document.caretPositionFromPoint){if(ie=document.caretPositionFromPoint(D.clientX,D.clientY),ie){const ae=window.getSelection(),ce=document.createRange();ce.setStart(ie.offsetNode,ie.offset),ce.collapse(!0),ae==null||ae.removeAllRanges(),ae==null||ae.addRange(ce)}}else if(document.caretRangeFromPoint){const ae=document.caretRangeFromPoint(D.clientX,D.clientY);if(ae){const ce=window.getSelection();ce==null||ce.removeAllRanges(),ce==null||ce.addRange(ae)}}else $()}catch(ie){console.error("Error positioning cursor from click:",ie),$()}}function $(){if(!a(m))return;const D=window.getSelection(),ie=document.createRange();ie.selectNodeContents(a(m)),ie.collapse(!1),D==null||D.removeAllRanges(),D==null||D.addRange(ie)}function x(D){const ie=D.currentTarget;let ae=ie.textContent||"";g()||(ae=ae.replace(/\n/g," "),ae!==ie.textContent&&(ie.textContent=ae,$())),l(ae),T()&&a(L)&&I(ae),_("contentChanged",{nodeId:i(),content:l()}),g()&&ae.includes(`
`)&&w(ae)}async function w(D){if(a(m))try{const ie=Cr.getCursorPosition(a(m)),ae=await Cr.handleInputChange(D,ie,i());_("softNewlineContext",{nodeId:i(),context:ae});const ce=gn.getNodeCreationSuggestion(ae);ce&&_("nodeCreationSuggested",{nodeId:i(),suggestion:ce})}catch(ie){console.warn("Error processing soft newline context:",ie)}}function y(){a(L)&&(H(L,!1),_("blur",{nodeId:i()}))}function E(D){if(a(L)){if(D.key==="Escape"){D.preventDefault(),H(L,!1),_("blur",{nodeId:i()});return}if(g()&&D.key==="Enter"&&D.shiftKey)return;if(!g()&&D.key==="Enter"&&!D.shiftKey){D.preventDefault(),H(L,!1),_("blur",{nodeId:i()});return}if(g()&&D.key==="Enter"&&!D.shiftKey){D.preventDefault(),H(L,!1),_("blur",{nodeId:i()});return}if((D.ctrlKey||D.metaKey)&&["b","i","u","k"].includes(D.key.toLowerCase())){D.preventDefault();return}return}h()&&c()&&(D.code==="Enter"||D.code==="Space")&&(D.preventDefault(),O())}function u(D){var Oe;D.preventDefault();const ie=((Oe=D.clipboardData)==null?void 0:Oe.getData("text/plain"))||"",ae=g()?ie:ie.replace(/\n/g," "),ce=window.getSelection();if(ce&&ce.rangeCount>0){const Me=ce.getRangeAt(0);Me.deleteContents(),Me.insertNode(document.createTextNode(ae)),Me.collapse(!1),ce.removeAllRanges(),ce.addRange(Me)}a(m)&&(l(a(m).textContent||""),_("contentChanged",{nodeId:i(),content:l()}))}async function I(D){if(!(!T()||!a(m)))try{H(N,!0);const ae=window.getSelection()?q():void 0;Tr.processRealTime(D,ae||0,ce=>{H(f,ce),W(ce),H(N,!1)})}catch(ie){console.warn("WYSIWYG processing error:",ie),H(N,!1)}}function q(){if(!a(m))return 0;const D=window.getSelection();if(!D||D.rangeCount===0)return 0;const ie=D.getRangeAt(0),ae=ie.cloneRange();return ae.selectNodeContents(a(m)),ae.setEnd(ie.endContainer,ie.endOffset),ae.toString().length}function W(D){if(!a(m)||!D.characterClasses)return;const ie=Array.from(a(m).classList).filter(ce=>!ce.startsWith("wysiwyg-"));vn(m,a(m).className=ie.join(" "));const ae=new Set;Object.values(D.characterClasses).forEach(ce=>{ce.forEach(Oe=>ae.add(Oe))}),ae.forEach(ce=>{ce.startsWith("wysiwyg-")&&a(m).classList.add(ce)}),D.patterns.length>0&&vn(m,a(m).dataset.patterns=JSON.stringify(D.patterns.length))}It(()=>{T()&&Tr.updateConfig(B())});function Y(D){switch(D){case"text":return"Text";case"task":return"Task";case"ai-chat":return"AI Chat";case"entity":return"Entity";case"query":return"Query";default:return"Node"}}jr(()=>{gn.cancelProcessing(i())}),Be(()=>(Ne(s()),Ne(d()),Ne(A()),Ne(b())),()=>{H(t,["ns-node",`ns-node--${s()}`,d()&&"ns-node--has-children",A()&&"ns-node--processing",b()].filter(Boolean).join(" "))}),Be(()=>(Ne(A()),Ne(P()),Ne(S())),()=>{H(r,A()&&P()?P():S())}),Be(()=>(Ne(A()),Ne(R())),()=>{H(o,A()?`ns-node__icon--${R()}`:"")}),lt(),st();var V=ta(),se=p(V),te=p(se),ue=p(te);{var oe=D=>{Oo(D,{get name(){return a(r)},size:16,get className(){return`ns-node__icon ${a(o)??""}`}})},Ce=D=>{var ie=Uo();let ae;re(ce=>ae=Ae(ie,1,`ns-node__circle ${a(o)??""}`,"svelte-1tgptln",ae,ce),[()=>({"ns-node__circle--has-children":d()})]),k(D,ie)};de(ue,D=>{a(r)?D(oe):D(Ce,!1)})}v(te);var ge=C(te,2),he=p(ge);Wt(he,e,"content",{},D=>{var ie=ke(),ae=xe(ie);{var ce=Me=>{var Se=Yo(),ot=p(Se,!0);ot.nodeValue=l(),v(Se),rt(Se,F=>H(m,F),()=>a(m)),re(()=>{Ae(Se,1,`ns-node__contenteditable ${g()?"ns-node__contenteditable--multiline":"ns-node__contenteditable--single"} ${T()?"ns-node__contenteditable--wysiwyg":""} ${a(N)?"ns-node__contenteditable--processing":""}`,"svelte-1tgptln"),ze(Se,"data-placeholder",j()),ze(Se,"data-wysiwyg-enabled",T())}),Po("textContent",Se,l),$e("input",Se,x),$e("blur",Se,y),$e("keydown",Se,E),$e("paste",Se,u),$e("keydown",Se,Io(function(F){un.call(this,e,F)})),k(Me,Se)},Oe=Me=>{var Se=ke(),ot=xe(Se);{var F=le=>{var me=Jo(),Te=p(me);Wt(Te,e,"display-content",{},Ie=>{var Ue=ke(),ct=xe(Ue);{var tt=be=>{var _e=Ko(),Pe=p(_e);{var He=Ee=>{var Ye=ke(),Qe=xe(Ye);pr(Qe,()=>(a(f),z(()=>a(f).processedHTML))),k(Ee,Ye)},dt=Ee=>{var Ye=Je();re(()=>ee(Ye,l())),k(Ee,Ye)};de(Pe,Ee=>{T()&&a(f)?Ee(He):Ee(dt,!1)})}v(_e),re(()=>Ae(_e,1,`ns-node__text ${T()?"ns-node__text--wysiwyg":""}`,"svelte-1tgptln")),k(be,_e)},Xe=be=>{var _e=Zo(),Pe=p(_e,!0);v(_e),re(()=>ee(Pe,j())),k(be,_e)};de(ct,be=>{l()?be(tt):be(Xe,!1)})}k(Ie,Ue)}),v(me),$e("click",me,U),$e("keydown",me,Ie=>{(Ie.key==="Enter"||Ie.key===" ")&&(Ie.preventDefault(),O())}),k(le,me)},fe=le=>{var me=ea(),Te=p(me);Wt(Te,e,"display-content",{},Ie=>{var Ue=ke(),ct=xe(Ue);{var tt=be=>{var _e=Xo(),Pe=p(_e);{var He=Ee=>{var Ye=ke(),Qe=xe(Ye);pr(Qe,()=>(a(f),z(()=>a(f).processedHTML))),k(Ee,Ye)},dt=Ee=>{var Ye=Je();re(()=>ee(Ye,l())),k(Ee,Ye)};de(Pe,Ee=>{T()&&a(f)?Ee(He):Ee(dt,!1)})}v(_e),re(()=>Ae(_e,1,`ns-node__text ${T()?"ns-node__text--wysiwyg":""}`,"svelte-1tgptln")),k(be,_e)},Xe=be=>{var _e=Qo(),Pe=p(_e,!0);v(_e),re(()=>ee(Pe,j())),k(be,_e)};de(ct,be=>{l()?be(tt):be(Xe,!1)})}k(Ie,Ue)}),v(me),k(le,me)};de(ot,le=>{h()&&c()?le(F):le(fe,!1)})}k(Me,Se)};de(ae,Me=>{a(L)&&c()?Me(ce):Me(Oe,!1)})}k(D,ie)});var we=C(he,2);Wt(we,e,"default",{},null),v(ge),v(se),v(V),re(D=>{Ae(V,1,Ze(a(t)),"svelte-1tgptln"),ze(V,"aria-label",`${D??""}: ${l()||"Empty node"}`),ze(V,"data-node-id",i()),ze(V,"data-node-type",s()),ze(te,"data-node-type",s())},[()=>(Ne(s()),z(()=>Y(s())))]),$e("click",V,K),$e("keydown",V,E),k(n,V),Le()}var na=G("<p><!></p>"),ra=G("<h1><!></h1>"),sa=G("<h2><!></h2>"),oa=G("<h3><!></h3>"),aa=G("<h4><!></h4>"),ia=G("<h5><!></h5>"),la=G("<h6><!></h6>"),ca=G("<strong><!></strong>"),da=G("<em><!></em>"),ua=G("<code> </code>"),fa=G('<a target="_blank" rel="noopener noreferrer"><!></a>'),va=G("<br/>");function nt(n,e){Re(e,!1);const t=ve();let r=ne(e,"content",8,""),o=ne(e,"nodes",24,()=>[]);function s(h){if(!h)return[];const c=h.split(/\n\s*\n/),g=[];for(const j of c){if(!j.trim())continue;const S=j.match(/^(#{1,6})\s+(.+)$/);if(S){const A=S[1].length,R=S[2].trim();g.push({type:"heading",level:A,children:i(R),className:`ns-markdown-heading ns-markdown-h${A}`})}else{const A=j.replace(/\n/g,`
`);g.push({type:"paragraph",children:i(A),className:"ns-markdown-paragraph"})}}return g}function i(h){const c=[];let g=h;for(;g.length>0;){const j=g.match(/^(.+?)\n/);if(j){const S=j[1];S&&c.push(...l(S)),c.push({type:"br"}),g=g.slice(j[0].length);continue}c.push(...l(g));break}return c}function l(h){const c=[];let g=h;for(;g.length>0;){const j=g.match(/^(.*?)\*\*(.*?)\*\*(.*)/s)||g.match(/^(.*?)__(.*?)__(.*)/s);if(j){const[,P,T,B]=j;P&&c.push({type:"text",content:P}),c.push({type:"bold",children:[{type:"text",content:T}],className:"ns-markdown-bold"}),g=B;continue}const S=g.match(new RegExp("^(.*?)(?<!\\*)\\*(?!\\*)([^*]+)\\*(?!\\*)(.*)","s"))||g.match(new RegExp("^(.*?)(?<!_)_(?!_)([^_]+)_(?!_)(.*)","s"));if(S){const[,P,T,B]=S;P&&c.push({type:"text",content:P}),c.push({type:"italic",children:[{type:"text",content:T}],className:"ns-markdown-italic"}),g=B;continue}const A=g.match(/^(.*?)`([^`]+)`(.*)/s);if(A){const[,P,T,B]=A;P&&c.push({type:"text",content:P}),c.push({type:"code",content:T,className:"ns-markdown-code"}),g=B;continue}const R=g.match(/^(.*?)\[([^\]]+)\]\(([^)]+)\)(.*)/s);if(R){const[,P,T,B,L]=R;P&&c.push({type:"text",content:P}),c.push({type:"link",href:B,children:[{type:"text",content:T}],className:"ns-markdown-link"}),g=L;continue}c.push({type:"text",content:g});break}return c}Be(()=>(Ne(o()),Ne(r())),()=>{H(t,o().length>0?o():s(r()))}),lt(),st();var d=ke(),b=xe(d);et(b,1,()=>a(t),Pt,(h,c)=>{var g=ke(),j=xe(g);{var S=R=>{var P=na(),T=p(P);{let B=We(()=>(a(c),z(()=>a(c).children||[])));nt(T,{get nodes(){return a(B)}})}v(P),re(()=>Ae(P,1,Ze((a(c),z(()=>a(c).className||""))))),k(R,P)},A=R=>{var P=ke(),T=xe(P);{var B=m=>{var f=ke(),N=xe(f);{var _=K=>{var O=ra(),M=p(O);{let $=We(()=>(a(c),z(()=>a(c).children||[])));nt(M,{get nodes(){return a($)}})}v(O),re(()=>Ae(O,1,Ze((a(c),z(()=>a(c).className||""))))),k(K,O)},U=K=>{var O=ke(),M=xe(O);{var $=w=>{var y=sa(),E=p(y);{let u=We(()=>(a(c),z(()=>a(c).children||[])));nt(E,{get nodes(){return a(u)}})}v(y),re(()=>Ae(y,1,Ze((a(c),z(()=>a(c).className||""))))),k(w,y)},x=w=>{var y=ke(),E=xe(y);{var u=q=>{var W=oa(),Y=p(W);{let V=We(()=>(a(c),z(()=>a(c).children||[])));nt(Y,{get nodes(){return a(V)}})}v(W),re(()=>Ae(W,1,Ze((a(c),z(()=>a(c).className||""))))),k(q,W)},I=q=>{var W=ke(),Y=xe(W);{var V=te=>{var ue=aa(),oe=p(ue);{let Ce=We(()=>(a(c),z(()=>a(c).children||[])));nt(oe,{get nodes(){return a(Ce)}})}v(ue),re(()=>Ae(ue,1,Ze((a(c),z(()=>a(c).className||""))))),k(te,ue)},se=te=>{var ue=ke(),oe=xe(ue);{var Ce=he=>{var we=ia(),D=p(we);{let ie=We(()=>(a(c),z(()=>a(c).children||[])));nt(D,{get nodes(){return a(ie)}})}v(we),re(()=>Ae(we,1,Ze((a(c),z(()=>a(c).className||""))))),k(he,we)},ge=he=>{var we=ke(),D=xe(we);{var ie=ae=>{var ce=la(),Oe=p(ce);{let Me=We(()=>(a(c),z(()=>a(c).children||[])));nt(Oe,{get nodes(){return a(Me)}})}v(ce),re(()=>Ae(ce,1,Ze((a(c),z(()=>a(c).className||""))))),k(ae,ce)};de(D,ae=>{a(c),z(()=>a(c).level===6)&&ae(ie)},!0)}k(he,we)};de(oe,he=>{a(c),z(()=>a(c).level===5)?he(Ce):he(ge,!1)},!0)}k(te,ue)};de(Y,te=>{a(c),z(()=>a(c).level===4)?te(V):te(se,!1)},!0)}k(q,W)};de(E,q=>{a(c),z(()=>a(c).level===3)?q(u):q(I,!1)},!0)}k(w,y)};de(M,w=>{a(c),z(()=>a(c).level===2)?w($):w(x,!1)},!0)}k(K,O)};de(N,K=>{a(c),z(()=>a(c).level===1)?K(_):K(U,!1)})}k(m,f)},L=m=>{var f=ke(),N=xe(f);{var _=K=>{var O=ca(),M=p(O);{let $=We(()=>(a(c),z(()=>a(c).children||[])));nt(M,{get nodes(){return a($)}})}v(O),re(()=>Ae(O,1,Ze((a(c),z(()=>a(c).className||""))))),k(K,O)},U=K=>{var O=ke(),M=xe(O);{var $=w=>{var y=da(),E=p(y);{let u=We(()=>(a(c),z(()=>a(c).children||[])));nt(E,{get nodes(){return a(u)}})}v(y),re(()=>Ae(y,1,Ze((a(c),z(()=>a(c).className||""))))),k(w,y)},x=w=>{var y=ke(),E=xe(y);{var u=q=>{var W=ua(),Y=p(W,!0);v(W),re(()=>{Ae(W,1,Ze((a(c),z(()=>a(c).className||"")))),ee(Y,(a(c),z(()=>a(c).content||"")))}),k(q,W)},I=q=>{var W=ke(),Y=xe(W);{var V=te=>{var ue=fa(),oe=p(ue);{let Ce=We(()=>(a(c),z(()=>a(c).children||[])));nt(oe,{get nodes(){return a(Ce)}})}v(ue),re(()=>{ze(ue,"href",(a(c),z(()=>a(c).href||""))),Ae(ue,1,Ze((a(c),z(()=>a(c).className||""))))}),k(te,ue)},se=te=>{var ue=ke(),oe=xe(ue);{var Ce=he=>{var we=va();k(he,we)},ge=he=>{var we=ke(),D=xe(we);{var ie=ae=>{var ce=Je();re(()=>ee(ce,(a(c),z(()=>a(c).content||"")))),k(ae,ce)};de(D,ae=>{a(c),z(()=>a(c).type==="text")&&ae(ie)},!0)}k(he,we)};de(oe,he=>{a(c),z(()=>a(c).type==="br")?he(Ce):he(ge,!1)},!0)}k(te,ue)};de(Y,te=>{a(c),z(()=>a(c).type==="link")?te(V):te(se,!1)},!0)}k(q,W)};de(E,q=>{a(c),z(()=>a(c).type==="code")?q(u):q(I,!1)},!0)}k(w,y)};de(M,w=>{a(c),z(()=>a(c).type==="italic")?w($):w(x,!1)},!0)}k(K,O)};de(N,K=>{a(c),z(()=>a(c).type==="bold")?K(_):K(U,!1)},!0)}k(m,f)};de(T,m=>{a(c),z(()=>a(c).type==="heading")?m(B):m(L,!1)},!0)}k(R,P)};de(j,R=>{a(c),z(()=>a(c).type==="paragraph")?R(S):R(A,!1)})}k(h,g)}),k(n,d),Le()}const Tt=class Tt{constructor(){Fe(this,"textNodes",new Map);Fe(this,"autoSaveTimeouts",new Map);this.initializeSampleData()}static getInstance(){return Tt.instance||(Tt.instance=new Tt),Tt.instance}initializeSampleData(){const e={id:"text-root-1",content:`This is the **root node** of our hierarchical structure.

It contains several child nodes demonstrating tree patterns.`,title:"Project Root",parentId:null,depth:0,expanded:!0,createdAt:new Date(Date.now()-864e5),updatedAt:new Date(Date.now()-36e5),metadata:{wordCount:18,lastEditedBy:"user",version:1,hasChildren:!0,childrenIds:["text-child-1","text-child-2"]}},t={id:"text-child-1",content:`This is the **first child node**.

It has its own children to demonstrate multi-level hierarchy.`,title:"Chapter 1: Introduction",parentId:"text-root-1",depth:1,expanded:!0,createdAt:new Date(Date.now()-828e5),updatedAt:new Date(Date.now()-72e5),metadata:{wordCount:16,lastEditedBy:"user",version:2,hasChildren:!0,childrenIds:["text-grandchild-1","text-grandchild-2"]}},r={id:"text-child-2",content:`This is the **second child node**.

It's a leaf node with no children.`,title:"Chapter 2: Conclusion",parentId:"text-root-1",depth:1,expanded:!1,createdAt:new Date(Date.now()-792e5),updatedAt:new Date(Date.now()-36e5),metadata:{wordCount:14,lastEditedBy:"user",version:1,hasChildren:!1,childrenIds:[]}},o={id:"text-grandchild-1",content:`This is a **grandchild node** at depth 2.

- Demonstrates deeper hierarchy
- Shows indentation patterns`,title:"Section 1.1: Core Concepts",parentId:"text-child-1",depth:2,expanded:!1,createdAt:new Date(Date.now()-756e5),updatedAt:new Date(Date.now()-18e5),metadata:{wordCount:15,lastEditedBy:"user",version:1,hasChildren:!1,childrenIds:[]}},s={id:"text-grandchild-2",content:`Another **grandchild node** showing sibling relationships.

This completes our hierarchy example.`,title:"Section 1.2: Advanced Features",parentId:"text-child-1",depth:2,expanded:!1,createdAt:new Date(Date.now()-72e6),updatedAt:new Date(Date.now()-9e5),metadata:{wordCount:13,lastEditedBy:"user",version:1,hasChildren:!1,childrenIds:[]}};this.textNodes.set(e.id,e),this.textNodes.set(t.id,t),this.textNodes.set(r.id,r),this.textNodes.set(o.id,o),this.textNodes.set(s.id,s)}async saveTextNode(e,t,r){await new Promise(o=>setTimeout(o,200+Math.random()*300));try{const o=new Date,s=this.textNodes.get(e),i={id:e,content:t,title:r||(s==null?void 0:s.title)||"Untitled",parentId:(s==null?void 0:s.parentId)||null,depth:(s==null?void 0:s.depth)||0,expanded:(s==null?void 0:s.expanded)??!0,createdAt:(s==null?void 0:s.createdAt)||o,updatedAt:o,metadata:{wordCount:this.calculateWordCount(t),lastEditedBy:"user",version:((s==null?void 0:s.metadata.version)||0)+1,hasChildren:(s==null?void 0:s.metadata.hasChildren)||!1,childrenIds:(s==null?void 0:s.metadata.childrenIds)||[]}};return this.textNodes.set(e,i),{success:!0,id:e,timestamp:o}}catch(o){return{success:!1,id:e,timestamp:new Date,error:o instanceof Error?o.message:"Unknown error"}}}async loadTextNode(e){return await new Promise(t=>setTimeout(t,100+Math.random()*200)),this.textNodes.get(e)||null}async createTextNode(e="",t="New Text Node"){await new Promise(i=>setTimeout(i,150));const r=this.generateId(),o=new Date,s={id:r,content:e,title:t,parentId:null,depth:0,expanded:!0,createdAt:o,updatedAt:o,metadata:{wordCount:this.calculateWordCount(e),lastEditedBy:"user",version:1,hasChildren:!1,childrenIds:[]}};return this.textNodes.set(r,s),s}async deleteTextNode(e){await new Promise(r=>setTimeout(r,100));const t=this.autoSaveTimeouts.get(e);return t&&(clearTimeout(t),this.autoSaveTimeouts.delete(e)),this.textNodes.delete(e)}scheduleAutoSave(e,t,r,o=2e3){return new Promise(s=>{const i=this.autoSaveTimeouts.get(e);i&&clearTimeout(i);const l=setTimeout(async()=>{const d=await this.saveTextNode(e,t,r);this.autoSaveTimeouts.delete(e),s(d)},o);this.autoSaveTimeouts.set(e,l)})}cancelAutoSave(e){const t=this.autoSaveTimeouts.get(e);t&&(clearTimeout(t),this.autoSaveTimeouts.delete(e))}async getAllTextNodes(){return await new Promise(e=>setTimeout(e,150)),Array.from(this.textNodes.values()).sort((e,t)=>t.updatedAt.getTime()-e.updatedAt.getTime())}async searchTextNodes(e){if(await new Promise(r=>setTimeout(r,200)),!e.trim())return this.getAllTextNodes();const t=e.toLowerCase();return Array.from(this.textNodes.values()).filter(r=>r.title.toLowerCase().includes(t)||r.content.toLowerCase().includes(t)).sort((r,o)=>o.updatedAt.getTime()-r.updatedAt.getTime())}generateId(){return`text-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}calculateWordCount(e){return e.trim().split(/\s+/).filter(t=>t.length>0).length}async getHierarchicalNodes(){await new Promise(s=>setTimeout(s,100));const e=Array.from(this.textNodes.values()),t=new Map;for(const s of e)t.set(s.id,{id:s.id,title:s.title,content:s.content,nodeType:"text",depth:s.depth,parentId:s.parentId,children:[],expanded:s.expanded,hasChildren:s.metadata.hasChildren,createdAt:s.createdAt,updatedAt:s.updatedAt,metadata:{wordCount:s.metadata.wordCount,lastEditedBy:s.metadata.lastEditedBy,version:s.metadata.version}});const r=[];for(const s of t.values())if(s.parentId===null)r.push(s);else{const i=t.get(s.parentId);i&&i.children.push(s)}function o(s){s.sort((i,l)=>i.createdAt.getTime()-l.createdAt.getTime()),s.forEach(i=>o(i.children))}return o(r),r}async createChildNode(e,t="",r="New Child Node"){await new Promise(d=>setTimeout(d,150));const o=this.textNodes.get(e);if(!o)return null;const s=this.generateId(),i=new Date,l={id:s,content:t,title:r,parentId:e,depth:o.depth+1,expanded:!1,createdAt:i,updatedAt:i,metadata:{wordCount:this.calculateWordCount(t),lastEditedBy:"user",version:1,hasChildren:!1,childrenIds:[]}};return o.metadata.hasChildren=!0,o.metadata.childrenIds.push(s),o.updatedAt=i,this.textNodes.set(s,l),this.textNodes.set(e,o),l}async moveNode(e,t){await new Promise(s=>setTimeout(s,200));const r=this.textNodes.get(e);if(!r)return!1;const o=r.parentId;if(o){const s=this.textNodes.get(o);s&&(s.metadata.childrenIds=s.metadata.childrenIds.filter(i=>i!==e),s.metadata.hasChildren=s.metadata.childrenIds.length>0,s.updatedAt=new Date,this.textNodes.set(o,s))}if(t){const s=this.textNodes.get(t);if(!s)return!1;r.parentId=t,r.depth=s.depth+1,s.metadata.hasChildren=!0,s.metadata.childrenIds.push(e),s.updatedAt=new Date,this.textNodes.set(t,s)}else r.parentId=null,r.depth=0;return this.updateDescendantDepths(e,r.depth),r.updatedAt=new Date,this.textNodes.set(e,r),!0}async toggleNodeExpansion(e){await new Promise(r=>setTimeout(r,50));const t=this.textNodes.get(e);return!t||!t.metadata.hasChildren?!1:(t.expanded=!t.expanded,t.updatedAt=new Date,this.textNodes.set(e,t),t.expanded)}async getChildren(e){await new Promise(r=>setTimeout(r,75));const t=this.textNodes.get(e);return t?t.metadata.childrenIds.map(r=>this.textNodes.get(r)).filter(r=>r!==void 0).sort((r,o)=>r.createdAt.getTime()-o.createdAt.getTime()):[]}updateDescendantDepths(e,t){const r=this.textNodes.get(e);if(r){r.depth=t;for(const o of r.metadata.childrenIds)this.updateDescendantDepths(o,t+1)}}getStats(){const e=Array.from(this.textNodes.values()),t=e.filter(o=>o.parentId===null),r=Math.max(...e.map(o=>o.depth),0);return{totalNodes:this.textNodes.size,rootNodes:t.length,maxDepth:r,nodesWithChildren:e.filter(o=>o.metadata.hasChildren).length,pendingAutoSaves:this.autoSaveTimeouts.size,lastActivity:new Date}}};Fe(Tt,"instance");let Gn=Tt;const Jt=Gn.getInstance();var ha=G('<span class="ns-text-node__status-icon svelte-7k70ck">â³</span> Saving...',1),pa=G('<span class="ns-text-node__status-icon svelte-7k70ck">â</span> Unsaved changes',1),ma=G('<span class="ns-text-node__status-icon svelte-7k70ck">â ï¸</span> ',1),ga=G('<div class="ns-text-node__status svelte-7k70ck"><!></div>'),ba=G('<div class="ns-text-node__meta svelte-7k70ck"><span class="ns-text-node__word-count"> </span> <span class="ns-text-node__updated"> </span></div>'),ya=G('<div class="ns-text-node__markdown svelte-7k70ck"><!></div>'),xa=G('<span class="ns-node__text"> </span>'),wa=G('<span class="ns-node__empty"> </span>'),_a=G('<div slot="display-content"><!></div>');function Ve(n,e){Re(e,!1);const t=ve();let r=ne(e,"nodeId",8),o=ne(e,"content",12,""),s=ne(e,"editable",8,!0),i=ne(e,"markdown",8,!0),l=ne(e,"placeholder",8,"Click to add text..."),d=ne(e,"autoSave",8,!0),b=ne(e,"compact",8,!1),h=ve("saved"),c=ve(""),g=ve(null),j=o();const S=yn();It(async()=>{if(r()&&r()!=="new")try{H(g,await Jt.loadTextNode(r())),a(g)&&(o(a(g).content),j=o(),H(h,"saved"))}catch(L){console.error("Failed to load text node:",L),H(c,L instanceof Error?L.message:"Failed to load content"),H(h,"error")}});let A;const R=2e3;function P(){d()&&(clearTimeout(A),H(h,"unsaved"),A=setTimeout(async()=>{o()!==j&&await B()},R))}function T(L){o(L.detail.content),P()}async function B(){if(!(!d()||!r()||r()==="new"))try{const L=await Jt.scheduleAutoSave(r(),o(),"",100);L.success?(j=o(),H(h,"saved"),S("save",{nodeId:r(),content:o()})):(H(c,L.error||"Auto-save failed"),H(h,"error"),S("error",{nodeId:r(),error:a(c)}))}catch(L){H(c,L instanceof Error?L.message:"Auto-save error"),H(h,"error"),S("error",{nodeId:r(),error:a(c)})}}Be(()=>Ne(o()),()=>{H(t,o().includes(`
`))}),lt(),st();{let L=We(()=>(a(g),z(()=>{var N;return((N=a(g))==null?void 0:N.metadata.hasChildren)||!1}))),m=We(()=>a(h)==="saving"),f=We(()=>b()?"ns-text-node--compact":"");kn(n,{get nodeId(){return r()},nodeType:"text",get hasChildren(){return a(L)},get isProcessing(){return a(m)},get editable(){return s()},contentEditable:!0,get multiline(){return a(t)},get placeholder(){return l()},get className(){return`ns-text-node ${a(f)??""}`},get content(){return o()},set content(N){o(N)},$$events:{contentChanged:T},children:(N,_)=>{var U=ke(),K=xe(U);{var O=$=>{var x=ga(),w=p(x);{var y=u=>{var I=ha();Ge(),k(u,I)},E=u=>{var I=ke(),q=xe(I);{var W=V=>{var se=pa();Ge(),k(V,se)},Y=V=>{var se=ke(),te=xe(se);{var ue=oe=>{var Ce=ma(),ge=C(xe(Ce));re(()=>ee(ge,` ${a(c)||"Save error"}`)),k(oe,Ce)};de(te,oe=>{a(h)==="error"&&oe(ue)},!0)}k(V,se)};de(q,V=>{a(h)==="unsaved"?V(W):V(Y,!1)},!0)}k(u,I)};de(w,u=>{a(h)==="saving"?u(y):u(E,!1)})}v(x),k($,x)},M=$=>{var x=ke(),w=xe(x);{var y=E=>{var u=ba(),I=p(u),q=p(I);v(I);var W=C(I,2),Y=p(W);v(W),v(u),re(V=>{ee(q,`${a(g),z(()=>a(g).metadata.wordCount)??""} words`),ee(Y,`Updated ${V??""}`)},[()=>(a(g),z(()=>a(g).updatedAt.toLocaleDateString()))]),k(E,u)};de(w,E=>{a(g)&&E(y)},!0)}k($,x)};de(K,$=>{a(h)!=="saved"||a(c)?$(O):$(M,!1)})}k(N,U)},$$slots:{default:!0,"display-content":(N,_)=>{var U=_a(),K=p(U);{var O=$=>{var x=ke(),w=xe(x);{var y=u=>{var I=ya(),q=p(I);nt(q,{get content(){return o()}}),v(I),k(u,I)},E=u=>{var I=xa(),q=p(I,!0);v(I),re(()=>ee(q,o())),k(u,I)};de(w,u=>{i()?u(y):u(E,!1)})}k($,x)},M=$=>{var x=wa(),w=p(x,!0);v(x),re(()=>ee(w,l())),k($,x)};de(K,$=>{o()?$(O):$(M,!1)})}v(U),k(N,U)}},$$legacy:!0})}Le()}var ka=G('<button type="button" class="ns-node-tree__expand-btn svelte-cbhleu"><span class="ns-node-tree__expand-icon svelte-cbhleu"> </span></button>'),Ca=G('<div class="ns-node-tree__expand-spacer svelte-cbhleu"></div>'),Ta=G('<div class="ns-node-tree__placeholder svelte-cbhleu"><p class="svelte-cbhleu"> </p> <p class="svelte-cbhleu"> </p></div>'),Na=G('<div class="ns-node-tree__item svelte-cbhleu" role="treeitem" aria-selected="false"><!> <div class="ns-node-tree__content svelte-cbhleu"><!></div></div>'),Sa=G('<div class="ns-node-tree svelte-cbhleu" role="tree" aria-label="Node hierarchy"></div>');function ss(n,e){Re(e,!1);const t=ve();let r=ne(e,"nodes",28,()=>[]);const o=10;let s=ne(e,"indentSize",8,4);const i=!0;let l=ne(e,"showExpandControls",8,!0),d=ne(e,"allowEdit",8,!0);const b=yn();function h(P){const T=c(P,r());T&&T.hasChildren&&(T.expanded=!T.expanded,b("nodeExpand",{nodeId:P,expanded:T.expanded}),r([...r()]))}function c(P,T){for(const B of T){if(B.id===P)return B;const L=c(P,B.children);if(L)return L}return null}function g(P){const T=[];function B(m){for(const f of m)T.push(f),f.expanded&&f.children.length>0&&B(f.children)}const L=P.filter(m=>m.depth===0);return B(L),T}function j(P){b("nodeUpdate",P.detail)}function S(P){const T=c(P,r());T&&b("nodeSelect",{nodeId:P,node:T})}function A(P){return P.hasChildren?P.expanded?"â¼":"â¶":""}Be(()=>Ne(r()),()=>{H(t,g(r()))}),lt(),st();var R=Sa();return et(R,5,()=>a(t),P=>P.id,(P,T)=>{var B=Na(),L=p(B);{var m=O=>{var M=ka(),$=p(M),x=p($,!0);v($),v(M),re(w=>{ze(M,"aria-label",`${a(T),z(()=>a(T).expanded?"Collapse":"Expand")??""} ${a(T),z(()=>a(T).title||"Untitled node")??""}`),ee(x,w)},[()=>(a(T),z(()=>A(a(T))))]),$e("click",M,()=>h(a(T).id)),k(O,M)},f=O=>{var M=Ca();k(O,M)};de(L,O=>{Ne(l()),a(T),z(()=>l()&&a(T).hasChildren)?O(m):O(f,!1)})}var N=C(L,2),_=p(N);{var U=O=>{Ve(O,{get nodeId(){return a(T),z(()=>a(T).id)},get content(){return a(T),z(()=>a(T).content)},get editable(){return d()},$$events:{save:j,click:()=>S(a(T).id)}})},K=O=>{var M=Ta(),$=p(M),x=p($);v($);var w=C($,2),y=p(w);v(w),v(M),re(()=>{ee(x,`Node type '${a(T),z(()=>a(T).nodeType)??""}' not yet implemented`),ee(y,`ID: ${a(T),z(()=>a(T).id)??""} | Depth: ${a(T),z(()=>a(T).depth)??""}`)}),k(O,M)};de(_,O=>{a(T),z(()=>a(T).nodeType==="text")?O(U):O(K,!1)})}v(N),v(B),re(()=>{tr(B,`margin-left: calc(var(--ns-spacing-${s()??""}) * ${a(T),z(()=>a(T).depth)??""})`),ze(B,"aria-level",(a(T),z(()=>a(T).depth+1))),ze(B,"aria-expanded",(a(T),z(()=>a(T).hasChildren?a(T).expanded:void 0)))}),k(P,B)}),v(R),k(n,R),Kt(e,"maxDepth",o),Kt(e,"expandedByDefault",i),Le({maxDepth:o,expandedByDefault:i})}var Pa=G('<div class="hierarchy-demo__stats svelte-r4tqc6"><span class="stat svelte-r4tqc6"><strong class="svelte-r4tqc6"> </strong> total nodes</span> <span class="stat svelte-r4tqc6"><strong class="svelte-r4tqc6"> </strong> root nodes</span> <span class="stat svelte-r4tqc6"><strong class="svelte-r4tqc6"> </strong> max depth</span> <button type="button" class="hierarchy-demo__refresh-btn svelte-r4tqc6">Refresh Data</button></div>'),Ia=G('<div class="hierarchy-demo__loading svelte-r4tqc6"><div class="spinner svelte-r4tqc6"></div> <p>Loading hierarchical structure...</p></div>'),Aa=G('<div class="hierarchy-demo__error svelte-r4tqc6"><p class="error-message svelte-r4tqc6"> </p> <button type="button">Try Again</button></div>'),Ea=G('<div class="hierarchy-demo__empty svelte-r4tqc6"><p>No hierarchical nodes found.</p> <button type="button">Reload</button></div>'),Ma=G('<div class="hierarchy-demo__tree svelte-r4tqc6"><!></div>'),$a=G(`<div class="hierarchy-demo svelte-r4tqc6"><header class="hierarchy-demo__header svelte-r4tqc6"><h2 class="hierarchy-demo__title svelte-r4tqc6">Hierarchical Display Patterns</h2> <p class="hierarchy-demo__description svelte-r4tqc6">Demonstrates tree indentation, expand/collapse functionality, and parent-child node
      relationships.</p> <!></header> <main class="hierarchy-demo__content svelte-r4tqc6"><!></main> <aside class="hierarchy-demo__info svelte-r4tqc6"><h3 class="svelte-r4tqc6">Features Demonstrated:</h3> <ul class="svelte-r4tqc6"><li class="svelte-r4tqc6"><strong>Tree Indentation:</strong> CSS <code class="svelte-r4tqc6">margin-left: calc(var(--ns-spacing-4) * depth)</code></li> <li class="svelte-r4tqc6"><strong>Parent Indicators:</strong> Ring effects when nodes have children</li> <li class="svelte-r4tqc6"><strong>Expand/Collapse:</strong> Toggle visibility of child nodes</li> <li class="svelte-r4tqc6"><strong>Depth Tracking:</strong> Automatic depth calculation for proper nesting</li> <li class="svelte-r4tqc6"><strong>Interactive Editing:</strong> Click-to-edit functionality on all nodes</li> <li class="svelte-r4tqc6"><strong>Hierarchy Management:</strong> Parent-child relationship tracking</li></ul></aside></div>`);function za(n,e){Re(e,!1);const t=ve();let r=ve([]),o=ve(!0),s=ve(null);function i(m){const f=[];function N(_){return{id:_.id,title:_.title,content:_.content,nodeType:_.nodeType,depth:_.depth,parentId:_.parentId,children:_.children.map(N),expanded:_.expanded,hasChildren:_.hasChildren}}for(const _ of m)f.push(N(_));return f}async function l(){try{H(o,!0),H(s,null);const m=await Jt.getHierarchicalNodes();H(r,i(m))}catch(m){H(s,m instanceof Error?m.message:"Failed to load hierarchical data"),console.error("Error loading hierarchical data:",m)}finally{H(o,!1)}}function d(m){console.log("Node selected:",m.detail)}async function b(m){const{nodeId:f,expanded:N}=m.detail;console.log(`Node ${f} ${N?"expanded":"collapsed"}`);try{await Jt.toggleNodeExpansion(f)}catch(_){console.error("Error toggling node expansion:",_)}}async function h(m){const{nodeId:f,content:N}=m.detail;console.log("Node updated:",{nodeId:f,content:N});try{await Jt.saveTextNode(f,N),await l()}catch(_){console.error("Error updating node:",_)}}It(()=>{l()});function c(m){return m.children.length+m.children.reduce((f,N)=>f+c(N),0)}function g(m){const f=[];function N(_){for(const U of _)f.push(U),N(U.children)}return N(m),f}Be(()=>a(r),()=>{H(t,{totalNodes:a(r).length+a(r).reduce((m,f)=>m+c(f),0),rootNodes:a(r).filter(m=>m.depth===0).length,maxDepth:Math.max(...g(a(r)).map(m=>m.depth),0)})}),lt(),st();var j=$a(),S=p(j),A=C(p(S),4);{var R=m=>{var f=Pa(),N=p(f),_=p(N),U=p(_,!0);v(_),Ge(),v(N);var K=C(N,2),O=p(K),M=p(O,!0);v(O),Ge(),v(K);var $=C(K,2),x=p($),w=p(x,!0);v(x),Ge(),v($);var y=C($,2);v(f),re(()=>{ee(U,(a(t),z(()=>a(t).totalNodes))),ee(M,(a(t),z(()=>a(t).rootNodes))),ee(w,(a(t),z(()=>a(t).maxDepth)))}),$e("click",y,l),k(m,f)};de(A,m=>{!a(o)&&!a(s)&&m(R)})}v(S);var P=C(S,2),T=p(P);{var B=m=>{var f=Ia();k(m,f)},L=m=>{var f=ke(),N=xe(f);{var _=K=>{var O=Aa(),M=p(O),$=p(M);v(M);var x=C(M,2);v(O),re(()=>ee($,`Error: ${a(s)??""}`)),$e("click",x,l),k(K,O)},U=K=>{var O=ke(),M=xe(O);{var $=w=>{var y=Ea(),E=C(p(y),2);v(y),$e("click",E,l),k(w,y)},x=w=>{var y=Ma(),E=p(y);ss(E,{get nodes(){return a(r)},maxDepth:10,indentSize:4,expandedByDefault:!0,showExpandControls:!0,allowEdit:!0,$$events:{nodeSelect:d,nodeExpand:b,nodeUpdate:h}}),v(y),k(w,y)};de(M,w=>{a(r),z(()=>a(r).length===0)?w($):w(x,!1)},!0)}k(K,O)};de(N,K=>{a(s)?K(_):K(U,!1)},!0)}k(m,f)};de(T,m=>{a(o)?m(B):m(L,!1)})}v(P),Ge(2),v(j),k(n,j),Le()}var Ra=G('<div class="demo-node-container svelte-ocjckk"><h3 class="demo-node-title svelte-ocjckk"> <span class="demo-node-config svelte-ocjckk"> </span></h3> <!></div>'),La=G(`<div class="text-node-demo svelte-ocjckk"><h1 class="demo-title svelte-ocjckk">TextNode Component Demo</h1> <div class="demo-description svelte-ocjckk"><p class="svelte-ocjckk">This demo showcases the TextNode component with various configurations:</p> <ul class="svelte-ocjckk"><li class="svelte-ocjckk"><strong>Click-to-edit:</strong> Click on any editable node to start editing</li> <li class="svelte-ocjckk"><strong>Keyboard shortcuts:</strong> Ctrl+Enter to save, Esc to cancel</li> <li class="svelte-ocjckk"><strong>Auto-save:</strong> Changes are automatically saved after 2 seconds</li> <li class="svelte-ocjckk"><strong>Markdown:</strong> Support for basic markdown formatting</li> <li class="svelte-ocjckk"><strong>Auto-resize:</strong> Textarea expands to fit content</li></ul></div> <div class="demo-nodes svelte-ocjckk"></div> <div class="demo-instructions svelte-ocjckk"><h2 class="svelte-ocjckk">Try These Features:</h2> <div class="instruction-grid svelte-ocjckk"><div class="instruction svelte-ocjckk"><h4 class="svelte-ocjckk">Basic Editing</h4> <p class="svelte-ocjckk">Click on the first node to start editing. Type some text and press Ctrl+Enter to save, or
          Esc to cancel.</p></div> <div class="instruction svelte-ocjckk"><h4 class="svelte-ocjckk">Markdown Formatting</h4> <p class="svelte-ocjckk">Try the second node with markdown. Add **bold text**, *italic text*, # headers, and see
          them rendered.</p></div> <div class="instruction svelte-ocjckk"><h4 class="svelte-ocjckk">Multi-line Editing</h4> <p class="svelte-ocjckk">TextNodes support multi-line editing. Use Shift+Enter for line breaks, or just press Enter
          normally in the textarea.</p></div> <div class="instruction svelte-ocjckk"><h4 class="svelte-ocjckk">Markdown Rendering</h4> <p class="svelte-ocjckk">Second node shows markdown rendering in display mode. Edit to see raw markdown, blur to
          see rendered output.</p></div> <div class="instruction svelte-ocjckk"><h4 class="svelte-ocjckk">Read-only Mode</h4> <p class="svelte-ocjckk">Third node demonstrates read-only display with markdown rendering but no editing
          capability.</p></div> <div class="instruction svelte-ocjckk"><h4 class="svelte-ocjckk">Auto-resize</h4> <p class="svelte-ocjckk">Add multiple lines of text to see the textarea automatically expand.</p></div> <div class="instruction svelte-ocjckk"><h4 class="svelte-ocjckk">New Node</h4> <p class="svelte-ocjckk">The last node starts empty. Click to add content and it will be automatically saved.</p></div> <div class="instruction svelte-ocjckk"><h4 class="svelte-ocjckk">Read-only</h4> <p class="svelte-ocjckk">The third node cannot be edited, demonstrating display-only mode.</p></div></div></div></div>`);function qa(n,e){Re(e,!1);let t=[{id:"demo-1",content:"Simple text without markdown. Click to edit!",editable:!0,markdown:!1},{id:"demo-2",content:`# Welcome to NodeSpace

This TextNode supports **markdown** formatting:

- *Italic text*
- **Bold text** 
- \`inline code\`
- [Links](https://example.com)

## Features

1. Multi-line editing
2. Auto-save
3. Markdown rendering`,editable:!0,markdown:!0},{id:"demo-3",content:"This node is **read-only** and cannot be edited. It still renders markdown but demonstrates display-only mode.",editable:!1,markdown:!0},{id:"new-node",content:"",editable:!0,markdown:!0}];function r(h){console.log("Node saved:",h.detail)}function o(h){console.error("Node error:",h.detail)}function s(h){console.log("Node content changed:",h.detail)}function i(h){console.log("Node focused:",h.detail)}function l(h){console.log("Node blurred:",h.detail)}st();var d=La(),b=C(p(d),4);et(b,5,()=>t,h=>h.id,(h,c)=>{var g=Ra(),j=p(g),S=p(j),A=C(S),R=p(A);v(A),v(j);var P=C(j,2);{let T=We(()=>a(c).id==="new-node"?"Start typing to create a new text node...":"Click to add text...");Ve(P,{get nodeId(){return a(c).id},get content(){return a(c).content},get editable(){return a(c).editable},get markdown(){return a(c).markdown},get placeholder(){return a(T)},$$events:{save:r,error:o,contentChanged:s,focus:i,blur:l}})}v(g),re(T=>{ee(S,`${T??""} `),ee(R,`${a(c).editable?"(Editable)":"(Read-only)"}
            ${a(c).markdown?" + Markdown":""}`)},[()=>a(c).id==="new-node"?"New Node":`Demo Node ${a(c).id.split("-")[1]}`]),k(h,g)}),v(b),Ge(2),v(d),k(n,d),Le()}const Da={createNewNodes:!0,preserveBulletSyntax:!1,maxDepth:10,defaultNodeType:"text",indentSize:4};class bn{constructor(e={}){Fe(this,"config");this.config={...Da,...e}}convertBulletsToNodes(e,t,r,o){const s=en.extractBulletPatterns(t);if(s.length===0)return{hasConversions:!1,cleanedContent:e,newNodes:[],newCursorPosition:r};const i=this.analyzeBulletStructure(e,s),l=this.buildNodeHierarchy(i,o),d=this.removeBulletSyntax(e,s),b=this.calculateNewCursorPosition(e,r,s);return{hasConversions:!0,cleanedContent:d,newNodes:l,newCursorPosition:b,parentNodeId:o}}detectBulletTyping(e,t,r){const o=en.extractBulletPatterns(t);for(const d of o){const b=d.start+d.syntax.length;if(r>=b&&r<=b+2)return!0}const s=this.getCurrentLine(e,r),i=/^(\s*)([-*+])\s(.*)$/;return s.trim().match(i)!==null}undoBulletConversion(e,t){let r=e;for(const o of t){const i=`${this.getBulletSyntaxForDepth(o.depth)}${o.content}`;r+=`
${i}`}return r}analyzeBulletStructure(e,t){var s;const r=e.split(`
`),o=[];for(const i of t){const l=i.line,b=((s=(r[l]||"").match(/^(\s*)/))==null?void 0:s[1])||"",h=Math.floor(b.length/2),c=i.content.trim();o.push({pattern:i,indentLevel:Math.min(h,this.config.maxDepth),cleanContent:c,lineNumber:l})}return o.sort((i,l)=>i.lineNumber-l.lineNumber)}buildNodeHierarchy(e,t){const r=[],o=[];for(const s of e){const i=this.generateNodeId();let l=t,d;if(s.indentLevel>0&&o.length>0){const h=s.indentLevel-1;d=o[h],d&&(l=d.id)}const b=this.createNodeData(i,s,l);d?(d.hasChildren=!0,d.children.push(b)):r.push(b),o[s.indentLevel]=b,o.splice(s.indentLevel+1)}return r}createNodeData(e,t,r){return{id:e,title:t.cleanContent.substring(0,50),content:t.cleanContent,nodeType:this.config.defaultNodeType,depth:t.indentLevel,parentId:r||null,children:[],expanded:!0,hasChildren:!1}}removeBulletSyntax(e,t){let r=e;const o=[...t].sort((s,i)=>i.start-s.start);for(const s of o){const i=r.split(`
`),l=i[s.line];if(l){const d=new RegExp("^(\\s*)([-*+])\\s"),b=l.replace(d,"$1");i[s.line]=b,r=i.join(`
`)}}return r}calculateNewCursorPosition(e,t,r){let o=t;for(const s of r)s.start<t&&(o-=s.syntax.length);return Math.max(0,o)}getCurrentLine(e,t){const r=e.split(`
`);let o=0;for(const s of r){if(t<=o+s.length)return s;o+=s.length+1}return r[r.length-1]||""}getBulletSyntaxForDepth(e){const t=["- ","* ","+ "],r=t[e%t.length];return" ".repeat(e*this.config.indentSize)+r}generateNodeId(){return`node-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}}const Ba=new bn;new bn({defaultNodeType:"task",createNewNodes:!0,preserveBulletSyntax:!1});class Nr{static shouldTriggerConversion(e,t,r){return new bn().detectBulletTyping(e,r,t)}static getBulletPatternsNearCursor(e,t,r=10){return en.extractBulletPatterns(e).filter(s=>Math.min(Math.abs(t-s.start),Math.abs(t-s.end))<=r)}static previewConversion(e,t,r){return new bn({createNewNodes:!1}).convertBulletsToNodes(e,t,0,r).newNodes}}var ja=G('<div class="smart-text-node__conversion-indicator svelte-g0uuli"><span class="smart-text-node__conversion-text svelte-g0uuli">Converting bullets to nodes...</span></div>'),Ga=G('<li class="svelte-g0uuli"> </li>'),Oa=G('<div class="smart-text-node__debug svelte-g0uuli"><details class="svelte-g0uuli"><summary class="svelte-g0uuli"> </summary> <ul class="svelte-g0uuli"></ul></details></div>'),Ha=G("<div><!> <!> <!></div>");function Fa(n,e){Re(e,!1);const t=ve(),r=ve();let o=ne(e,"nodeId",8,""),s=ne(e,"content",12,""),i=ne(e,"nodeType",8,"text"),l=ne(e,"hasChildren",8,!1),d=ne(e,"editable",8,!0),b=ne(e,"multiline",8,!0),h=ne(e,"placeholder",8,"Type content or use - for bullet points..."),c=ne(e,"enableBulletConversion",8,!0),g=ne(e,"autoConvertBullets",8,!0);ne(e,"maxNestingDepth",8,5);let j=ne(e,"parentNodeId",8,void 0);const S=yn();let A=s(),R=ve(!1),P=ve([]);function T(u){const I=u.detail.content;S("contentChanged",u.detail),c()&&!a(R)&&B(I),A=I}async function B(u){if(!u||u===A)return;const I=window.getSelection(),q=I?_(I):u.length;S("requestPatternDetection",{nodeId:o(),content:u,cursorPosition:q})}function L(u,I){c()&&(H(P,u),g()&&Nr.shouldTriggerConversion(s(),I,u)&&m(u,I))}async function m(u,I){if(!a(R)){H(R,!0);try{const q=Ba.convertBulletsToNodes(s(),u,I,j());q.hasConversions&&(s(q.cleanedContent),S("bulletConversion",{nodeId:o(),newNodes:q.newNodes,cleanedContent:q.cleanedContent}),await fn(),await U(q.newCursorPosition))}catch(q){console.error("Error during bullet conversion:",q)}finally{H(R,!1)}}}async function f(){if(!c()||!a(P).length)return;const u=window.getSelection(),I=u?_(u):s().length;await m(a(P),I)}function N(){return!c()||!a(P).length?[]:Nr.previewConversion(s(),a(P),j())}function _(u){if(u.rangeCount===0)return 0;const I=u.getRangeAt(0),q=I.cloneRange();return q.selectNodeContents(I.startContainer.parentElement||I.startContainer),q.setEnd(I.startContainer,I.startOffset),q.toString().length}async function U(u){var W;await fn();const I=window.getSelection();if(!I||!document.activeElement)return;const q=document.activeElement.firstChild;if(!(!q||q.nodeType!==Node.TEXT_NODE))try{const Y=document.createRange(),V=Math.min(u,((W=q.textContent)==null?void 0:W.length)||0);Y.setStart(q,V),Y.collapse(!0),I.removeAllRanges(),I.addRange(Y)}catch(Y){console.error("Error updating cursor position:",Y)}}function K(u){if(c()){if((u.ctrlKey||u.metaKey)&&u.shiftKey&&u.key==="B"){u.preventDefault(),f();return}if(u.key===" "){const I=window.getSelection();if(I&&I.rangeCount>0){const q=_(I),W=O(s(),q);/^(\s*)([-*+])$/.test(W.trim())&&setTimeout(()=>{B(s())},10)}}}}function O(u,I){const W=u.substring(0,I).lastIndexOf(`
`),Y=W===-1?0:W+1,se=u.substring(I).indexOf(`
`),te=se===-1?u.length:I+se;return u.substring(Y,te)}Be(()=>(Ne(c()),Ne(h())),()=>{H(t,c()?`${h()} (Use -, *, or + for bullet points)`:h())}),Be(()=>(Ne(c()),a(R),a(P)),()=>{H(r,[c()&&"smart-text-node--bullets-enabled",a(R)&&"smart-text-node--converting",a(P).length>0&&"smart-text-node--has-patterns"].filter(Boolean).join(" "))}),lt(),st();var M=Ha(),$=p(M);kn($,{get nodeId(){return o()},get nodeType(){return i()},get hasChildren(){return l()},get editable(){return d()},get multiline(){return b()},get placeholder(){return a(t)},get content(){return s()},set content(u){s(u)},$$events:{click(u){un.call(this,e,u)},focus(u){un.call(this,e,u)},blur(u){un.call(this,e,u)},contentChanged:T,keydown:K},$$legacy:!0});var x=C($,2);{var w=u=>{var I=ja();k(u,I)};de(x,u=>{a(R)&&u(w)})}var y=C(x,2);{var E=u=>{var I=Oa(),q=p(I),W=p(q),Y=p(W);v(W);var V=C(W,2);et(V,5,()=>a(P),Pt,(se,te)=>{var ue=Ga(),oe=p(ue);v(ue),re(()=>ee(oe,`${a(te),z(()=>a(te).type)??""}: "${a(te),z(()=>a(te).content)??""}" (${a(te),z(()=>a(te).start)??""}-${a(te),z(()=>a(te).end)??""})`)),k(se,ue)}),v(V),v(q),v(I),re(()=>ee(Y,`Debug: ${a(P),z(()=>a(P).length)??""} patterns detected`)),k(u,I)};de(y,u=>{a(P),z(()=>!1)&&u(E)})}return v(M),re(()=>Ae(M,1,`smart-text-node ${a(r)??""}`,"svelte-g0uuli")),k(n,M),Kt(e,"processPatterns",L),Kt(e,"triggerBulletConversion",f),Kt(e,"previewBulletConversion",N),Le({processPatterns:L,triggerBulletConversion:f,previewBulletConversion:N})}var Va=G('<div class="stat-item svelte-1pq12kh"><span class="stat-label svelte-1pq12kh">Last Conversion:</span> <span class="stat-value svelte-1pq12kh"> </span></div>'),Wa=G('<p class="no-selection svelte-1pq12kh">Select a node from the tree to edit it</p>'),Ua=G('<li class="debug-item svelte-1pq12kh"><code class="svelte-1pq12kh"> </code> <span class="debug-meta svelte-1pq12kh"> </span></li>'),Ya=G('<ul class="debug-list svelte-1pq12kh"></ul>'),Ka=G('<p class="debug-empty svelte-1pq12kh">No patterns detected</p>'),Za=G('<div class="bullet-demo__debug svelte-1pq12kh"><h3 class="svelte-1pq12kh">Debug Information</h3> <div class="debug-grid svelte-1pq12kh"><div class="debug-section svelte-1pq12kh"><h4 class="svelte-1pq12kh">Current Patterns</h4> <!></div> <div class="debug-section svelte-1pq12kh"><h4 class="svelte-1pq12kh">Node Structure</h4> <pre class="debug-code svelte-1pq12kh"> </pre></div></div></div>'),Ja=G('<div class="bullet-demo svelte-1pq12kh"><header class="bullet-demo__header svelte-1pq12kh"><h2 class="svelte-1pq12kh">Smart Bullet-to-Node Conversion Demo</h2> <p class="svelte-1pq12kh">Type bullet points using <code class="svelte-1pq12kh">-</code>, <code class="svelte-1pq12kh">*</code>, or <code class="svelte-1pq12kh">+</code> to see them automatically convert to child nodes!</p></header> <div class="bullet-demo__controls svelte-1pq12kh"><button type="button" class="demo-button svelte-1pq12kh">Load Sample Content</button> <button type="button" class="demo-button demo-button--secondary svelte-1pq12kh">Clear All</button> <label class="demo-checkbox svelte-1pq12kh"><input type="checkbox"/> Show Debug Info</label></div> <div class="bullet-demo__stats svelte-1pq12kh"><div class="stats-grid svelte-1pq12kh"><div class="stat-item svelte-1pq12kh"><span class="stat-label svelte-1pq12kh">Total Nodes:</span> <span class="stat-value svelte-1pq12kh"> </span></div> <div class="stat-item svelte-1pq12kh"><span class="stat-label svelte-1pq12kh">Child Nodes:</span> <span class="stat-value svelte-1pq12kh"> </span></div> <div class="stat-item svelte-1pq12kh"><span class="stat-label svelte-1pq12kh">Conversions:</span> <span class="stat-value svelte-1pq12kh"> </span></div> <!></div></div> <div class="bullet-demo__content svelte-1pq12kh"><div class="bullet-demo__editor svelte-1pq12kh"><h3 class="svelte-1pq12kh">Smart Text Editor</h3> <div class="editor-container svelte-1pq12kh"><!></div></div> <div class="bullet-demo__tree svelte-1pq12kh"><h3 class="svelte-1pq12kh">Node Hierarchy</h3> <div class="tree-container svelte-1pq12kh"><!></div></div></div> <!></div>');function Xa(n,e){Re(e,!1);const t=ve(),r=ve(),o=ve();let s=ve([]),i=ve(null),l=ve(!1),d=ve(0),b=ve(null),h=ve([]);const c=`Research project planning:
- Define project scope and objectives
  * Identify key stakeholders
  * Set timeline and milestones  
- Gather requirements
  + Conduct user interviews
  + Analyze competitor solutions
- Technical architecture
  - Choose technology stack
  - Design system architecture
- Implementation phases
  * Phase 1: Core functionality
  * Phase 2: Advanced features
  * Phase 3: Polish and optimization`;It(()=>{const F={id:"demo-root",title:"Bullet Conversion Demo",content:"Type bullet points (-, *, +) to see them convert to child nodes!",nodeType:"text",depth:0,parentId:null,children:[],expanded:!0,hasChildren:!1};H(s,[F]),H(i,F.id)});function g(F){const{content:fe,cursorPosition:le}=F.detail;H(h,B(fe));const me=T(F.detail.nodeId);me&&me.processPatterns(a(h),le)}function j(F){const{nodeId:fe,newNodes:le,cleanedContent:me}=F.detail;S(fe,me),A(fe,le),H(d,a(d)+le.length),H(b,new Date)}function S(F,fe){const le=R(F);le&&(le.content=fe,le.title=fe.substring(0,50)||"Empty node",H(s,[...a(s)]))}function A(F,fe){const le=R(F);if(!le)return;le.hasChildren=fe.length>0,le.expanded=!0,le.children=[...le.children,...fe];const me=P(fe);H(s,[...a(s),...me])}function R(F){function fe(le){for(const me of le){if(me.id===F)return me;const Te=fe(me.children);if(Te)return Te}return null}return fe(a(s))}function P(F){const fe=[];function le(me){for(const Te of me)fe.push(Te),Te.children.length>0&&le(Te.children)}return le(F),fe}function T(F){return{processPatterns(fe,le){console.log(`Processing ${fe.length} patterns for node ${F}`)}}}function B(F){if(!F)return[];const fe=[],le=F.split(`
`);let me=0;for(let Te=0;Te<le.length;Te++){const Ie=le[Te];Ie.trim();const Ue=Ie.match(/^(\s*)([-*+])\s(.+)$/);if(Ue){const[ct,tt,Xe,be]=Ue,_e=me+Ie.indexOf(Xe);_e+Xe.length+1;const Pe=me+Ie.length;fe.push({type:"bullet",start:_e,end:Pe,syntax:`${Xe} `,content:be,bulletType:Xe,line:Te,column:tt.length})}me+=Ie.length+1}return fe}function L(F){S(F.detail.nodeId,F.detail.content)}function m(F){H(i,F.detail.nodeId)}function f(F){const fe=R(F.detail.nodeId);fe&&(fe.expanded=F.detail.expanded,H(s,[...a(s)]))}function N(){const F=R("demo-root");F&&(F.content=c,H(s,[...a(s)]))}function _(){const F=R("demo-root");F&&(F.children=[],F.hasChildren=!1,F.content="",H(s,a(s).filter(fe=>fe.id==="demo-root")),H(d,0),H(b,null))}function U(F){return F.toLocaleTimeString()}Be(()=>a(s),()=>{H(t,a(s).length)}),Be(()=>a(s),()=>{H(r,a(s).filter(F=>F.parentId!==null).length)}),Be(()=>a(s),()=>{H(o,a(s).filter(F=>F.parentId===null).length)}),lt(),st();var K=Ja(),O=C(p(K),2),M=p(O),$=C(M,2),x=C($,2),w=p(x);Bn(w),Ge(),v(x),v(O);var y=C(O,2),E=p(y),u=p(E),I=C(p(u),2),q=p(I,!0);v(I),v(u);var W=C(u,2),Y=C(p(W),2),V=p(Y,!0);v(Y),v(W);var se=C(W,2),te=C(p(se),2),ue=p(te,!0);v(te),v(se);var oe=C(se,2);{var Ce=F=>{var fe=Va(),le=C(p(fe),2),me=p(le,!0);v(le),v(fe),re(Te=>ee(me,Te),[()=>(a(b),z(()=>U(a(b))))]),k(F,fe)};de(oe,F=>{a(b)&&F(Ce)})}v(E),v(y);var ge=C(y,2),he=p(ge),we=C(p(he),2),D=p(we);{var ie=F=>{var fe=ke();const le=We(()=>(a(i),z(()=>R(a(i)))));var me=xe(fe);{var Te=Ie=>{Fa(Ie,{get nodeId(){return Ne(a(le)),z(()=>a(le).id)},get nodeType(){return Ne(a(le)),z(()=>a(le).nodeType)},get hasChildren(){return Ne(a(le)),z(()=>a(le).hasChildren)},enableBulletConversion:!0,autoConvertBullets:!0,maxNestingDepth:5,get parentNodeId(){return Ne(a(le)),z(()=>a(le).id)},get content(){return a(le).content},set content(Ue){a(le).content=Ue},$$events:{requestPatternDetection:g,bulletConversion:j},$$legacy:!0})};de(me,Ie=>{a(le)&&Ie(Te)})}k(F,fe)},ae=F=>{var fe=Wa();k(F,fe)};de(D,F=>{a(i)?F(ie):F(ae,!1)})}v(we),v(he);var ce=C(he,2),Oe=C(p(ce),2),Me=p(Oe);ss(Me,{get nodes(){return a(s)},allowEdit:!1,showExpandControls:!0,$$events:{nodeUpdate:L,nodeSelect:m,nodeExpand:f}}),v(Oe),v(ce),v(ge);var Se=C(ge,2);{var ot=F=>{var fe=Za(),le=C(p(fe),2),me=p(le),Te=C(p(me),2);{var Ie=be=>{var _e=Ya();et(_e,5,()=>a(h),Pt,(Pe,He)=>{var dt=Ua(),Ee=p(dt),Ye=p(Ee,!0);v(Ee);var Qe=C(Ee),ut=C(Qe),Et=p(ut);v(ut),v(dt),re(()=>{ee(Ye,(a(He),z(()=>a(He).type))),ee(Qe,`: "${a(He),z(()=>a(He).content)??""}" `),ee(Et,`(${a(He),z(()=>a(He).start)??""}-${a(He),z(()=>a(He).end)??""})`)}),k(Pe,dt)}),v(_e),k(be,_e)},Ue=be=>{var _e=Ka();k(be,_e)};de(Te,be=>{a(h),z(()=>a(h).length>0)?be(Ie):be(Ue,!1)})}v(me);var ct=C(me,2),tt=C(p(ct),2),Xe=p(tt,!0);v(tt),v(ct),v(le),v(fe),re(be=>ee(Xe,be),[()=>(a(s),z(()=>JSON.stringify(a(s),null,2)))]),k(F,fe)};de(Se,F=>{a(l)&&F(ot)})}v(K),re(()=>{ee(q,a(t)),ee(V,a(r)),ee(ue,a(d))}),$e("click",M,N),$e("click",$,_),No(w,()=>a(l),F=>H(l,F)),k(n,K),Le()}var Qa=G('<div class="demo-node-wrapper svelte-pnpw1v"><div class="node-type-badge svelte-pnpw1v"> </div> <!></div>'),ei=G('<span class="pattern-badge svelte-pnpw1v"> </span>'),ti=G('<div class="suggestion-info svelte-pnpw1v"><strong>Suggests:</strong> </div>'),ni=G('<div class="context-details svelte-pnpw1v"><div class="content-split svelte-pnpw1v"><div class="content-before svelte-pnpw1v"><strong>Before:</strong> </div> <div class="content-after svelte-pnpw1v"><strong>After:</strong> </div></div> <div class="pattern-info svelte-pnpw1v"><strong>Pattern:</strong> </div> <!></div>'),ri=G('<div class="no-context svelte-pnpw1v">No markdown patterns detected</div>'),si=G('<div><div class="context-header svelte-pnpw1v"><span class="node-id svelte-pnpw1v"> </span> <!></div> <!></div>'),oi=G('<div class="empty-state svelte-pnpw1v">No soft newline contexts yet</div>'),ai=G('<button class="clear-btn svelte-pnpw1v">Clear All</button>'),ii=G('<div class="suggestion-item svelte-pnpw1v"><div class="suggestion-header svelte-pnpw1v"><span class="suggestion-type svelte-pnpw1v"> </span> <span class="suggestion-relationship svelte-pnpw1v"> </span></div> <div class="suggestion-content svelte-pnpw1v"> </div> <div class="suggestion-actions svelte-pnpw1v"><button class="accept-btn svelte-pnpw1v">â Accept</button> <button class="dismiss-btn svelte-pnpw1v">â Dismiss</button></div></div>'),li=G('<div class="empty-state svelte-pnpw1v">No suggestions yet</div>'),ci=G('<div class="log-entry svelte-pnpw1v"> </div>'),di=G('<div class="empty-state svelte-pnpw1v">No activity yet</div>'),ui=G(`<div class="soft-newline-demo svelte-pnpw1v"><div class="demo-header svelte-pnpw1v"><h2 class="svelte-pnpw1v">Soft Newline + Markdown Detection Demo</h2> <p class="demo-description svelte-pnpw1v">Try this: Type some text, press <kbd class="svelte-pnpw1v">Shift+Enter</kbd> to create a soft newline, 
      then type markdown syntax like <code class="svelte-pnpw1v"># Header</code>, <code class="svelte-pnpw1v">- Bullet</code>, 
      or <code class="svelte-pnpw1v">> Quote</code> to see automatic node suggestions.</p></div> <div class="demo-container svelte-pnpw1v"><div class="demo-nodes svelte-pnpw1v"><h3 class="svelte-pnpw1v">Demo Nodes</h3> <!> <button class="add-node-btn svelte-pnpw1v">+ Add Demo Node</button></div> <div class="demo-sidebar svelte-pnpw1v"><div class="context-panel svelte-pnpw1v"><h3 class="svelte-pnpw1v">Soft Newline Contexts</h3> <!></div> <div class="suggestions-panel svelte-pnpw1v"><div class="suggestions-header svelte-pnpw1v"><h3 class="svelte-pnpw1v">Node Creation Suggestions</h3> <!></div> <!></div> <div class="activity-panel svelte-pnpw1v"><h3 class="svelte-pnpw1v">Activity Log</h3> <div class="activity-log svelte-pnpw1v"></div></div></div></div></div>`);function fi(n,e){Re(e,!1);let t=ve([{id:"demo-1",content:"Try typing some text here, then press Shift-Enter...",type:"text"}]),r=ve({}),o=ve([]),s=ve([]);function i(x){const{nodeId:w,context:y}=x.detail;if(vn(r,a(r)[w]=y),y.hasMarkdownAfterNewline&&y.detectedPattern){const E=`ð Detected ${y.detectedPattern.type} pattern: "${y.detectedPattern.content}"`;g(E)}H(r,{...a(r)})}function l(x){const{suggestion:w}=x.detail;H(o,[...a(o),w]);const y=`ð¡ Suggested ${w.nodeType} node: "${w.content}"`;g(y)}function d(x){const w=a(t).findIndex(y=>{var E;return y.id===((E=a(o).find(u=>u===x))==null?void 0:E.triggerPattern),"demo-1"});if(w!==-1){const y=a(t)[w],E=Object.values(a(r))[0];if(E){vn(t,a(t)[w]={...y,content:E.contentBefore});const u={id:`demo-${Date.now()}`,content:x.content,type:x.nodeType};a(t).splice(w+1,0,u),H(t,[...a(t)]),H(o,a(o).filter(I=>I!==x)),g(`â Created ${x.nodeType} node: "${x.content}"`)}}}function b(x){H(o,a(o).filter(w=>w!==x)),g(`â Dismissed suggestion: "${x.content}"`)}function h(){const x={id:`demo-${Date.now()}`,content:"New node - try Shift-Enter here too!",type:"text"};H(t,[...a(t),x])}function c(){H(o,[]),g("ð§¹ Cleared all suggestions")}function g(x){H(s,[x,...a(s)].slice(0,10))}function j(x){return{header:"ð Header",bullet:"â¢ Bullet",blockquote:"ð¬ Quote",codeblock:"ð» Code",bold:"**Bold**",italic:"*Italic*",inlinecode:"`Code`"}[x]||x}function S(x){return{text:"ð Text",task:"â Task","ai-chat":"ð¤ AI Chat",entity:"ð¤ Entity",query:"ð Query"}[x]||x}st();var A=ui(),R=C(p(A),2),P=p(R),T=C(p(P),2);et(T,1,()=>a(t),x=>x.id,(x,w)=>{var y=Qa(),E=p(y),u=p(E,!0);v(E);var I=C(E,2);kn(I,{get nodeId(){return a(w).id},get nodeType(){return a(w).type},get content(){return a(w).content},multiline:!0,editable:!0,contentEditable:!0,placeholder:"Start typing... (try Shift-Enter then markdown syntax)",$$events:{softNewlineContext:i,nodeCreationSuggested:l}}),v(y),re(q=>ee(u,q),[()=>S(a(w).type)]),k(x,y)});var B=C(T,2);v(P);var L=C(P,2),m=p(L),f=C(p(m),2);et(f,1,()=>Object.entries(a(r)),Pt,(x,w)=>{var y=mo(()=>go(a(w),2));let E=()=>a(y)[0],u=()=>a(y)[1];var I=si();let q;var W=p(I),Y=p(W),V=p(Y);v(Y);var se=C(Y,2);{var te=ge=>{var he=ei(),we=p(he,!0);v(he),re(D=>ee(we,D),[()=>{var D;return j(((D=u().detectedPattern)==null?void 0:D.type)||"")}]),k(ge,he)};de(se,ge=>{u().hasMarkdownAfterNewline&&ge(te)})}v(W);var ue=C(W,2);{var oe=ge=>{var he=ni(),we=p(he),D=p(we),ie=C(p(D));v(D);var ae=C(D,2),ce=C(p(ae));v(ae),v(we);var Oe=C(we,2),Me=C(p(Oe));v(Oe);var Se=C(Oe,2);{var ot=F=>{var fe=ti(),le=C(p(fe));v(fe),re(me=>ee(le,` ${me??""}`),[()=>S(u().suggestedNodeType)]),k(F,fe)};de(Se,F=>{u().suggestedNodeType&&F(ot)})}v(he),re(()=>{ee(ie,` "${u().contentBefore??""}"`),ee(ce,` "${u().contentAfter??""}"`),ee(Me,` ${u().detectedPattern.syntax??""} â "${u().detectedPattern.content??""}"`)}),k(ge,he)},Ce=ge=>{var he=ri();k(ge,he)};de(ue,ge=>{u().hasMarkdownAfterNewline&&u().detectedPattern?ge(oe):ge(Ce,!1)})}v(I),re((ge,he)=>{q=Ae(I,1,"context-item svelte-pnpw1v",null,q,ge),ee(V,`Node: ${he??""}`)},[()=>({active:u().hasMarkdownAfterNewline}),()=>E().replace("demo-","#")]),k(x,I)},x=>{var w=oi();k(x,w)}),v(m);var N=C(m,2),_=p(N),U=C(p(_),2);{var K=x=>{var w=ai();$e("click",w,c),k(x,w)};de(U,x=>{a(o).length>0&&x(K)})}v(_);var O=C(_,2);et(O,1,()=>a(o),x=>x,(x,w)=>{var y=ii(),E=p(y),u=p(E),I=p(u,!0);v(u);var q=C(u,2),W=p(q);v(q),v(E);var Y=C(E,2),V=p(Y);v(Y);var se=C(Y,2),te=p(se),ue=C(te,2);v(se),v(y),re(oe=>{ee(I,oe),ee(W,`(${a(w).relationship??""})`),ee(V,`"${a(w).content??""}"`)},[()=>S(a(w).nodeType)]),$e("click",te,()=>d(a(w))),$e("click",ue,()=>b(a(w))),k(x,y)},x=>{var w=li();k(x,w)}),v(N);var M=C(N,2),$=C(p(M),2);et($,5,()=>a(s),Pt,(x,w)=>{var y=ci(),E=p(y,!0);v(y),re(()=>ee(E,a(w))),k(x,y)},x=>{var w=di();k(x,w)}),v($),v(M),v(L),v(R),v(A),$e("click",B,h),k(n,A),Le()}var vi=G('<div class="test-summary svelte-k58394"><span class="summary-item passed svelte-k58394"> </span> <span class="summary-item failed svelte-k58394"> </span> <span class="summary-item performance svelte-k58394"> </span> <span class="summary-item performance svelte-k58394"> </span></div>'),hi=G('<div class="test-scenario svelte-k58394"><h4 class="svelte-k58394"> </h4> <div class="test-node-container svelte-k58394"><!></div> <div class="scenario-info svelte-k58394"><small> </small></div></div>'),pi=G('<div><div class="result-header svelte-k58394"><span class="result-status"> </span> <span class="result-name"> </span></div> <div class="result-details"><div class="result-meta svelte-k58394"><span> </span> <span> </span></div> <div class="result-content svelte-k58394"> </div> <div class="result-message svelte-k58394"> </div></div></div>'),mi=G('<div><span class="perf-scenario svelte-k58394"> </span> <span class="perf-duration svelte-k58394"> </span> <span class="perf-status svelte-k58394"> </span></div>'),gi=G('<div class="test-results svelte-k58394"><h3>Test Results</h3> <div class="results-grid svelte-k58394"></div></div> <div class="performance-results svelte-k58394"><h3>Performance Results</h3> <div class="performance-grid svelte-k58394"></div> <div class="performance-summary svelte-k58394"><p class="svelte-k58394"><strong>Performance Target:</strong> &lt; 50ms per positioning calculation</p> <p class="svelte-k58394"><strong>Average Performance:</strong> </p> <p class="svelte-k58394"><strong>Tests Passing:</strong> </p></div></div>',1),bi=G('<div class="mock-positioning-test svelte-k58394"><h2 class="svelte-k58394">Mock Element Positioning System Test</h2> <div class="test-controls svelte-k58394"><button class="run-tests-btn svelte-k58394">Run Positioning Tests</button> <!></div> <div class="test-scenarios svelte-k58394"><h3>Interactive Test Scenarios</h3> <p>Click on the text content below to test cursor positioning accuracy:</p> <!></div> <!></div>');function yi(n,e){Re(e,!1);const t=ve(),r=ve(),o=ve(),s=ve();let i=ve([]),l=ve([]);const d=[{name:"Normal Text (14px)",content:"This is normal text for testing cursor positioning accuracy.",fontSize:"14px",multiline:!1,nodeStyle:""},{name:"Large Text (H1 - 2.5rem)",content:"This is large H1 text for testing",fontSize:"2.5rem",multiline:!1,nodeStyle:"font-size: 2.5rem; font-weight: 700;"},{name:"Medium Text (H2 - 2rem)",content:"This is medium H2 text for testing positioning",fontSize:"2rem",multiline:!1,nodeStyle:"font-size: 2rem; font-weight: 600;"},{name:"H3 Text (1.5rem)",content:"This is H3 text for testing cursor accuracy",fontSize:"1.5rem",multiline:!1,nodeStyle:"font-size: 1.5rem; font-weight: 600;"},{name:"Multi-line Normal Text",content:`Line 1 of multi-line text
Line 2 with different content
Line 3 for comprehensive testing`,fontSize:"14px",multiline:!0,nodeStyle:""},{name:"Multi-line Large Text",content:`Large line 1
Large line 2 with more text
Large line 3`,fontSize:"2rem",multiline:!0,nodeStyle:"font-size: 2rem; font-weight: 600;"},{name:"Unicode & Emojis",content:"Unicode test: rÃ©sumÃ© cafÃ© ä¸­æ ð emoji test ð¨ Ã±oÃ±o",fontSize:"14px",multiline:!1,nodeStyle:""},{name:"Long Multi-line Content",content:`This is a very long line of text that should wrap to multiple lines when displayed in a constrained width container, allowing us to test cursor positioning accuracy across wrapped content.

Second paragraph with more content to test multi-line scenarios.

Third paragraph for comprehensive testing.`,fontSize:"14px",multiline:!0,nodeStyle:""}];let b=ve([]);It(()=>{H(b,d.map((m,f)=>({id:`test-${f}`,scenario:m,nodeRef:null})))});function h(){H(i,[]),H(l,[]),d.forEach(m=>{const f=performance.now();try{const _=performance.now()-f;a(i).push({name:m.name,content:m.content.substring(0,50)+(m.content.length>50?"...":""),fontSize:m.fontSize,multiline:m.multiline,passed:!0,details:"Positioning within acceptable range"}),a(l).push({scenario:m.name,duration:_,passed:_<50})}catch(N){a(i).push({name:m.name,content:m.content.substring(0,50)+"...",fontSize:m.fontSize,multiline:m.multiline,passed:!1,details:`Error: ${N}`})}})}function c(m,f){console.log(`Click test on ${f}:`,{nodeId:m.detail.nodeId,clickEvent:m.detail.event,clientX:m.detail.event.clientX,clientY:m.detail.event.clientY})}Be(()=>a(i),()=>{H(t,a(i).filter(m=>m.passed).length)}),Be(()=>a(i),()=>{H(r,a(i).filter(m=>!m.passed).length)}),Be(()=>a(l),()=>{H(o,a(l).length>0?a(l).reduce((m,f)=>m+f.duration,0)/a(l).length:0)}),Be(()=>a(l),()=>{H(s,a(l).filter(m=>m.passed).length)}),lt(),st();var g=bi(),j=C(p(g),2),S=p(j),A=C(S,2);{var R=m=>{var f=vi(),N=p(f),_=p(N);v(N);var U=C(N,2),K=p(U);v(U);var O=C(U,2),M=p(O);v(O);var $=C(O,2),x=p($);v($),v(f),re(w=>{ee(_,`â Passed: ${a(t)??""}`),ee(K,`â Failed: ${a(r)??""}`),ee(M,`â¡ Avg: ${w??""}ms`),ee(x,`ð Performance: ${a(s)??""}/${a(l),z(()=>a(l).length)??""}`)},[()=>(a(o),z(()=>a(o).toFixed(2)))]),k(m,f)};de(A,m=>{a(i),z(()=>a(i).length>0)&&m(R)})}v(j);var P=C(j,2),T=C(p(P),4);et(T,1,()=>a(b),m=>m.id,(m,f,N)=>{var _=hi(),U=p(_),K=p(U,!0);v(U);var O=C(U,2),M=p(O);rt(kn(M,{get nodeId(){return a(f),z(()=>a(f).id)},nodeType:"text",editable:!0,contentEditable:!0,get multiline(){return a(f),z(()=>a(f).scenario.multiline)},placeholder:"Click to test positioning...",get content(){return a(f).scenario.content},set content(y){a(f).scenario.content=y,hr(()=>a(b))},$$events:{click:y=>c(y,a(f).scenario.name)},$$legacy:!0}),(y,E)=>(E.nodeRef=y,hr(()=>a(b))),y=>y==null?void 0:y.nodeRef,()=>[a(f)]),v(O);var $=C(O,2),x=p($),w=p(x);v(x),v($),v(_),re(()=>{tr(_,(a(f),z(()=>a(f).scenario.nodeStyle))),ee(K,(a(f),z(()=>a(f).scenario.name))),ee(w,`Font Size: ${a(f),z(()=>a(f).scenario.fontSize)??""} | Multiline: ${a(f),z(()=>a(f).scenario.multiline?"Yes":"No")??""} | Content Length: ${a(f),z(()=>a(f).scenario.content.length)??""} chars`)}),k(m,_)}),v(P);var B=C(P,2);{var L=m=>{var f=gi(),N=xe(f),_=C(p(N),2);et(_,5,()=>a(i),Pt,(y,E)=>{var u=pi();let I;var q=p(u),W=p(q),Y=p(W,!0);v(W);var V=C(W,2),se=p(V,!0);v(V),v(q);var te=C(q,2),ue=p(te),oe=p(ue),Ce=p(oe);v(oe);var ge=C(oe,2),he=p(ge);v(ge),v(ue);var we=C(ue,2),D=p(we,!0);v(we);var ie=C(we,2),ae=p(ie,!0);v(ie),v(te),v(u),re(ce=>{I=Ae(u,1,"result-card svelte-k58394",null,I,ce),ee(Y,(a(E),z(()=>a(E).passed?"â":"â"))),ee(se,(a(E),z(()=>a(E).name))),ee(Ce,`Font: ${a(E),z(()=>a(E).fontSize)??""}`),ee(he,`Multi: ${a(E),z(()=>a(E).multiline?"Yes":"No")??""}`),ee(D,(a(E),z(()=>a(E).content))),ee(ae,(a(E),z(()=>a(E).details)))},[()=>({passed:a(E).passed,failed:!a(E).passed})]),k(y,u)}),v(_),v(N);var U=C(N,2),K=C(p(U),2);et(K,5,()=>a(l),Pt,(y,E)=>{var u=mi();let I;var q=p(u),W=p(q,!0);v(q);var Y=C(q,2),V=p(Y);v(Y);var se=C(Y,2),te=p(se,!0);v(se),v(u),re((ue,oe)=>{I=Ae(u,1,"perf-card svelte-k58394",null,I,ue),ee(W,(a(E),z(()=>a(E).scenario))),ee(V,`${oe??""}ms`),ee(te,(a(E),z(()=>a(E).passed?"â":"â")))},[()=>({passed:a(E).passed,failed:!a(E).passed}),()=>(a(E),z(()=>a(E).duration.toFixed(2)))]),k(y,u)}),v(K);var O=C(K,2),M=C(p(O),2),$=C(p(M));v(M);var x=C(M,2),w=C(p(x));v(x),v(O),v(U),re(y=>{ee($,` ${y??""}ms`),ee(w,` ${a(s)??""}/${a(l),z(()=>a(l).length)??""}`)},[()=>(a(o),z(()=>a(o).toFixed(2)))]),k(m,f)};de(B,m=>{a(i),z(()=>a(i).length>0)&&m(L)})}v(g),$e("click",S,h),k(n,g),Le()}const rr="-",xi=n=>{const e=_i(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:i=>{const l=i.split(rr);return l[0]===""&&l.length!==1&&l.shift(),os(l,e)||wi(i)},getConflictingClassGroupIds:(i,l)=>{const d=t[i]||[];return l&&r[i]?[...d,...r[i]]:d}}},os=(n,e)=>{var i;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),o=r?os(n.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const s=n.join(rr);return(i=e.validators.find(({validator:l})=>l(s)))==null?void 0:i.classGroupId},Sr=/^\[(.+)\]$/,wi=n=>{if(Sr.test(n)){const e=Sr.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},_i=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const o in t)On(t[o],r,o,e);return r},On=(n,e,t,r)=>{n.forEach(o=>{if(typeof o=="string"){const s=o===""?e:Pr(e,o);s.classGroupId=t;return}if(typeof o=="function"){if(ki(o)){On(o(r),e,t,r);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([s,i])=>{On(i,Pr(e,s),t,r)})})},Pr=(n,e)=>{let t=n;return e.split(rr).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},ki=n=>n.isThemeGetter,Ci=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const o=(s,i)=>{t.set(s,i),e++,e>n&&(e=0,r=t,t=new Map)};return{get(s){let i=t.get(s);if(i!==void 0)return i;if((i=r.get(s))!==void 0)return o(s,i),i},set(s,i){t.has(s)?t.set(s,i):o(s,i)}}},Hn="!",Fn=":",Ti=Fn.length,Ni=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=o=>{const s=[];let i=0,l=0,d=0,b;for(let S=0;S<o.length;S++){let A=o[S];if(i===0&&l===0){if(A===Fn){s.push(o.slice(d,S)),d=S+Ti;continue}if(A==="/"){b=S;continue}}A==="["?i++:A==="]"?i--:A==="("?l++:A===")"&&l--}const h=s.length===0?o:o.substring(d),c=Si(h),g=c!==h,j=b&&b>d?b-d:void 0;return{modifiers:s,hasImportantModifier:g,baseClassName:c,maybePostfixModifierPosition:j}};if(e){const o=e+Fn,s=r;r=i=>i.startsWith(o)?s(i.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:i,maybePostfixModifierPosition:void 0}}if(t){const o=r;r=s=>t({className:s,parseClassName:o})}return r},Si=n=>n.endsWith(Hn)?n.substring(0,n.length-1):n.startsWith(Hn)?n.substring(1):n,Pi=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const o=[];let s=[];return r.forEach(i=>{i[0]==="["||e[i]?(o.push(...s.sort(),i),s=[]):s.push(i)}),o.push(...s.sort()),o}},Ii=n=>({cache:Ci(n.cacheSize),parseClassName:Ni(n),sortModifiers:Pi(n),...xi(n)}),Ai=/\s+/,Ei=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:s}=e,i=[],l=n.trim().split(Ai);let d="";for(let b=l.length-1;b>=0;b-=1){const h=l[b],{isExternal:c,modifiers:g,hasImportantModifier:j,baseClassName:S,maybePostfixModifierPosition:A}=t(h);if(c){d=h+(d.length>0?" "+d:d);continue}let R=!!A,P=r(R?S.substring(0,A):S);if(!P){if(!R){d=h+(d.length>0?" "+d:d);continue}if(P=r(S),!P){d=h+(d.length>0?" "+d:d);continue}R=!1}const T=s(g).join(":"),B=j?T+Hn:T,L=B+P;if(i.includes(L))continue;i.push(L);const m=o(P,R);for(let f=0;f<m.length;++f){const N=m[f];i.push(B+N)}d=h+(d.length>0?" "+d:d)}return d};function Mi(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=as(e))&&(r&&(r+=" "),r+=t);return r}const as=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=as(n[r]))&&(t&&(t+=" "),t+=e);return t};function $i(n,...e){let t,r,o,s=i;function i(d){const b=e.reduce((h,c)=>c(h),n());return t=Ii(b),r=t.cache.get,o=t.cache.set,s=l,l(d)}function l(d){const b=r(d);if(b)return b;const h=Ei(d,t);return o(d,h),h}return function(){return s(Mi.apply(null,arguments))}}const qe=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},is=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ls=/^\((?:(\w[\w-]*):)?(.+)\)$/i,zi=/^\d+\/\d+$/,Ri=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Li=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qi=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Di=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Bi=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zt=n=>zi.test(n),pe=n=>!!n&&!Number.isNaN(Number(n)),bt=n=>!!n&&Number.isInteger(Number(n)),En=n=>n.endsWith("%")&&pe(n.slice(0,-1)),ht=n=>Ri.test(n),ji=()=>!0,Gi=n=>Li.test(n)&&!qi.test(n),cs=()=>!1,Oi=n=>Di.test(n),Hi=n=>Bi.test(n),Fi=n=>!Z(n)&&!J(n),Vi=n=>qt(n,fs,cs),Z=n=>is.test(n),wt=n=>qt(n,vs,Gi),Mn=n=>qt(n,Zi,pe),Ir=n=>qt(n,ds,cs),Wi=n=>qt(n,us,Hi),sn=n=>qt(n,hs,Oi),J=n=>ls.test(n),Ht=n=>Dt(n,vs),Ui=n=>Dt(n,Ji),Ar=n=>Dt(n,ds),Yi=n=>Dt(n,fs),Ki=n=>Dt(n,us),on=n=>Dt(n,hs,!0),qt=(n,e,t)=>{const r=is.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},Dt=(n,e,t=!1)=>{const r=ls.exec(n);return r?r[1]?e(r[1]):t:!1},ds=n=>n==="position"||n==="percentage",us=n=>n==="image"||n==="url",fs=n=>n==="length"||n==="size"||n==="bg-size",vs=n=>n==="length",Zi=n=>n==="number",Ji=n=>n==="family-name",hs=n=>n==="shadow",Xi=()=>{const n=qe("color"),e=qe("font"),t=qe("text"),r=qe("font-weight"),o=qe("tracking"),s=qe("leading"),i=qe("breakpoint"),l=qe("container"),d=qe("spacing"),b=qe("radius"),h=qe("shadow"),c=qe("inset-shadow"),g=qe("text-shadow"),j=qe("drop-shadow"),S=qe("blur"),A=qe("perspective"),R=qe("aspect"),P=qe("ease"),T=qe("animate"),B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],m=()=>[...L(),J,Z],f=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],_=()=>[J,Z,d],U=()=>[zt,"full","auto",..._()],K=()=>[bt,"none","subgrid",J,Z],O=()=>["auto",{span:["full",bt,J,Z]},bt,J,Z],M=()=>[bt,"auto",J,Z],$=()=>["auto","min","max","fr",J,Z],x=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],w=()=>["start","end","center","stretch","center-safe","end-safe"],y=()=>["auto",..._()],E=()=>[zt,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",..._()],u=()=>[n,J,Z],I=()=>[...L(),Ar,Ir,{position:[J,Z]}],q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],W=()=>["auto","cover","contain",Yi,Vi,{size:[J,Z]}],Y=()=>[En,Ht,wt],V=()=>["","none","full",b,J,Z],se=()=>["",pe,Ht,wt],te=()=>["solid","dashed","dotted","double"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],oe=()=>[pe,En,Ar,Ir],Ce=()=>["","none",S,J,Z],ge=()=>["none",pe,J,Z],he=()=>["none",pe,J,Z],we=()=>[pe,J,Z],D=()=>[zt,"full",..._()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ht],breakpoint:[ht],color:[ji],container:[ht],"drop-shadow":[ht],ease:["in","out","in-out"],font:[Fi],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ht],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ht],shadow:[ht],spacing:["px",pe],text:[ht],"text-shadow":[ht],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",zt,Z,J,R]}],container:["container"],columns:[{columns:[pe,Z,J,l]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:m()}],overflow:[{overflow:f()}],"overflow-x":[{"overflow-x":f()}],"overflow-y":[{"overflow-y":f()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:U()}],"inset-x":[{"inset-x":U()}],"inset-y":[{"inset-y":U()}],start:[{start:U()}],end:[{end:U()}],top:[{top:U()}],right:[{right:U()}],bottom:[{bottom:U()}],left:[{left:U()}],visibility:["visible","invisible","collapse"],z:[{z:[bt,"auto",J,Z]}],basis:[{basis:[zt,"full","auto",l,..._()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[pe,zt,"auto","initial","none",Z]}],grow:[{grow:["",pe,J,Z]}],shrink:[{shrink:["",pe,J,Z]}],order:[{order:[bt,"first","last","none",J,Z]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:_()}],"gap-x":[{"gap-x":_()}],"gap-y":[{"gap-y":_()}],"justify-content":[{justify:[...x(),"normal"]}],"justify-items":[{"justify-items":[...w(),"normal"]}],"justify-self":[{"justify-self":["auto",...w()]}],"align-content":[{content:["normal",...x()]}],"align-items":[{items:[...w(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...w(),{baseline:["","last"]}]}],"place-content":[{"place-content":x()}],"place-items":[{"place-items":[...w(),"baseline"]}],"place-self":[{"place-self":["auto",...w()]}],p:[{p:_()}],px:[{px:_()}],py:[{py:_()}],ps:[{ps:_()}],pe:[{pe:_()}],pt:[{pt:_()}],pr:[{pr:_()}],pb:[{pb:_()}],pl:[{pl:_()}],m:[{m:y()}],mx:[{mx:y()}],my:[{my:y()}],ms:[{ms:y()}],me:[{me:y()}],mt:[{mt:y()}],mr:[{mr:y()}],mb:[{mb:y()}],ml:[{ml:y()}],"space-x":[{"space-x":_()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":_()}],"space-y-reverse":["space-y-reverse"],size:[{size:E()}],w:[{w:[l,"screen",...E()]}],"min-w":[{"min-w":[l,"screen","none",...E()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[i]},...E()]}],h:[{h:["screen","lh",...E()]}],"min-h":[{"min-h":["screen","lh","none",...E()]}],"max-h":[{"max-h":["screen","lh",...E()]}],"font-size":[{text:["base",t,Ht,wt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,J,Mn]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",En,Z]}],"font-family":[{font:[Ui,Z,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,J,Z]}],"line-clamp":[{"line-clamp":[pe,"none",J,Mn]}],leading:[{leading:[s,..._()]}],"list-image":[{"list-image":["none",J,Z]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",J,Z]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:u()}],"text-color":[{text:u()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:[pe,"from-font","auto",J,wt]}],"text-decoration-color":[{decoration:u()}],"underline-offset":[{"underline-offset":[pe,"auto",J,Z]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",J,Z]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",J,Z]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:I()}],"bg-repeat":[{bg:q()}],"bg-size":[{bg:W()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},bt,J,Z],radial:["",J,Z],conic:[bt,J,Z]},Ki,Wi]}],"bg-color":[{bg:u()}],"gradient-from-pos":[{from:Y()}],"gradient-via-pos":[{via:Y()}],"gradient-to-pos":[{to:Y()}],"gradient-from":[{from:u()}],"gradient-via":[{via:u()}],"gradient-to":[{to:u()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...te(),"hidden","none"]}],"divide-style":[{divide:[...te(),"hidden","none"]}],"border-color":[{border:u()}],"border-color-x":[{"border-x":u()}],"border-color-y":[{"border-y":u()}],"border-color-s":[{"border-s":u()}],"border-color-e":[{"border-e":u()}],"border-color-t":[{"border-t":u()}],"border-color-r":[{"border-r":u()}],"border-color-b":[{"border-b":u()}],"border-color-l":[{"border-l":u()}],"divide-color":[{divide:u()}],"outline-style":[{outline:[...te(),"none","hidden"]}],"outline-offset":[{"outline-offset":[pe,J,Z]}],"outline-w":[{outline:["",pe,Ht,wt]}],"outline-color":[{outline:u()}],shadow:[{shadow:["","none",h,on,sn]}],"shadow-color":[{shadow:u()}],"inset-shadow":[{"inset-shadow":["none",c,on,sn]}],"inset-shadow-color":[{"inset-shadow":u()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:u()}],"ring-offset-w":[{"ring-offset":[pe,wt]}],"ring-offset-color":[{"ring-offset":u()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":u()}],"text-shadow":[{"text-shadow":["none",g,on,sn]}],"text-shadow-color":[{"text-shadow":u()}],opacity:[{opacity:[pe,J,Z]}],"mix-blend":[{"mix-blend":[...ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[pe]}],"mask-image-linear-from-pos":[{"mask-linear-from":oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":oe()}],"mask-image-linear-from-color":[{"mask-linear-from":u()}],"mask-image-linear-to-color":[{"mask-linear-to":u()}],"mask-image-t-from-pos":[{"mask-t-from":oe()}],"mask-image-t-to-pos":[{"mask-t-to":oe()}],"mask-image-t-from-color":[{"mask-t-from":u()}],"mask-image-t-to-color":[{"mask-t-to":u()}],"mask-image-r-from-pos":[{"mask-r-from":oe()}],"mask-image-r-to-pos":[{"mask-r-to":oe()}],"mask-image-r-from-color":[{"mask-r-from":u()}],"mask-image-r-to-color":[{"mask-r-to":u()}],"mask-image-b-from-pos":[{"mask-b-from":oe()}],"mask-image-b-to-pos":[{"mask-b-to":oe()}],"mask-image-b-from-color":[{"mask-b-from":u()}],"mask-image-b-to-color":[{"mask-b-to":u()}],"mask-image-l-from-pos":[{"mask-l-from":oe()}],"mask-image-l-to-pos":[{"mask-l-to":oe()}],"mask-image-l-from-color":[{"mask-l-from":u()}],"mask-image-l-to-color":[{"mask-l-to":u()}],"mask-image-x-from-pos":[{"mask-x-from":oe()}],"mask-image-x-to-pos":[{"mask-x-to":oe()}],"mask-image-x-from-color":[{"mask-x-from":u()}],"mask-image-x-to-color":[{"mask-x-to":u()}],"mask-image-y-from-pos":[{"mask-y-from":oe()}],"mask-image-y-to-pos":[{"mask-y-to":oe()}],"mask-image-y-from-color":[{"mask-y-from":u()}],"mask-image-y-to-color":[{"mask-y-to":u()}],"mask-image-radial":[{"mask-radial":[J,Z]}],"mask-image-radial-from-pos":[{"mask-radial-from":oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":oe()}],"mask-image-radial-from-color":[{"mask-radial-from":u()}],"mask-image-radial-to-color":[{"mask-radial-to":u()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":L()}],"mask-image-conic-pos":[{"mask-conic":[pe]}],"mask-image-conic-from-pos":[{"mask-conic-from":oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":oe()}],"mask-image-conic-from-color":[{"mask-conic-from":u()}],"mask-image-conic-to-color":[{"mask-conic-to":u()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:I()}],"mask-repeat":[{mask:q()}],"mask-size":[{mask:W()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",J,Z]}],filter:[{filter:["","none",J,Z]}],blur:[{blur:Ce()}],brightness:[{brightness:[pe,J,Z]}],contrast:[{contrast:[pe,J,Z]}],"drop-shadow":[{"drop-shadow":["","none",j,on,sn]}],"drop-shadow-color":[{"drop-shadow":u()}],grayscale:[{grayscale:["",pe,J,Z]}],"hue-rotate":[{"hue-rotate":[pe,J,Z]}],invert:[{invert:["",pe,J,Z]}],saturate:[{saturate:[pe,J,Z]}],sepia:[{sepia:["",pe,J,Z]}],"backdrop-filter":[{"backdrop-filter":["","none",J,Z]}],"backdrop-blur":[{"backdrop-blur":Ce()}],"backdrop-brightness":[{"backdrop-brightness":[pe,J,Z]}],"backdrop-contrast":[{"backdrop-contrast":[pe,J,Z]}],"backdrop-grayscale":[{"backdrop-grayscale":["",pe,J,Z]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[pe,J,Z]}],"backdrop-invert":[{"backdrop-invert":["",pe,J,Z]}],"backdrop-opacity":[{"backdrop-opacity":[pe,J,Z]}],"backdrop-saturate":[{"backdrop-saturate":[pe,J,Z]}],"backdrop-sepia":[{"backdrop-sepia":["",pe,J,Z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":_()}],"border-spacing-x":[{"border-spacing-x":_()}],"border-spacing-y":[{"border-spacing-y":_()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",J,Z]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[pe,"initial",J,Z]}],ease:[{ease:["linear","initial",P,J,Z]}],delay:[{delay:[pe,J,Z]}],animate:[{animate:["none",T,J,Z]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[A,J,Z]}],"perspective-origin":[{"perspective-origin":m()}],rotate:[{rotate:ge()}],"rotate-x":[{"rotate-x":ge()}],"rotate-y":[{"rotate-y":ge()}],"rotate-z":[{"rotate-z":ge()}],scale:[{scale:he()}],"scale-x":[{"scale-x":he()}],"scale-y":[{"scale-y":he()}],"scale-z":[{"scale-z":he()}],"scale-3d":["scale-3d"],skew:[{skew:we()}],"skew-x":[{"skew-x":we()}],"skew-y":[{"skew-y":we()}],transform:[{transform:[J,Z,"","none","gpu","cpu"]}],"transform-origin":[{origin:m()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:D()}],"translate-x":[{"translate-x":D()}],"translate-y":[{"translate-y":D()}],"translate-z":[{"translate-z":D()}],"translate-none":["translate-none"],accent:[{accent:u()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:u()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",J,Z]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",J,Z]}],fill:[{fill:["none",...u()]}],"stroke-w":[{stroke:[pe,Ht,wt,Mn]}],stroke:[{stroke:["none",...u()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Qi=$i(Xi);function gt(...n){return Qi(Qr(n))}var Er=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,Ke=n=>!n||typeof n!="object"||Object.keys(n).length===0,el=(n,e)=>JSON.stringify(n)===JSON.stringify(e);function ps(n,e){n.forEach(function(t){Array.isArray(t)?ps(t,e):e.push(t)})}function ms(n){let e=[];return ps(n,e),e}var gs=(...n)=>ms(n).filter(Boolean),bs=(n,e)=>{let t={},r=Object.keys(n),o=Object.keys(e);for(let s of r)if(o.includes(s)){let i=n[s],l=e[s];Array.isArray(i)||Array.isArray(l)?t[s]=gs(l,i):typeof i=="object"&&typeof l=="object"?t[s]=bs(i,l):t[s]=l+" "+i}else t[s]=n[s];for(let s of o)r.includes(s)||(t[s]=e[s]);return t},Mr=n=>!n||typeof n!="string"?n:n.replace(/\s+/g," ").trim();const sr="-",tl=n=>{const e=rl(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:i=>{const l=i.split(sr);return l[0]===""&&l.length!==1&&l.shift(),ys(l,e)||nl(i)},getConflictingClassGroupIds:(i,l)=>{const d=t[i]||[];return l&&r[i]?[...d,...r[i]]:d}}},ys=(n,e)=>{var i;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),o=r?ys(n.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const s=n.join(sr);return(i=e.validators.find(({validator:l})=>l(s)))==null?void 0:i.classGroupId},$r=/^\[(.+)\]$/,nl=n=>{if($r.test(n)){const e=$r.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},rl=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const o in t)Vn(t[o],r,o,e);return r},Vn=(n,e,t,r)=>{n.forEach(o=>{if(typeof o=="string"){const s=o===""?e:zr(e,o);s.classGroupId=t;return}if(typeof o=="function"){if(sl(o)){Vn(o(r),e,t,r);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([s,i])=>{Vn(i,zr(e,s),t,r)})})},zr=(n,e)=>{let t=n;return e.split(sr).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},sl=n=>n.isThemeGetter,ol=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const o=(s,i)=>{t.set(s,i),e++,e>n&&(e=0,r=t,t=new Map)};return{get(s){let i=t.get(s);if(i!==void 0)return i;if((i=r.get(s))!==void 0)return o(s,i),i},set(s,i){t.has(s)?t.set(s,i):o(s,i)}}},Wn="!",Un=":",al=Un.length,il=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=o=>{const s=[];let i=0,l=0,d=0,b;for(let S=0;S<o.length;S++){let A=o[S];if(i===0&&l===0){if(A===Un){s.push(o.slice(d,S)),d=S+al;continue}if(A==="/"){b=S;continue}}A==="["?i++:A==="]"?i--:A==="("?l++:A===")"&&l--}const h=s.length===0?o:o.substring(d),c=ll(h),g=c!==h,j=b&&b>d?b-d:void 0;return{modifiers:s,hasImportantModifier:g,baseClassName:c,maybePostfixModifierPosition:j}};if(e){const o=e+Un,s=r;r=i=>i.startsWith(o)?s(i.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:i,maybePostfixModifierPosition:void 0}}if(t){const o=r;r=s=>t({className:s,parseClassName:o})}return r},ll=n=>n.endsWith(Wn)?n.substring(0,n.length-1):n.startsWith(Wn)?n.substring(1):n,cl=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const o=[];let s=[];return r.forEach(i=>{i[0]==="["||e[i]?(o.push(...s.sort(),i),s=[]):s.push(i)}),o.push(...s.sort()),o}},dl=n=>({cache:ol(n.cacheSize),parseClassName:il(n),sortModifiers:cl(n),...tl(n)}),ul=/\s+/,fl=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:s}=e,i=[],l=n.trim().split(ul);let d="";for(let b=l.length-1;b>=0;b-=1){const h=l[b],{isExternal:c,modifiers:g,hasImportantModifier:j,baseClassName:S,maybePostfixModifierPosition:A}=t(h);if(c){d=h+(d.length>0?" "+d:d);continue}let R=!!A,P=r(R?S.substring(0,A):S);if(!P){if(!R){d=h+(d.length>0?" "+d:d);continue}if(P=r(S),!P){d=h+(d.length>0?" "+d:d);continue}R=!1}const T=s(g).join(":"),B=j?T+Wn:T,L=B+P;if(i.includes(L))continue;i.push(L);const m=o(P,R);for(let f=0;f<m.length;++f){const N=m[f];i.push(B+N)}d=h+(d.length>0?" "+d:d)}return d};function vl(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=xs(e))&&(r&&(r+=" "),r+=t);return r}const xs=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=xs(n[r]))&&(t&&(t+=" "),t+=e);return t};function Yn(n,...e){let t,r,o,s=i;function i(d){const b=e.reduce((h,c)=>c(h),n());return t=dl(b),r=t.cache.get,o=t.cache.set,s=l,l(d)}function l(d){const b=r(d);if(b)return b;const h=fl(d,t);return o(d,h),h}return function(){return s(vl.apply(null,arguments))}}const je=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},ws=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,_s=/^\((?:(\w[\w-]*):)?(.+)\)$/i,hl=/^\d+\/\d+$/,pl=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ml=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gl=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bl=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yl=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Rt=n=>hl.test(n),ye=n=>!!n&&!Number.isNaN(Number(n)),_t=n=>!!n&&Number.isInteger(Number(n)),Rr=n=>n.endsWith("%")&&ye(n.slice(0,-1)),yt=n=>pl.test(n),xl=()=>!0,wl=n=>ml.test(n)&&!gl.test(n),or=()=>!1,_l=n=>bl.test(n),kl=n=>yl.test(n),Cl=n=>!X(n)&&!Q(n),Tl=n=>Bt(n,Ts,or),X=n=>ws.test(n),kt=n=>Bt(n,Ns,wl),$n=n=>Bt(n,Ll,ye),Nl=n=>Bt(n,ks,or),Sl=n=>Bt(n,Cs,kl),Pl=n=>Bt(n,or,_l),Q=n=>_s.test(n),an=n=>jt(n,Ns),Il=n=>jt(n,ql),Al=n=>jt(n,ks),El=n=>jt(n,Ts),Ml=n=>jt(n,Cs),$l=n=>jt(n,Dl,!0),Bt=(n,e,t)=>{const r=ws.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},jt=(n,e,t=!1)=>{const r=_s.exec(n);return r?r[1]?e(r[1]):t:!1},ks=n=>n==="position",zl=new Set(["image","url"]),Cs=n=>zl.has(n),Rl=new Set(["length","size","percentage"]),Ts=n=>Rl.has(n),Ns=n=>n==="length",Ll=n=>n==="number",ql=n=>n==="family-name",Dl=n=>n==="shadow",Kn=()=>{const n=je("color"),e=je("font"),t=je("text"),r=je("font-weight"),o=je("tracking"),s=je("leading"),i=je("breakpoint"),l=je("container"),d=je("spacing"),b=je("radius"),h=je("shadow"),c=je("inset-shadow"),g=je("drop-shadow"),j=je("blur"),S=je("perspective"),A=je("aspect"),R=je("ease"),P=je("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["auto","hidden","clip","visible","scroll"],m=()=>["auto","contain","none"],f=()=>[Q,X,d],N=()=>[Rt,"full","auto",...f()],_=()=>[_t,"none","subgrid",Q,X],U=()=>["auto",{span:["full",_t,Q,X]},Q,X],K=()=>[_t,"auto",Q,X],O=()=>["auto","min","max","fr",Q,X],M=()=>["start","end","center","between","around","evenly","stretch","baseline"],$=()=>["start","end","center","stretch"],x=()=>["auto",...f()],w=()=>[Rt,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...f()],y=()=>[n,Q,X],E=()=>[Rr,kt],u=()=>["","none","full",b,Q,X],I=()=>["",ye,an,kt],q=()=>["solid","dashed","dotted","double"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["","none",j,Q,X],V=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Q,X],se=()=>["none",ye,Q,X],te=()=>["none",ye,Q,X],ue=()=>[ye,Q,X],oe=()=>[Rt,"full",...f()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[yt],breakpoint:[yt],color:[xl],container:[yt],"drop-shadow":[yt],ease:["in","out","in-out"],font:[Cl],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[yt],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[yt],shadow:[yt],spacing:["px",ye],text:[yt],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Rt,X,Q,A]}],container:["container"],columns:[{columns:[ye,X,Q,l]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),X,Q]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:m()}],"overscroll-x":[{"overscroll-x":m()}],"overscroll-y":[{"overscroll-y":m()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[_t,"auto",Q,X]}],basis:[{basis:[Rt,"full","auto",l,...f()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ye,Rt,"auto","initial","none",X]}],grow:[{grow:["",ye,Q,X]}],shrink:[{shrink:["",ye,Q,X]}],order:[{order:[_t,"first","last","none",Q,X]}],"grid-cols":[{"grid-cols":_()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":_()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:f()}],"gap-x":[{"gap-x":f()}],"gap-y":[{"gap-y":f()}],"justify-content":[{justify:[...M(),"normal"]}],"justify-items":[{"justify-items":[...$(),"normal"]}],"justify-self":[{"justify-self":["auto",...$()]}],"align-content":[{content:["normal",...M()]}],"align-items":[{items:[...$(),"baseline"]}],"align-self":[{self:["auto",...$(),"baseline"]}],"place-content":[{"place-content":M()}],"place-items":[{"place-items":[...$(),"baseline"]}],"place-self":[{"place-self":["auto",...$()]}],p:[{p:f()}],px:[{px:f()}],py:[{py:f()}],ps:[{ps:f()}],pe:[{pe:f()}],pt:[{pt:f()}],pr:[{pr:f()}],pb:[{pb:f()}],pl:[{pl:f()}],m:[{m:x()}],mx:[{mx:x()}],my:[{my:x()}],ms:[{ms:x()}],me:[{me:x()}],mt:[{mt:x()}],mr:[{mr:x()}],mb:[{mb:x()}],ml:[{ml:x()}],"space-x":[{"space-x":f()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":f()}],"space-y-reverse":["space-y-reverse"],size:[{size:w()}],w:[{w:[l,"screen",...w()]}],"min-w":[{"min-w":[l,"screen","none",...w()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[i]},...w()]}],h:[{h:["screen",...w()]}],"min-h":[{"min-h":["screen","none",...w()]}],"max-h":[{"max-h":["screen",...w()]}],"font-size":[{text:["base",t,an,kt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Q,$n]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Rr,X]}],"font-family":[{font:[Il,X,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Q,X]}],"line-clamp":[{"line-clamp":[ye,"none",Q,$n]}],leading:[{leading:[s,...f()]}],"list-image":[{"list-image":["none",Q,X]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Q,X]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:y()}],"text-color":[{text:y()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:[ye,"from-font","auto",Q,kt]}],"text-decoration-color":[{decoration:y()}],"underline-offset":[{"underline-offset":[ye,"auto",Q,X]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:f()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Q,X]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Q,X]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),Al,Nl]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",El,Tl]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},_t,Q,X],radial:["",Q,X],conic:[_t,Q,X]},Ml,Sl]}],"bg-color":[{bg:y()}],"gradient-from-pos":[{from:E()}],"gradient-via-pos":[{via:E()}],"gradient-to-pos":[{to:E()}],"gradient-from":[{from:y()}],"gradient-via":[{via:y()}],"gradient-to":[{to:y()}],rounded:[{rounded:u()}],"rounded-s":[{"rounded-s":u()}],"rounded-e":[{"rounded-e":u()}],"rounded-t":[{"rounded-t":u()}],"rounded-r":[{"rounded-r":u()}],"rounded-b":[{"rounded-b":u()}],"rounded-l":[{"rounded-l":u()}],"rounded-ss":[{"rounded-ss":u()}],"rounded-se":[{"rounded-se":u()}],"rounded-ee":[{"rounded-ee":u()}],"rounded-es":[{"rounded-es":u()}],"rounded-tl":[{"rounded-tl":u()}],"rounded-tr":[{"rounded-tr":u()}],"rounded-br":[{"rounded-br":u()}],"rounded-bl":[{"rounded-bl":u()}],"border-w":[{border:I()}],"border-w-x":[{"border-x":I()}],"border-w-y":[{"border-y":I()}],"border-w-s":[{"border-s":I()}],"border-w-e":[{"border-e":I()}],"border-w-t":[{"border-t":I()}],"border-w-r":[{"border-r":I()}],"border-w-b":[{"border-b":I()}],"border-w-l":[{"border-l":I()}],"divide-x":[{"divide-x":I()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":I()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...q(),"hidden","none"]}],"divide-style":[{divide:[...q(),"hidden","none"]}],"border-color":[{border:y()}],"border-color-x":[{"border-x":y()}],"border-color-y":[{"border-y":y()}],"border-color-s":[{"border-s":y()}],"border-color-e":[{"border-e":y()}],"border-color-t":[{"border-t":y()}],"border-color-r":[{"border-r":y()}],"border-color-b":[{"border-b":y()}],"border-color-l":[{"border-l":y()}],"divide-color":[{divide:y()}],"outline-style":[{outline:[...q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ye,Q,X]}],"outline-w":[{outline:["",ye,an,kt]}],"outline-color":[{outline:[n]}],shadow:[{shadow:["","none",h,$l,Pl]}],"shadow-color":[{shadow:y()}],"inset-shadow":[{"inset-shadow":["none",Q,X,c]}],"inset-shadow-color":[{"inset-shadow":y()}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:y()}],"ring-offset-w":[{"ring-offset":[ye,kt]}],"ring-offset-color":[{"ring-offset":y()}],"inset-ring-w":[{"inset-ring":I()}],"inset-ring-color":[{"inset-ring":y()}],opacity:[{opacity:[ye,Q,X]}],"mix-blend":[{"mix-blend":[...W(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none",Q,X]}],blur:[{blur:Y()}],brightness:[{brightness:[ye,Q,X]}],contrast:[{contrast:[ye,Q,X]}],"drop-shadow":[{"drop-shadow":["","none",g,Q,X]}],grayscale:[{grayscale:["",ye,Q,X]}],"hue-rotate":[{"hue-rotate":[ye,Q,X]}],invert:[{invert:["",ye,Q,X]}],saturate:[{saturate:[ye,Q,X]}],sepia:[{sepia:["",ye,Q,X]}],"backdrop-filter":[{"backdrop-filter":["","none",Q,X]}],"backdrop-blur":[{"backdrop-blur":Y()}],"backdrop-brightness":[{"backdrop-brightness":[ye,Q,X]}],"backdrop-contrast":[{"backdrop-contrast":[ye,Q,X]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ye,Q,X]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ye,Q,X]}],"backdrop-invert":[{"backdrop-invert":["",ye,Q,X]}],"backdrop-opacity":[{"backdrop-opacity":[ye,Q,X]}],"backdrop-saturate":[{"backdrop-saturate":[ye,Q,X]}],"backdrop-sepia":[{"backdrop-sepia":["",ye,Q,X]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":f()}],"border-spacing-x":[{"border-spacing-x":f()}],"border-spacing-y":[{"border-spacing-y":f()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Q,X]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ye,"initial",Q,X]}],ease:[{ease:["linear","initial",R,Q,X]}],delay:[{delay:[ye,Q,X]}],animate:[{animate:["none",P,Q,X]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,Q,X]}],"perspective-origin":[{"perspective-origin":V()}],rotate:[{rotate:se()}],"rotate-x":[{"rotate-x":se()}],"rotate-y":[{"rotate-y":se()}],"rotate-z":[{"rotate-z":se()}],scale:[{scale:te()}],"scale-x":[{"scale-x":te()}],"scale-y":[{"scale-y":te()}],"scale-z":[{"scale-z":te()}],"scale-3d":["scale-3d"],skew:[{skew:ue()}],"skew-x":[{"skew-x":ue()}],"skew-y":[{"skew-y":ue()}],transform:[{transform:[Q,X,"","none","gpu","cpu"]}],"transform-origin":[{origin:V()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:oe()}],"translate-x":[{"translate-x":oe()}],"translate-y":[{"translate-y":oe()}],"translate-z":[{"translate-z":oe()}],"translate-none":["translate-none"],accent:[{accent:y()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:y()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Q,X]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":f()}],"scroll-mx":[{"scroll-mx":f()}],"scroll-my":[{"scroll-my":f()}],"scroll-ms":[{"scroll-ms":f()}],"scroll-me":[{"scroll-me":f()}],"scroll-mt":[{"scroll-mt":f()}],"scroll-mr":[{"scroll-mr":f()}],"scroll-mb":[{"scroll-mb":f()}],"scroll-ml":[{"scroll-ml":f()}],"scroll-p":[{"scroll-p":f()}],"scroll-px":[{"scroll-px":f()}],"scroll-py":[{"scroll-py":f()}],"scroll-ps":[{"scroll-ps":f()}],"scroll-pe":[{"scroll-pe":f()}],"scroll-pt":[{"scroll-pt":f()}],"scroll-pr":[{"scroll-pr":f()}],"scroll-pb":[{"scroll-pb":f()}],"scroll-pl":[{"scroll-pl":f()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Q,X]}],fill:[{fill:["none",...y()]}],"stroke-w":[{stroke:[ye,an,kt,$n]}],stroke:[{stroke:["none",...y()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},Bl=(n,{cacheSize:e,prefix:t,experimentalParseClassName:r,extend:o={},override:s={}})=>(Ut(n,"cacheSize",e),Ut(n,"prefix",t),Ut(n,"experimentalParseClassName",r),ln(n.theme,s.theme),ln(n.classGroups,s.classGroups),ln(n.conflictingClassGroups,s.conflictingClassGroups),ln(n.conflictingClassGroupModifiers,s.conflictingClassGroupModifiers),Ut(n,"orderSensitiveModifiers",s.orderSensitiveModifiers),cn(n.theme,o.theme),cn(n.classGroups,o.classGroups),cn(n.conflictingClassGroups,o.conflictingClassGroups),cn(n.conflictingClassGroupModifiers,o.conflictingClassGroupModifiers),Ss(n,o,"orderSensitiveModifiers"),n),Ut=(n,e,t)=>{t!==void 0&&(n[e]=t)},ln=(n,e)=>{if(e)for(const t in e)Ut(n,t,e[t])},cn=(n,e)=>{if(e)for(const t in e)Ss(n,e,t)},Ss=(n,e,t)=>{const r=e[t];r!==void 0&&(n[t]=n[t]?n[t].concat(r):r)},jl=(n,...e)=>typeof n=="function"?Yn(Kn,n,...e):Yn(()=>Bl(Kn(),n),...e),Gl=Yn(Kn);var Ol={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},Ps=n=>n||void 0,tn=(...n)=>Ps(ms(n).filter(Boolean).join(" ")),zn=null,pt={},Zn=!1,Ft=(...n)=>e=>e.twMerge?((!zn||Zn)&&(Zn=!1,zn=Ke(pt)?Gl:jl({...pt,extend:{theme:pt.theme,classGroups:pt.classGroups,conflictingClassGroupModifiers:pt.conflictingClassGroupModifiers,conflictingClassGroups:pt.conflictingClassGroups,...pt.extend}})),Ps(zn(tn(n)))):tn(n),Lr=(n,e)=>{for(let t in e)n.hasOwnProperty(t)?n[t]=tn(n[t],e[t]):n[t]=e[t];return n},Hl=(n,e)=>{let{extend:t=null,slots:r={},variants:o={},compoundVariants:s=[],compoundSlots:i=[],defaultVariants:l={}}=n,d={...Ol,...e},b=t!=null&&t.base?tn(t.base,n==null?void 0:n.base):n==null?void 0:n.base,h=t!=null&&t.variants&&!Ke(t.variants)?bs(o,t.variants):o,c=t!=null&&t.defaultVariants&&!Ke(t.defaultVariants)?{...t.defaultVariants,...l}:l;!Ke(d.twMergeConfig)&&!el(d.twMergeConfig,pt)&&(Zn=!0,pt=d.twMergeConfig);let g=Ke(t==null?void 0:t.slots),j=Ke(r)?{}:{base:tn(n==null?void 0:n.base,g&&(t==null?void 0:t.base)),...r},S=g?j:Lr({...t==null?void 0:t.slots},Ke(j)?{base:n==null?void 0:n.base}:j),A=Ke(t==null?void 0:t.compoundVariants)?s:gs(t==null?void 0:t.compoundVariants,s),R=T=>{if(Ke(h)&&Ke(r)&&g)return Ft(b,T==null?void 0:T.class,T==null?void 0:T.className)(d);if(A&&!Array.isArray(A))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof A}`);if(i&&!Array.isArray(i))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof i}`);let B=(M,$,x=[],w)=>{let y=x;if(typeof $=="string")y=y.concat(Mr($).split(" ").map(E=>`${M}:${E}`));else if(Array.isArray($))y=y.concat($.reduce((E,u)=>E.concat(`${M}:${u}`),[]));else if(typeof $=="object"&&typeof w=="string"){for(let E in $)if($.hasOwnProperty(E)&&E===w){let u=$[E];if(u&&typeof u=="string"){let I=Mr(u);y[w]?y[w]=y[w].concat(I.split(" ").map(q=>`${M}:${q}`)):y[w]=I.split(" ").map(q=>`${M}:${q}`)}else Array.isArray(u)&&u.length>0&&(y[w]=u.reduce((I,q)=>I.concat(`${M}:${q}`),[]))}}return y},L=(M,$=h,x=null,w=null)=>{var y;let E=$[M];if(!E||Ke(E))return null;let u=(y=w==null?void 0:w[M])!=null?y:T==null?void 0:T[M];if(u===null)return null;let I=Er(u),q=Array.isArray(d.responsiveVariants)&&d.responsiveVariants.length>0||d.responsiveVariants===!0,W=c==null?void 0:c[M],Y=[];if(typeof I=="object"&&q)for(let[te,ue]of Object.entries(I)){let oe=E[ue];if(te==="initial"){W=ue;continue}Array.isArray(d.responsiveVariants)&&!d.responsiveVariants.includes(te)||(Y=B(te,oe,Y,x))}let V=I!=null&&typeof I!="object"?I:Er(W),se=E[V||"false"];return typeof Y=="object"&&typeof x=="string"&&Y[x]?Lr(Y,se):Y.length>0?(Y.push(se),x==="base"?Y.join(" "):Y):se},m=()=>h?Object.keys(h).map(M=>L(M,h)):null,f=(M,$)=>{if(!h||typeof h!="object")return null;let x=new Array;for(let w in h){let y=L(w,h,M,$),E=M==="base"&&typeof y=="string"?y:y&&y[M];E&&(x[x.length]=E)}return x},N={};for(let M in T)T[M]!==void 0&&(N[M]=T[M]);let _=(M,$)=>{var x;let w=typeof(T==null?void 0:T[M])=="object"?{[M]:(x=T[M])==null?void 0:x.initial}:{};return{...c,...N,...w,...$}},U=(M=[],$)=>{let x=[];for(let{class:w,className:y,...E}of M){let u=!0;for(let[I,q]of Object.entries(E)){let W=_(I,$)[I];if(Array.isArray(q)){if(!q.includes(W)){u=!1;break}}else{let Y=V=>V==null||V===!1;if(Y(q)&&Y(W))continue;if(W!==q){u=!1;break}}}u&&(w&&x.push(w),y&&x.push(y))}return x},K=M=>{let $=U(A,M);if(!Array.isArray($))return $;let x={};for(let w of $)if(typeof w=="string"&&(x.base=Ft(x.base,w)(d)),typeof w=="object")for(let[y,E]of Object.entries(w))x[y]=Ft(x[y],E)(d);return x},O=M=>{if(i.length<1)return null;let $={};for(let{slots:x=[],class:w,className:y,...E}of i){if(!Ke(E)){let u=!0;for(let I of Object.keys(E)){let q=_(I,M)[I];if(q===void 0||(Array.isArray(E[I])?!E[I].includes(q):E[I]!==q)){u=!1;break}}if(!u)continue}for(let u of x)$[u]=$[u]||[],$[u].push([w,y])}return $};if(!Ke(r)||!g){let M={};if(typeof S=="object"&&!Ke(S))for(let $ of Object.keys(S))M[$]=x=>{var w,y;return Ft(S[$],f($,x),((w=K(x))!=null?w:[])[$],((y=O(x))!=null?y:[])[$],x==null?void 0:x.class,x==null?void 0:x.className)(d)};return M}return Ft(b,m(),U(A),T==null?void 0:T.class,T==null?void 0:T.className)(d)},P=()=>{if(!(!h||typeof h!="object"))return Object.keys(h)};return R.variantKeys=P(),R.extend=t,R.base=b,R.slots=S,R.variants=h,R.defaultVariants=c,R.compoundSlots=i,R.compoundVariants=A,R};const qr=Hl({base:"focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive inline-flex shrink-0 items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium outline-none transition-all focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60 text-white",outline:"bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 border",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 gap-1.5 rounded-md px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});var Fl=G("<a><!></a>"),Vl=G("<button><!></button>");function xt(n,e){Re(e,!0);let t=ne(e,"variant",3,"default"),r=ne(e,"size",3,"default"),o=ne(e,"ref",15,null),s=ne(e,"href",3,void 0),i=ne(e,"type",3,"button"),l=At(e,["$$slots","$$events","$$legacy","class","variant","size","ref","href","type","disabled","children"]);var d=ke(),b=xe(d);{var h=g=>{var j=Fl();mt(j,A=>({"data-slot":"button",class:A,href:e.disabled?void 0:s(),"aria-disabled":e.disabled,role:e.disabled?"link":void 0,tabindex:e.disabled?-1:void 0,...l}),[()=>gt(qr({variant:t(),size:r()}),e.class)]);var S=p(j);Nt(S,()=>e.children??St),v(j),rt(j,A=>o(A),()=>o()),k(g,j)},c=g=>{var j=Vl();mt(j,A=>({"data-slot":"button",class:A,type:i(),disabled:e.disabled,...l}),[()=>gt(qr({variant:t(),size:r()}),e.class)]);var S=p(j);Nt(S,()=>e.children??St),v(j),rt(j,A=>o(A),()=>o()),k(g,j)};de(b,g=>{s()?g(h):g(c,!1)})}k(n,d),Le()}var Wl=G("<input/>"),Ul=G("<input/>");function Dr(n,e){Re(e,!0);let t=ne(e,"ref",15,null),r=ne(e,"value",15),o=ne(e,"files",15),s=At(e,["$$slots","$$events","$$legacy","ref","value","type","files","class"]);var i=ke(),l=xe(i);{var d=h=>{var c=Wl();Bn(c),mt(c,g=>({"data-slot":"input",class:g,type:"file",...s}),[()=>gt("selection:bg-primary dark:bg-input/30 selection:text-primary-foreground border-input ring-offset-background placeholder:text-muted-foreground shadow-xs flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 pt-1.5 text-sm font-medium outline-none transition-[color,box-shadow] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e.class)]),rt(c,g=>t(g),()=>t()),So(c,o),xr(c,r),k(h,c)},b=h=>{var c=Ul();Bn(c),mt(c,g=>({"data-slot":"input",class:g,type:e.type,...s}),[()=>gt("border-input bg-background selection:bg-primary dark:bg-input/30 selection:text-primary-foreground ring-offset-background placeholder:text-muted-foreground shadow-xs flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base outline-none transition-[color,box-shadow] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e.class)]),rt(c,g=>t(g),()=>t()),xr(c,r),k(h,c)};de(l,h=>{e.type==="file"?h(d):h(b,!1)})}k(n,i),Le()}var Yl=G("<div><!></div>");function Kl(n,e){Re(e,!0);let t=ne(e,"ref",15,null),r=At(e,["$$slots","$$events","$$legacy","ref","class","children"]);var o=Yl();mt(o,i=>({"data-slot":"card",class:i,...r}),[()=>gt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e.class)]);var s=p(o);Nt(s,()=>e.children??St),v(o),rt(o,i=>t(i),()=>t()),k(n,o),Le()}var Zl=G("<div><!></div>");function Jl(n,e){Re(e,!0);let t=ne(e,"ref",15,null),r=At(e,["$$slots","$$events","$$legacy","ref","class","children"]);var o=Zl();mt(o,i=>({"data-slot":"card-content",class:i,...r}),[()=>gt("px-6",e.class)]);var s=p(o);Nt(s,()=>e.children??St),v(o),rt(o,i=>t(i),()=>t()),k(n,o),Le()}var Xl=G("<p><!></p>");function Ql(n,e){Re(e,!0);let t=ne(e,"ref",15,null),r=At(e,["$$slots","$$events","$$legacy","ref","class","children"]);var o=Xl();mt(o,i=>({"data-slot":"card-description",class:i,...r}),[()=>gt("text-muted-foreground text-sm",e.class)]);var s=p(o);Nt(s,()=>e.children??St),v(o),rt(o,i=>t(i),()=>t()),k(n,o),Le()}var ec=G("<div><!></div>");function tc(n,e){Re(e,!0);let t=ne(e,"ref",15,null),r=At(e,["$$slots","$$events","$$legacy","ref","class","children"]);var o=ec();mt(o,i=>({"data-slot":"card-header",class:i,...r}),[()=>gt("@container/card-header has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6 grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6",e.class)]);var s=p(o);Nt(s,()=>e.children??St),v(o),rt(o,i=>t(i),()=>t()),k(n,o),Le()}var nc=G("<div><!></div>");function rc(n,e){Re(e,!0);let t=ne(e,"ref",15,null),r=At(e,["$$slots","$$events","$$legacy","ref","class","children"]);var o=nc();mt(o,i=>({"data-slot":"card-title",class:i,...r}),[()=>gt("font-semibold leading-none",e.class)]);var s=p(o);Nt(s,()=>e.children??St),v(o),rt(o,i=>t(i),()=>t()),k(n,o),Le()}var sc=G("<!> <!>",1),oc=G('<div class="showcase-section svelte-1s2q9l3"><h4 class="svelte-1s2q9l3">Buttons</h4> <div class="showcase-row svelte-1s2q9l3"><!> <!> <!> <!></div></div> <div class="showcase-section svelte-1s2q9l3"><h4 class="svelte-1s2q9l3">Form Controls</h4> <div class="showcase-row svelte-1s2q9l3"><!> <!></div></div>',1),ac=G("<!> <!>",1),ic=G('<span class="test-result svelte-1s2q9l3"> </span>'),lc=G('<main class="nodespace-app svelte-1s2q9l3"><header class="app-header svelte-1s2q9l3"><h1 class="svelte-1s2q9l3"> </h1> <div class="app-info svelte-1s2q9l3"><span class="version svelte-1s2q9l3"> </span> <!> <!></div></header> <div class="app-layout svelte-1s2q9l3"><aside class="sidebar svelte-1s2q9l3"><div class="ns-panel journal-view svelte-1s2q9l3"><h3 class="svelte-1s2q9l3">JournalView</h3> <p class="svelte-1s2q9l3">Hierarchical note organization panel</p> <div class="placeholder-content svelte-1s2q9l3"><!> <!> <!></div></div> <div class="ns-panel library-view svelte-1s2q9l3"><h3 class="svelte-1s2q9l3">LibraryView</h3> <p class="svelte-1s2q9l3">Knowledge base and documents</p> <div class="placeholder-content svelte-1s2q9l3"><!> <!> <!></div></div></aside> <main class="main-content svelte-1s2q9l3"><div class="ns-panel node-viewer svelte-1s2q9l3"><h3 class="svelte-1s2q9l3">NodeViewer</h3> <p class="svelte-1s2q9l3">Main content editing and viewing area with hierarchical display patterns</p> <!> <!> <div class="divider svelte-1s2q9l3"></div> <!> <div class="divider svelte-1s2q9l3"></div> <!> <div class="divider svelte-1s2q9l3"></div> <!> <div class="editor-placeholder svelte-1s2q9l3"><p class="svelte-1s2q9l3">TextNode examples with enhanced editing and markdown support:</p> <div class="node-examples svelte-1s2q9l3"><!> <!> <!> <!> <!> <!> <!></div></div> <div class="positioning-test svelte-1s2q9l3"><!></div></div></main> <aside class="right-sidebar svelte-1s2q9l3"><div class="ns-panel ai-chat-view svelte-1s2q9l3"><h3 class="svelte-1s2q9l3">AIChatView</h3> <p class="svelte-1s2q9l3">AI assistant interaction panel</p> <div class="chat-placeholder svelte-1s2q9l3"><!> <div class="chat-input-area svelte-1s2q9l3"><!> <!></div></div></div></aside></div> <footer class="app-footer svelte-1s2q9l3"><div class="status-bar svelte-1s2q9l3"><span class="status svelte-1s2q9l3">Ready</span> <!> <span class="theme-indicator svelte-1s2q9l3"> </span></div></footer></main>');function gc(n,e){Re(e,!0);const[t,r]=Zr(),o=()=>hn(it,"$themePreference",t),s=()=>hn(mn,"$currentTheme",t);let i=Tn("NodeSpace"),l=Tn("0.1.0"),d=Tn("");It(async()=>{try{H(i,await Eo(),!0),H(l,await Ao(),!0)}catch(g){console.warn("Could not get app info:",g)}});async function b(){try{H(d,await nr("greet",{name:"NodeSpace"}),!0)}catch(g){H(d,"Connection test failed"),console.error("Test failed:",g)}}function h(){const g=o();g==="system"?it.set(s()==="dark"?"light":"dark"):g==="light"?it.set("dark"):it.set("light")}function c(g){switch(g){case"light":return"âï¸";case"dark":return"ð";case"system":return"ð¥ï¸";default:return"ð¥ï¸"}}qo(n,{children:(g,j)=>{var S=lc(),A=p(S),R=p(A),P=p(R,!0);v(R);var T=C(R,2),B=p(T),L=p(B);v(B);var m=C(B,2);xt(m,{variant:"outline",size:"sm",onclick:h,get title(){return`Toggle theme (${o()??""})`},children:(be,_e)=>{Ge();var Pe=Je();re(He=>ee(Pe,He),[()=>c(o())]),k(be,Pe)},$$slots:{default:!0}});var f=C(m,2);xt(f,{variant:"default",size:"sm",onclick:b,children:(be,_e)=>{Ge();var Pe=Je("Test Connection");k(be,Pe)},$$slots:{default:!0}}),v(T),v(A);var N=C(A,2),_=p(N),U=p(_),K=C(p(U),4),O=p(K);Ve(O,{nodeId:"daily-notes",content:`**Daily Notes**

Today's thoughts and observations`,compact:!0});var M=C(O,2);Ve(M,{nodeId:"projects",content:`**Projects**

Active project documentation`,compact:!0});var $=C(M,2);Ve($,{nodeId:"ideas",content:`**Ideas**

Creative concepts and inspiration`,compact:!0}),v(K),v(U);var x=C(U,2),w=C(p(x),4),y=p(w);Ve(y,{nodeId:"templates",content:`**Templates**

Reusable document templates`,compact:!0});var E=C(y,2);Ve(E,{nodeId:"saved-searches",content:`**Saved Searches**

Frequently used search queries`,compact:!0});var u=C(E,2);Ve(u,{nodeId:"reports",content:`**Reports**

Generated analytics and insights`,compact:!0}),v(w),v(x),v(_);var I=C(_,2),q=p(I),W=C(p(q),4);Kl(W,{class:"showcase-card",children:(be,_e)=>{var Pe=ac(),He=xe(Pe);tc(He,{children:(Ee,Ye)=>{var Qe=sc(),ut=xe(Qe);rc(ut,{children:(Mt,nn)=>{Ge();var $t=Je("shadcn-svelte Components");k(Mt,$t)},$$slots:{default:!0}});var Et=C(ut,2);Ql(Et,{children:(Mt,nn)=>{Ge();var $t=Je("Professional UI components using your NodeSpace color scheme");k(Mt,$t)},$$slots:{default:!0}}),k(Ee,Qe)},$$slots:{default:!0}});var dt=C(He,2);Jl(dt,{class:"component-showcase",children:(Ee,Ye)=>{var Qe=oc(),ut=xe(Qe),Et=C(p(ut),2),Mt=p(Et);xt(Mt,{variant:"default",children:(ft,rn)=>{Ge();var vt=Je("Primary");k(ft,vt)},$$slots:{default:!0}});var nn=C(Mt,2);xt(nn,{variant:"secondary",children:(ft,rn)=>{Ge();var vt=Je("Secondary");k(ft,vt)},$$slots:{default:!0}});var $t=C(nn,2);xt($t,{variant:"outline",children:(ft,rn)=>{Ge();var vt=Je("Outline");k(ft,vt)},$$slots:{default:!0}});var Is=C($t,2);xt(Is,{variant:"ghost",children:(ft,rn)=>{Ge();var vt=Je("Ghost");k(ft,vt)},$$slots:{default:!0}}),v(Et),v(ut);var ar=C(ut,2),ir=C(p(ar),2),lr=p(ir);Dr(lr,{placeholder:"Enter text..."});var As=C(lr,2);xt(As,{variant:"default",children:(ft,rn)=>{Ge();var vt=Je("Submit");k(ft,vt)},$$slots:{default:!0}}),v(ir),v(ar),k(Ee,Qe)},$$slots:{default:!0}}),k(be,Pe)},$$slots:{default:!0}});var Y=C(W,2);qa(Y,{});var V=C(Y,4);Xa(V,{});var se=C(V,4);fi(se,{});var te=C(se,4);za(te,{});var ue=C(te,2),oe=C(p(ue),2),Ce=p(oe);Ve(Ce,{nodeId:"example-text",content:`**TextNode Example (Childless)**

This is an example of a text node with **markdown support** and rich formatting capabilities. Notice the enhanced TextNode with inline editing functionality.`});var ge=C(Ce,2);Ve(ge,{nodeId:"example-text-parent",content:`**TextNode Example (Parent)**

This is an example of a parent text node that contains child nodes with rich markdown support.`});var he=C(ge,2);Ve(he,{nodeId:"example-task",content:`**TaskNode Example (Childless)**

â Complete design system implementation\\nâ Set up Tauri app structure\\nâ Add AI integration\\n\\nClick to edit and experience the enhanced TextNode functionality.`});var we=C(he,2);Ve(we,{nodeId:"example-task-parent",content:`**TaskNode Example (Parent)**

â Complete design system implementation\\nâ Set up Tauri app structure\\nâ Add AI integration\\n\\nThis is a parent task node with subtasks.`});var D=C(we,2);Ve(D,{nodeId:"example-ai-chat",content:`**AIChatNode Example (Childless)**

AI Assistant: How can I help you organize your knowledge today?\\n\\nThis enhanced TextNode supports inline editing with auto-save functionality.`});var ie=C(D,2);Ve(ie,{nodeId:"example-ai-chat-parent",content:`**AIChatNode Example (Parent)**

AI Assistant: How can I help you organize your knowledge today?\\n\\nThis is a conversation with follow-ups and enhanced TextNode capabilities.`});var ae=C(ie,2);Ve(ae,{nodeId:"example-icon-override",content:`**Enhanced TextNode Features**

This TextNode demonstrates the enhanced inline editing capabilities with markdown support, auto-save functionality, and responsive panel behavior.`}),v(oe),v(ue);var ce=C(ue,2),Oe=p(ce);yi(Oe,{}),v(ce),v(q),v(I);var Me=C(I,2),Se=p(Me),ot=C(p(Se),4),F=p(ot);Ve(F,{nodeId:"chat-example",content:`**AI Conversation**

How can I organize my notes effectively?`,compact:!0});var fe=C(F,2),le=p(fe);Dr(le,{type:"text",placeholder:"Ask AI anything...",disabled:!0});var me=C(le,2);xt(me,{variant:"default",size:"sm",disabled:!0,children:(be,_e)=>{Ge();var Pe=Je("Send");k(be,Pe)},$$slots:{default:!0}}),v(fe),v(ot),v(Se),v(Me),v(N);var Te=C(N,2),Ie=p(Te),Ue=C(p(Ie),2);{var ct=be=>{var _e=ic(),Pe=p(_e,!0);v(_e),re(()=>ee(Pe,a(d))),k(be,_e)};de(Ue,be=>{a(d)&&be(ct)})}var tt=C(Ue,2),Xe=p(tt);v(tt),v(Ie),v(Te),v(S),re(()=>{ee(P,a(i)),ee(L,`v${a(l)??""}`),ee(Xe,`Theme: ${o()??""} (${s()??""})`)}),k(g,S)},$$slots:{default:!0}}),Le(),r()}export{gc as component};
