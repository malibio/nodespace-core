/* NodeSpace Design System Icons */
/* Lightweight icon system for design system documentation */
/* SVG data URIs extracted from production Svelte components */

.ns-icon {
  display: inline-block;
  width: 20px;
  height: 20px;
  flex-shrink: 0;
  vertical-align: middle;
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;
}

/* Text Node Icons */
.ns-icon--text {
  background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 24 24' fill='hsl(200 40% 45%)' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='12' cy='12' r='8' /%3E%3C/svg%3E");
}

.ns-icon--text-parent {
  background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 24 24' fill='hsl(200 40% 45%)' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='12' cy='12' r='10' opacity='0.5' /%3E%3Ccircle cx='12' cy='12' r='8' /%3E%3C/svg%3E");
}

/* Task Node Icons - CSS-based following original design system */
.ns-icon--task-pending {
  width: var(--circle-diameter, 20px);
  height: var(--circle-diameter, 20px);
  position: relative;
  display: block;
  background: none;
}

.ns-icon--task-pending::after {
  content: '';
  width: 16px;
  height: 16px;
  border-radius: 50%;
  position: absolute;
  top: 2px;
  left: 2px;
  background: transparent;
  border: 1px solid hsl(var(--primary));
  box-sizing: border-box;
}

.ns-icon--task-progress {
  width: var(--circle-diameter, 20px);
  height: var(--circle-diameter, 20px);
  position: relative;
  display: block;
  background: none;
}

.ns-icon--task-progress::after {
  content: '';
  width: 16px;
  height: 16px;
  border-radius: 50%;
  position: absolute;
  top: 2px;
  left: 2px;
  background: linear-gradient(90deg, hsl(var(--primary)) 50%, transparent 50%);
  border: 1px solid hsl(var(--primary));
  box-sizing: border-box;
}

.ns-icon--task-completed {
  width: var(--circle-diameter, 20px);
  height: var(--circle-diameter, 20px);
  position: relative;
  display: block;
  background: none;
}

.ns-icon--task-completed::after {
  content: '';
  width: 16px;
  height: 16px;
  border-radius: 50%;
  position: absolute;
  top: 2px;
  left: 2px;
  background: hsl(var(--primary));
  box-sizing: border-box;
}

.ns-icon--task-completed::before {
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  width: 10px;
  height: 8px;
  transform: translate(-50%, -50%);
  background-image: url("data:image/svg+xml,%3Csvg width='10' height='8' viewBox='0 0 10 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 4L3.5 6.5L9 1' stroke='%23FAFAFA' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;
  z-index: 1;
}

/* Task Node Parent Icons - HTML structure approach */
/* Basic circle states - Perfect 16x16 rendering */
.task-circle {
  width: 16px;
  height: 16px;
  border-radius: 50%;
  position: absolute;
  top: 2px;
  left: 2px;
}

.task-circle-pending {
  background: transparent;
  border: 1px solid hsl(var(--primary));
  box-sizing: border-box;
}

.task-circle-in-progress {
  background: linear-gradient(90deg, hsl(var(--primary)) 50%, transparent 50%);
  border: 1px solid hsl(var(--primary));
  box-sizing: border-box;
}

.task-circle-completed {
  background: hsl(var(--primary));
}

/* Checkmark for completed tasks - theme-aware stroke color */
.task-circle-completed::after {
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  width: 10px;
  height: 8px;
  transform: translate(-50%, -50%);
  background-image: url("data:image/svg+xml,%3Csvg width='10' height='8' viewBox='0 0 10 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 4L3.5 6.5L9 1' stroke='%23FAFAFA' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;
}

/* Parent task rings */
.task-ring {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  border: 2px solid hsl(var(--primary) / 0.5);
  box-sizing: border-box;
  position: absolute;
  top: 0;
  left: 0;
}

/* Code Node Icons */
.ns-icon--code {
  background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 24 24' fill='hsl(200 40% 45%)' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='12' cy='12' r='8' /%3E%3C/svg%3E");
}

.ns-icon--code-parent {
  background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 24 24' fill='hsl(200 40% 45%)' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='12' cy='12' r='10' opacity='0.5' /%3E%3Ccircle cx='12' cy='12' r='8' /%3E%3C/svg%3E");
}

/* AI Chat Node Icons - CSS-based approach matching old patterns.html */
.ns-icon--ai {
  width: var(--circle-diameter, 20px);
  height: var(--circle-diameter, 20px);
  position: relative;
  display: block;
  background: none;
}

.ns-icon--ai::before {
  content: "";
  position: absolute;
  top: 2px;
  left: 2px;
  width: 16px;
  height: 16px;
  border-radius: 0.5px;
  background: hsl(var(--primary));
}

.ns-icon--ai::after {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 14px;
  height: 14px;
  transform: translate(-50%, -50%);
  background-size: contain;
  background-position: center;
  background-repeat: no-repeat;
  /* Light theme - background color punch hole */
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 -960 960 960'%3E%3Cpath d='M80-120v-80h800v80H80Zm680-160v-560h60v560h-60Zm-600 0 210-560h100l210 560h-96l-50-144H308l-52 144h-96Zm176-224h168l-82-232h-4l-82 232Z' fill='%23FAF9F5'/%3E%3C/svg%3E");
}

/* Dark theme version */
.dark .ns-icon--ai::after {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 -960 960 960'%3E%3Cpath d='M80-120v-80h800v80H80Zm680-160v-560h60v560h-60Zm-600 0 210-560h100l210 560h-96l-50-144H308l-52 144h-96Zm176-224h168l-82-232h-4l-82 232Z' fill='%23252523'/%3E%3C/svg%3E");
}

.ns-icon--ai-parent {
  width: var(--circle-diameter, 20px);
  height: var(--circle-diameter, 20px);
  position: relative;
  display: block;
  background: none;
}

/* Ring for parent AI icons */
.ns-icon--ai-parent::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 20px;
  height: 20px;
  border-radius: 1px;
  border: 2px solid hsl(var(--primary) / 0.5);
  box-sizing: border-box;
}

/* Inner square for parent AI icons */
.ns-icon--ai-parent::after {
  content: "";
  position: absolute;
  top: 2px;
  left: 2px;
  width: 16px;
  height: 16px;
  border-radius: 0.5px;
  background: hsl(var(--primary));
  /* Add the AI text punch hole effect */
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 -960 960 960' width='14' height='14'%3E%3Cpath d='M80-120v-80h800v80H80Zm680-160v-560h60v560h-60Zm-600 0 210-560h100l210 560h-96l-50-144H308l-52 144h-96Zm176-224h168l-82-232h-4l-82 232Z' fill='%23FAF9F5'/%3E%3C/svg%3E");
  background-size: 14px 14px;
  background-position: center;
  background-repeat: no-repeat;
}

/* Dark theme for parent AI icons */
.dark .ns-icon--ai-parent::after {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 -960 960 960' width='14' height='14'%3E%3Cpath d='M80-120v-80h800v80H80Zm680-160v-560h60v560h-60Zm-600 0 210-560h100l210 560h-96l-50-144H308l-52 144h-96Zm176-224h168l-82-232h-4l-82 232Z' fill='%23252523'/%3E%3C/svg%3E");
}

/* Navigation Icons */
.ns-icon--hamburger {
  background-image: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' stroke='currentColor' xmlns='http://www.w3.org/2000/svg'%3E%3Cline x1='3' y1='6' x2='21' y2='6' stroke='currentColor' stroke-width='2' stroke-linecap='round'/%3E%3Cline x1='3' y1='12' x2='21' y2='12' stroke='currentColor' stroke-width='2' stroke-linecap='round'/%3E%3Cline x1='3' y1='18' x2='21' y2='18' stroke='currentColor' stroke-width='2' stroke-linecap='round'/%3E%3C/svg%3E");
}

.ns-icon--home {
  background-image: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' stroke='currentColor' fill='currentColor' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z' stroke='currentColor' stroke-width='2' stroke-linejoin='round' fill='none'/%3E%3C/svg%3E");
}

/* Chevron Icon */
.ns-icon--chevron {
  background-image: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 24 24' fill='currentColor' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M9 6l6 6-6 6-1.5-1.5L12 12 7.5 7.5 9 6z'/%3E%3C/svg%3E");
  transition: transform 0.2s ease;
}

.ns-icon--chevron.expanded {
  transform: rotate(90deg);
}

/* High specificity rules for proper punch hole effect */
html body .task-circle-completed::after {
  background-image: url("data:image/svg+xml,%3Csvg width='10' height='8' viewBox='0 0 10 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 4L3.5 6.5L9 1' stroke='%23FF0000' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E") !important;
  filter: hue-rotate(0deg) saturate(2) brightness(1.2) !important;
}

/* Dark theme variations - automatic with CSS custom properties */
@media (prefers-color-scheme: dark) {
  .ns-icon--text {
    background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 24 24' fill='hsl(200 40% 65%)' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='12' cy='12' r='8' /%3E%3C/svg%3E");
  }

  .ns-icon--text-parent {
    background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 24 24' fill='hsl(200 40% 65%)' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='12' cy='12' r='10' opacity='0.5' /%3E%3Ccircle cx='12' cy='12' r='8' /%3E%3C/svg%3E");
  }

  .ns-icon--code {
    background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 24 24' fill='hsl(200 40% 65%)' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='12' cy='12' r='8' /%3E%3C/svg%3E");
  }

  .ns-icon--code-parent {
    background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 24 24' fill='hsl(200 40% 65%)' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='12' cy='12' r='10' opacity='0.5' /%3E%3Ccircle cx='12' cy='12' r='8' /%3E%3C/svg%3E");
  }

  /* Task icons use CSS with --primary variable, no dark theme overrides needed */

  /* Dark theme checkmarks for completed task icons */
  .ns-icon--task-completed::before {
    background-image: url("data:image/svg+xml,%3Csvg width='10' height='8' viewBox='0 0 10 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 4L3.5 6.5L9 1' stroke='%231F1F1F' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
  }

  html .task-circle-completed::after {
    background-image: url("data:image/svg+xml,%3Csvg width='10' height='8' viewBox='0 0 10 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 4L3.5 6.5L9 1' stroke='%231F1F1F' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E") !important;
  }

  /* AI icons use currentColor and don't need dark theme overrides */

  /* Navigation icons use currentColor and don't need dark theme overrides */
}

/* Size variants */
.ns-icon--sm { width: 16px; height: 16px; }
.ns-icon--lg { width: 24px; height: 24px; }
.ns-icon--xl { width: 32px; height: 32px; }