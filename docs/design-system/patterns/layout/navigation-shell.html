<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Navigation Shell - NodeSpace Design System</title>
  <meta name="description" content="Sidebar patterns with collapse/expand functionality, hamburger menus, and navigation item states.">
  <link rel="stylesheet" href="../../assets/shadcn-variables.css">
  <link rel="stylesheet" href="../../assets/style-guide.css">
  <link rel="stylesheet" href="../assets/patterns-common.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üß†</text></svg>">

  <!-- Prevent flash of unstyled content by applying theme immediately -->
  <script>
    (function() {
      // Apply theme before page renders to prevent flash
      const savedTheme = localStorage.getItem('nodespace-style-guide-theme') || 'system';
      const resolvedTheme = savedTheme === 'system'
        ? (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light')
        : savedTheme;

      if (resolvedTheme === 'dark') {
        document.documentElement.className = 'dark';
      }
    })();
  </script>
</head>
<body class="no-transitions">
  <div class="style-guide">
    <!-- Header -->
    <header>
      <h1>Navigation Shell</h1>
      <p>Collapsible sidebar navigation with hamburger menu, matching the design from your application screenshots.</p>
    </header>

    <!-- Navigation -->
    <nav class="style-guide-nav">
      <a href="../../index.html">Overview</a>
      <a href="../../foundations.html">Foundations</a>
      <a href="../../components.html">Components</a>
      <a href="../../layout.html">Layout</a>
      <a href="../../examples.html">Examples</a>
      <a href="../index.html">‚Üê Pattern Library</a>
    </nav>

    <!-- Theme Toggle -->
    <div class="theme-controls">
      <button class="theme-toggle" aria-label="Toggle theme">
        <svg class="theme-icon sun-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="12" cy="12" r="5"/>
          <path d="m12 1-1 1m0 20 1 1m11-10-1-1M2 12l-1-1m15.5-6.5-1 1M6.5 17.5l-1 1m12-12-1 1M6.5 6.5l-1 1"/>
        </svg>
        <svg class="theme-icon moon-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
        </svg>
      </button>
    </div>

    <main>
      <!-- Breadcrumb -->
      <nav class="breadcrumb">
        <a href="../index.html">Pattern Library</a> >
        <a href="#layout">Layout</a> >
        <span>Navigation Shell</span>
      </nav>

      <!-- Navigation Shell -->
      <section class="example-section">
        <h2>Navigation Shell</h2>
        <p>Collapsible sidebar navigation with hamburger menu, matching the design from your application screenshots.</p>
        <p><strong>Alignment:</strong> Hamburger icons maintain consistent horizontal alignment with navigation icons in both collapsed and expanded states (20x20px sizing).</p>

        <h3>Collapsed Sidebar</h3>
        <div class="shell-demo">
          <div class="sidebar-collapsed">
            <!-- Hamburger Icon SVG -->
            <svg class="hamburger-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="3" y1="6" x2="21" y2="6"></line>
              <line x1="3" y1="12" x2="21" y2="12"></line>
              <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>

            <!-- Navigation Icons -->
            <div class="nav-item active">
              <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
              </svg>
            </div>
            <div class="nav-item">
              <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="9" y1="15" x2="15" y2="15"></line>
              </svg>
            </div>
            <div class="nav-item">
              <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"></circle>
                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
              </svg>
            </div>
          </div>
          <div class="main-content">
            <p>Main content area with collapsed sidebar (48px width)</p>
          </div>
        </div>

        <h3>Expanded Sidebar</h3>
        <div class="shell-demo">
          <div class="sidebar-expanded">
            <!-- Hamburger Icon SVG -->
            <svg class="hamburger-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="3" y1="6" x2="21" y2="6"></line>
              <line x1="3" y1="12" x2="21" y2="12"></line>
              <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>

            <!-- Navigation Items with Labels -->
            <div class="nav-item active">
              <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
              </svg>
              <span>Daily Journal</span>
            </div>
            <div class="nav-item">
              <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="9" y1="15" x2="15" y2="15"></line>
              </svg>
              <span>Dashboard</span>
            </div>
            <div class="nav-item">
              <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"></circle>
                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
              </svg>
              <span>Search</span>
            </div>
            <div class="nav-item">
              <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"></polygon>
              </svg>
              <span>Favorites</span>
            </div>
          </div>
          <div class="main-content">
            <p>Main content with expanded sidebar (240px width)</p>
          </div>
        </div>

        <h3>Technical Implementation Details</h3>
        <div class="component-showcase">
          <div class="component-example">
            <div class="component-title">Perfect Icon Alignment System</div>
            <div class="component-demo">
              <div style="background: hsl(var(--muted)); padding: 1rem; border-radius: var(--radius); margin-bottom: 1rem;">
                <p style="margin: 0 0 0.5rem 0; font-weight: 500;">DOM-Measured Precision Alignment</p>
                <ul style="margin: 0; padding-left: 1rem; font-size: 0.875rem; color: hsl(var(--muted-foreground));">
                  <li><strong>Collapsed State:</strong> Icons perfectly centered at 24.0px within 48px sidebar container</li>
                  <li><strong>Active Accent:</strong> Left border overlay with zero horizontal padding to preserve centering</li>
                  <li><strong>Expanded Consistency:</strong> Icons maintain exact collapsed positions when sidebar expands</li>
                  <li><strong>Mathematical Precision:</strong> Used Playwright DOM measurements to achieve pixel-perfect alignment</li>
                </ul>
              </div>

              <table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
                <thead>
                  <tr style="border-bottom: 1px solid hsl(var(--border));">
                    <th style="padding: 0.5rem; text-align: left;">Element</th>
                    <th style="padding: 0.5rem; text-align: left;">Position</th>
                    <th style="padding: 0.5rem; text-align: left;">Result</th>
                  </tr>
                </thead>
                <tbody>
                  <tr style="border-bottom: 1px solid hsl(var(--border));">
                    <td style="padding: 0.5rem;">Hamburger Icon</td>
                    <td style="padding: 0.5rem;"><code>center: 24.0px</code></td>
                    <td style="padding: 0.5rem;">Perfect centering within 48px sidebar</td>
                  </tr>
                  <tr style="border-bottom: 1px solid hsl(var(--border));">
                    <td style="padding: 0.5rem;">Active Nav Item</td>
                    <td style="padding: 0.5rem;"><code>center: 24.0px</code></td>
                    <td style="padding: 0.5rem;">No offset from accent border (overlay method)</td>
                  </tr>
                  <tr style="border-bottom: 1px solid hsl(var(--border));">
                    <td style="padding: 0.5rem;">Inactive Nav Items</td>
                    <td style="padding: 0.5rem;"><code>center: 24.0px</code></td>
                    <td style="padding: 0.5rem;">Consistent alignment across all nav items</td>
                  </tr>
                  <tr>
                    <td style="padding: 0.5rem;">Left Accent Border</td>
                    <td style="padding: 0.5rem;"><code>position: absolute; left: 0</code></td>
                    <td style="padding: 0.5rem;">Overlays without affecting icon position</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <h3>Implementation Code</h3>
        <div class="example-code">
          <pre><code><!-- Collapsed Sidebar -->
&lt;div class="sidebar-collapsed"&gt;
  &lt;svg class="hamburger-icon" viewBox="0 0 24 24"&gt;
    &lt;line x1="3" y1="6" x2="21" y2="6"&gt;&lt;/line&gt;
    &lt;line x1="3" y1="12" x2="21" y2="12"&gt;&lt;/line&gt;
    &lt;line x1="3" y1="18" x2="21" y2="18"&gt;&lt;/line&gt;
  &lt;/svg&gt;

  &lt;div class="nav-item active"&gt;
    &lt;svg class="nav-icon" viewBox="0 0 24 24"&gt;
      &lt;path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"&gt;&lt;/path&gt;
    &lt;/svg&gt;
  &lt;/div&gt;
&lt;/div&gt;

<!-- Expanded Sidebar -->
&lt;div class="sidebar-expanded"&gt;
  &lt;svg class="hamburger-icon" viewBox="0 0 24 24"&gt;
    &lt;line x1="3" y1="6" x2="21" y2="6"&gt;&lt;/line&gt;
    &lt;line x1="3" y1="12" x2="21" y2="12"&gt;&lt;/line&gt;
    &lt;line x1="3" y1="18" x2="21" y2="18"&gt;&lt;/line&gt;
  &lt;/svg&gt;

  &lt;div class="nav-item active"&gt;
    &lt;svg class="nav-icon" viewBox="0 0 24 24"&gt;
      &lt;path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"&gt;&lt;/path&gt;
    &lt;/svg&gt;
    &lt;span&gt;Daily Journal&lt;/span&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
        </div>

        <h3>CSS Architecture</h3>
        <div class="component-showcase">
          <div class="component-example">
            <div class="component-title">Key CSS Classes</div>
            <div class="component-demo">
              <table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
                <thead>
                  <tr style="border-bottom: 1px solid hsl(var(--border));">
                    <th style="padding: 0.5rem; text-align: left;">Class</th>
                    <th style="padding: 0.5rem; text-align: left;">Purpose</th>
                    <th style="padding: 0.5rem; text-align: left;">Key Properties</th>
                  </tr>
                </thead>
                <tbody>
                  <tr style="border-bottom: 1px solid hsl(var(--border));">
                    <td style="padding: 0.5rem;"><code>.sidebar-collapsed</code></td>
                    <td style="padding: 0.5rem;">48px width collapsed state</td>
                    <td style="padding: 0.5rem;">align-items: center, width: 48px</td>
                  </tr>
                  <tr style="border-bottom: 1px solid hsl(var(--border));">
                    <td style="padding: 0.5rem;"><code>.sidebar-expanded</code></td>
                    <td style="padding: 0.5rem;">240px width expanded state</td>
                    <td style="padding: 0.5rem;">width: 240px, padding: 1rem</td>
                  </tr>
                  <tr style="border-bottom: 1px solid hsl(var(--border));">
                    <td style="padding: 0.5rem;"><code>.nav-item</code></td>
                    <td style="padding: 0.5rem;">Navigation item container</td>
                    <td style="padding: 0.5rem;">height: 40px, margin: 0 -1rem</td>
                  </tr>
                  <tr style="border-bottom: 1px solid hsl(var(--border));">
                    <td style="padding: 0.5rem;"><code>.nav-item.active</code></td>
                    <td style="padding: 0.5rem;">Active navigation state</td>
                    <td style="padding: 0.5rem;">border-left: 4px, font-weight: 600</td>
                  </tr>
                  <tr>
                    <td style="padding: 0.5rem;"><code>.hamburger-icon</code></td>
                    <td style="padding: 0.5rem;">Menu toggle icon</td>
                    <td style="padding: 0.5rem;">width: 20px, height: 20px</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </section>

      <!-- Related Patterns -->
      <section class="example-section">
        <h2>Related Patterns</h2>
        <div class="pattern-grid">
          <a href="../foundations/icon-systems.html" class="pattern-card">
            <h3>üîµ Icon Systems</h3>
            <p>Icon specifications used within navigation items</p>
          </a>
          <a href="multi-pane-layout.html" class="pattern-card">
            <h3>üìã Multi-Pane Layout</h3>
            <p>Content areas that work with navigation shell</p>
          </a>
          <a href="../interaction/keyboard-navigation.html" class="pattern-card">
            <h3>‚å®Ô∏è Keyboard Navigation</h3>
            <p>Keyboard interaction patterns for sidebar navigation</p>
          </a>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer>
      <p>&copy; 2024 NodeSpace. Part of the NodeSpace Design System.</p>
    </footer>
  </div>

  <!-- JavaScript -->
  <script src="../../assets/style-guide.js"></script>
</body>
</html>