<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Multi-Pane Layout - NodeSpace Design System</title>
  <meta name="description" content="Tab systems, content areas, and pane management for complex multi-document interfaces.">
  <link rel="stylesheet" href="../../assets/shadcn-variables.css">
  <link rel="stylesheet" href="../../assets/style-guide.css">
  <link rel="stylesheet" href="../../assets/design-system-icons.css">

  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üß†</text></svg>">

  <!-- Prevent flash of unstyled content by applying theme immediately -->
  <script>
    (function() {
      // Apply theme before page renders to prevent flash
      const savedTheme = localStorage.getItem('nodespace-style-guide-theme') || 'system';
      const resolvedTheme = savedTheme === 'system'
        ? (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light')
        : savedTheme;

      if (resolvedTheme === 'dark') {
        document.documentElement.className = 'dark';
      }
    })();
  </script>
</head>
<body class="no-transitions">
  <div class="style-guide">
    <!-- Header -->
    <header>
      <h1>Multi-Pane Layout System</h1>
      <p>Advanced layout patterns for NodeSpace's desktop application featuring sidebar navigation and up to 3 content panes with tab management.</p>
    </header>

    <!-- Navigation -->
    <nav class="style-guide-nav">
      <a href="../../index.html">Overview</a>
      <a href="../../foundations.html">Foundations</a>
      <a href="../../components.html">Components</a>
      <a href="../index.html">Pattern Library</a>
      <a href="../../nodeviewer.html">NodeViewer</a>

      <div class="theme-toggle">
        <!-- Theme toggle buttons will be generated by JavaScript -->
      </div>
    </nav>

    <!-- Theme Toggle -->
    <div class="theme-controls">
      <button class="theme-toggle" aria-label="Toggle theme">
        <svg class="theme-icon sun-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="12" cy="12" r="5"/>
          <path d="m12 1-1 1m0 20 1 1m11-10-1-1M2 12l-1-1m15.5-6.5-1 1M6.5 17.5l-1 1m12-12-1 1M6.5 6.5l-1 1"/>
        </svg>
        <svg class="theme-icon moon-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
        </svg>
      </button>
    </div>

    <main>
      <!-- Breadcrumb -->
      <nav class="breadcrumb">
        <a href="../index.html">Pattern Library</a> >
        <a href="#layout">Layout</a> >
        <span>Multi-Pane Layout System</span>
      </nav>

      <!-- Multi-Pane Layout System -->
      <section class="example-section">
        <h2>Multi-Pane Layout System</h2>
        <p>Advanced layout patterns for NodeSpace's desktop application featuring sidebar navigation and up to 3 content panes with tab management.</p>

        <h3>Application Layout Structure</h3>
        <div class="layout-demo" style="
          background: hsl(var(--background));
          border: 1px solid hsl(var(--border));
          border-radius: var(--radius);
          padding: 1rem;
          margin: 1.5rem 0;
          font-family: monospace;
          font-size: 0.875rem;
          line-height: 1.4;
          height: auto;
        ">
          <div style="color: hsl(var(--muted-foreground)); margin-bottom: 0.5rem;">‚îå‚îÄ[Sidebar 280px]‚îÄ‚îÄ‚î¨‚îÄ[Pane 1]‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ[Pane 2]‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ[Pane 3]‚îÄ‚îÄ‚îÄ‚îÄ‚îê</div>
          <div style="color: hsl(var(--muted-foreground)); margin-bottom: 0.5rem;">‚îÇ Daily Journal     ‚îÇ [Today]     ‚îÇ [Tasks]     ‚îÇ [Library]   ‚îÇ</div>
          <div style="color: hsl(var(--muted-foreground)); margin-bottom: 0.5rem;">‚îÇ Dashboard         ‚îÇ [Project ‚ñº] ‚îÇ [Notes]     ‚îÇ [Team]      ‚îÇ</div>
          <div style="color: hsl(var(--muted-foreground)); margin-bottom: 0.5rem;">‚îÇ Search            ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§</div>
          <div style="color: hsl(var(--muted-foreground)); margin-bottom: 0.5rem;">‚îÇ Favorites         ‚îÇ Content     ‚îÇ Task List   ‚îÇ Resources   ‚îÇ</div>
          <div style="color: hsl(var(--muted-foreground)); margin-bottom: 0.5rem;">‚îÇ Recent            ‚îÇ             ‚îÇ             ‚îÇ             ‚îÇ</div>
          <div style="color: hsl(var(--muted-foreground)); margin-bottom: 0.5rem;">‚îÇ                  ‚îÇ ‚óè Morning   ‚îÇ ‚òê Review    ‚îÇ Projects    ‚îÇ</div>
          <div style="color: hsl(var(--muted-foreground)); margin-bottom: 0.5rem;">‚îÇ Library           ‚îÇ   Planning  ‚îÇ   Designs   ‚îÇ Team        ‚îÇ</div>
          <div style="color: hsl(var(--muted-foreground)); margin-bottom: 0.5rem;">‚îÇ   ‚îú‚îÄ Clients      ‚îÇ AI Help     ‚îÇ ‚óí Client    ‚îÇ Links       ‚îÇ</div>
          <div style="color: hsl(var(--muted-foreground)); margin-bottom: 0.5rem;">‚îÇ   ‚îî‚îÄ Projects     ‚îÇ             ‚îÇ   Feedback  ‚îÇ             ‚îÇ</div>
          <div style="color: hsl(var(--muted-foreground));">‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò</div>
        </div>

        <h3>Browser-Like Tab System</h3>
        <p>Each content pane supports multiple tabs with intelligent title management, browser-like behaviors, and refined interaction states.</p>
        <div style="background: hsl(var(--muted)); padding: 1rem; border-radius: var(--radius); margin: 1rem 0;">
          <p style="margin: 0 0 0.5rem 0; font-weight: 500;">Key Features</p>
          <ul style="margin: 0; padding-left: 1rem; font-size: 0.875rem; color: hsl(var(--muted-foreground));">
            <li><strong>Subtle Hover States:</strong> Inactive tabs use <code>--border</code> color on hover for gentle visual feedback</li>
            <li><strong>Instant State Changes:</strong> All transitions disabled globally for immediate response</li>
            <li><strong>Precise Border Handling:</strong> Box-shadow borders prevent mitered corners and allow seamless active tab integration</li>
            <li><strong>Primary Accent:</strong> 4px top border on active tab extends to browser edge for clear visual hierarchy</li>
            <li><strong>Responsive Layout:</strong> Truncated titles (~25 characters) with full title on hover tooltip</li>
          </ul>
        </div>

        <h4>Interaction States</h4>
        <table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
          <thead>
            <tr style="border-bottom: 1px solid hsl(var(--border));">
              <th style="padding: 0.5rem; text-align: left;">Tab State</th>
              <th style="padding: 0.5rem; text-align: left;">Background</th>
              <th style="padding: 0.5rem; text-align: left;">Text Color</th>
              <th style="padding: 0.5rem; text-align: left;">Hover Behavior</th>
            </tr>
          </thead>
          <tbody>
            <tr style="border-bottom: 1px solid hsl(var(--border));">
              <td style="padding: 0.5rem; font-weight: 500;">Inactive</td>
              <td style="padding: 0.5rem;"><code>transparent</code></td>
              <td style="padding: 0.5rem;"><code>--muted-foreground</code></td>
              <td style="padding: 0.5rem;"><code>--border</code> bg + <code>--foreground</code> text</td>
            </tr>
            <tr>
              <td style="padding: 0.5rem; font-weight: 500;">Active</td>
              <td style="padding: 0.5rem;"><code>--background</code></td>
              <td style="padding: 0.5rem;"><code>--foreground</code></td>
              <td style="padding: 0.5rem;">No change (maintains state)</td>
            </tr>
          </tbody>
        </table>

        <p><strong>Technical Implementation:</strong> Tab titles are vertically centered within 40px height tabs using <code>display: flex</code> and <code>align-items: center</code>. Border system uses <code>box-shadow: inset</code> to prevent mitered corners and allows precise control over active tab integration with content area.</p>

        <h4>Date Header Format</h4>
        <p>Date node viewers feature a prominent header with large typography and semantic calendar iconography:</p>
        <ul>
          <li><strong>Typography:</strong> 2rem font size with 500 font weight for visual hierarchy</li>
          <li><strong>Format:</strong> Clean date presentation (e.g., "September 7, 2025") without prefixes</li>
          <li><strong>Semantic HTML:</strong> Uses <code>&lt;h1&gt;</code> element with zero margin for proper document structure</li>
          <li><strong>Color:</strong> Uses <code>hsl(var(--muted-foreground))</code> for subtle but readable text</li>
        </ul>

        <h4>Icon System Integration</h4>
        <p>Icons are rendered using the NodeSpace Icon component system with consistent styling:</p>
        <ul>
          <li><strong>Calendar Icon:</strong> Uses semantic <code>calendar</code> icon with 18px size and 0.8 opacity</li>
          <li><strong>CSS Classes:</strong> Applies <code>ns-icon ns-icon--calendar calendar-icon</code> for styling hooks</li>
          <li><strong>Accessibility:</strong> Includes proper <code>role="img"</code> and <code>aria-label</code> attributes</li>
          <li><strong>Rendering:</strong> Uses exact path data from icon registry for consistency across components</li>
        </ul>

        <h3>Interactive Tab Demo</h3>
        <div class="node-viewer" style="border: 1px solid hsl(var(--border)); border-radius: var(--radius); height: 500px; overflow: hidden; padding: 0; background: transparent;">
          <!-- Tab Bar Example -->
          <div style="
            height: 40px;
            background: hsl(var(--muted));
            border-bottom: 1px solid hsl(var(--border));
            display: flex;
            align-items: stretch;
          ">
            <!-- Active tab: "Today" -->
            <div style="
              padding: 0 1rem;
              background: hsl(var(--background));
              border-right: 1px solid hsl(var(--border));
              display: flex;
              align-items: center;
              font-size: 0.875rem;
              color: hsl(var(--foreground));
              font-weight: 600;
              position: relative;
              z-index: 2;
              margin-bottom: -1px;
            ">
              Today
              <div style="
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                height: 4px;
                background: hsl(var(--primary));
              "></div>
            </div>
            <!-- Inactive tab: "Acme Corp Strategy" -->
            <div style="
              padding: 0 1rem;
              background: transparent;
              border-right: 1px solid hsl(var(--border));
              display: flex;
              align-items: center;
              font-size: 0.875rem;
              color: hsl(var(--muted-foreground));
              cursor: pointer;
              transition: none;
            " onmouseover="this.style.backgroundColor='hsl(var(--border))'; this.style.color='hsl(var(--foreground))'"
               onmouseout="this.style.backgroundColor='transparent'; this.style.color='hsl(var(--muted-foreground))'">Acme Corp Strategy</div>
            <!-- Inactive tab: "Q2 Tasks" -->
            <div style="
              padding: 0 1rem;
              background: transparent;
              border-right: 1px solid hsl(var(--border));
              display: flex;
              align-items: center;
              font-size: 0.875rem;
              color: hsl(var(--muted-foreground));
              cursor: pointer;
              transition: none;
            " onmouseover="this.style.backgroundColor='hsl(var(--border))'; this.style.color='hsl(var(--foreground))'"
               onmouseout="this.style.backgroundColor='transparent'; this.style.color='hsl(var(--muted-foreground))'">Q2 Tasks (Truncated...)</div>
          </div>

          <!-- Main Content Area with Hierarchical Nodes -->
          <div style="
            flex: 1;
            background: hsl(var(--background));
            padding: 0;
            overflow-y: auto;
            height: calc(500px - 40px);
          ">
            <!-- DateNode Header Section -->
            <div style="
              background: hsl(var(--background));
              padding: 1.5rem;
              border-bottom: 1px solid hsl(var(--border));
              display: flex;
              align-items: center;
              justify-content: space-between;
            ">
              <!-- Date Display -->
              <div style="display: flex; align-items: center; gap: 0.75rem;">
                <svg stroke-width="2" role="img" width="18" height="18" viewBox="0 0 24 24" fill="hsl(var(--muted-foreground))" stroke="hsl(var(--muted-foreground))" class="ns-icon ns-icon--calendar calendar-icon" aria-label="calendar icon" style="opacity: 0.8;">
                  <path fill="none" stroke-width="2" d="M5 4V2C5 1.4 5.4 1 6 1S7 1.4 7 2V4M17 4V2C17 1.4 17.4 1 18 1S19 1.4 19 2V4M3 8H21M5 4H19C20.1 4 21 4.9 21 6V20C21 21.1 20.1 22 19 22H5C3.9 22 3 21.1 3 20V6C3 4.9 3.9 4 5 4Z" stroke="hsl(var(--muted-foreground))"></path>
                </svg>
                <h1 style="font-size: 2rem; font-weight: 500; color: hsl(var(--muted-foreground)); margin: 0;">September 7, 2025</h1>
              </div>

              <!-- Navigation Controls -->
              <div style="display: flex; gap: 0.5rem;">
                <!-- Previous Date Button -->
                <button class="date-nav-button">
                  <svg style="width: 16px; height: 16px; color: currentColor;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="15,18 9,12 15,6"></polyline>
                  </svg>
                </button>

                <!-- Next Date Button -->
                <button class="date-nav-button">
                  <svg style="width: 16px; height: 16px; color: currentColor;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="9,18 15,12 9,6"></polyline>
                  </svg>
                </button>
              </div>
            </div>

            <!-- Main Content Area - no borders, tab system owns styling -->
            <div class="node-viewer" style="border: none; border-radius: 0; padding: 0.5rem 1.5rem 1.5rem 1.5rem; background: transparent;">
              <div class="hierarchy-example">

            <!-- Morning Planning Section -->
            <div class="hierarchy-node has-children">
              <span class="chevron-icon expanded">
                <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                  <path d="M6 3l5 5-5 5-1-1 4-4-4-4 1-1z"/>
                </svg>
              </span>
              <div class="hierarchy-indicator">
                <div class="node-icon">
                  <div class="task-ring"></div>
                  <div class="text-circle"></div>
                </div>
              </div>
              Morning Planning
            </div>

            <!-- Planning items -->
            <div class="hierarchy-node child-1">
              <div class="hierarchy-indicator">
                <div class="task-icon">
                  <div class="task-circle task-circle-completed"></div>
                </div>
              </div>
              <span style="text-decoration: line-through; opacity: 0.7;">Review yesterday's progress and blockers</span>
            </div>

            <div class="hierarchy-node child-1">
              <div class="hierarchy-indicator">
                <div class="task-icon">
                  <div class="task-circle task-circle-in-progress"></div>
                </div>
              </div>
              Set priorities for today's development work
            </div>

            <div class="hierarchy-node child-1">
              <div class="hierarchy-indicator">
                <div class="task-icon">
                  <div class="task-circle task-circle-pending"></div>
                </div>
              </div>
              Check team status and coordinate on shared tasks
            </div>

            <!-- AI Chat Section -->
            <div class="hierarchy-node has-children">
              <span class="chevron-icon expanded">
                <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                  <path d="M6 3l5 5-5 5-1-1 4-4-4-4 1-1z"/>
                </svg>
              </span>
              <div class="hierarchy-indicator">
                <div class="ai-ring"></div>
                <div class="ai-square"></div>
              </div>
              What should I prioritize for the Acme Corp project?
            </div>

            <div class="hierarchy-node child-1">
              <div class="hierarchy-indicator">
                <div class="node-icon">
                  <div class="text-circle"></div>
                </div>
              </div>
              Based on your timeline, I'd focus on the user research phase first. You have stakeholder interviews scheduled this week, and getting those insights early will inform the technical architecture decisions.
            </div>

            <!-- Notes Section -->
            <div class="hierarchy-node child-1">
              <div class="hierarchy-indicator">
                <div class="node-icon">
                  <div class="text-circle"></div>
                </div>
              </div>
              <strong>Key Insights:</strong> The client emphasized mobile-first approach and real-time collaboration features
            </div>

            <!-- Project Tasks -->
            <div class="hierarchy-node has-children">
              <span class="chevron-icon">
                <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                  <path d="M6 3l5 5-5 5-1-1 4-4-4-4 1-1z"/>
                </svg>
              </span>
              <div class="hierarchy-indicator">
                <div class="node-icon">
                  <div class="task-ring"></div>
                  <div class="text-circle"></div>
                </div>
              </div>
              Acme Corp Sprint Items (Collapsed)
            </div>

            <!-- Code Block Example -->
            <div class="hierarchy-node code-node-example" style="--code-font-size: 0.875rem; --code-line-height: 1.5;">
              <div class="hierarchy-indicator">
                <div class="code-circle"></div>
              </div>
              <div style="flex: 1; background: hsl(var(--muted)); padding: 0.25rem; border-radius: var(--radius); position: relative;" class="code-node-content">
                <pre style="margin: 0; background: transparent; border: none; padding: 0; padding-right: 10rem;"><code style="font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, monospace; font-size: 0.875rem; line-height: 1.5;">function fibonacci(n) {
  if (n <= 1) return n;
  return fibonacci(n - 1) + fibonacci(n - 2);
}</code></pre>
                <button class="code-language-button" onclick="event.stopPropagation(); this.nextElementSibling.style.display = this.nextElementSibling.style.display === 'block' ? 'none' : 'block'" style="position: absolute; top: 0.5rem; right: 3.9375rem; background: hsl(var(--background)); border: 1px solid hsl(var(--border)); color: hsl(var(--foreground)); padding: 0.25rem 0.5rem; border-radius: 0.25rem; font-size: 0.75rem; cursor: pointer; opacity: 0; transition: opacity 0.2s ease; width: 8rem; box-sizing: border-box; text-align: left;">JavaScript</button>

                <!-- Language Dropdown Menu -->
                <div class="code-language-dropdown" onclick="event.stopPropagation()" style="display: none; position: absolute; top: 2rem; right: 3.9375rem; background: hsl(var(--background)); border: 1px solid hsl(var(--border)); border-radius: 0.25rem; width: 8rem; max-height: 10.5rem; overflow-y: auto; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); z-index: 10; box-sizing: border-box;">
                  <div class="language-option" onclick="this.closest('.code-language-dropdown').previousElementSibling.childNodes[0].textContent = 'JavaScript'; this.closest('.code-language-dropdown').style.display = 'none'" style="padding: 0.5rem 0.75rem; cursor: pointer; font-size: 0.75rem; color: hsl(var(--foreground)); border-bottom: 1px solid hsl(var(--border));" onmouseover="this.style.background='hsl(var(--muted))'" onmouseout="this.style.background='transparent'">JavaScript</div>
                  <div class="language-option" onclick="this.closest('.code-language-dropdown').previousElementSibling.childNodes[0].textContent = 'TypeScript'; this.closest('.code-language-dropdown').style.display = 'none'" style="padding: 0.5rem 0.75rem; cursor: pointer; font-size: 0.75rem; color: hsl(var(--foreground)); border-bottom: 1px solid hsl(var(--border));" onmouseover="this.style.background='hsl(var(--muted))'" onmouseout="this.style.background='transparent'">TypeScript</div>
                  <div class="language-option" onclick="this.closest('.code-language-dropdown').previousElementSibling.childNodes[0].textContent = 'Python'; this.closest('.code-language-dropdown').style.display = 'none'" style="padding: 0.5rem 0.75rem; cursor: pointer; font-size: 0.75rem; color: hsl(var(--foreground)); border-bottom: 1px solid hsl(var(--border));" onmouseover="this.style.background='hsl(var(--muted))'" onmouseout="this.style.background='transparent'">Python</div>
                  <div class="language-option" onclick="this.closest('.code-language-dropdown').previousElementSibling.childNodes[0].textContent = 'Rust'; this.closest('.code-language-dropdown').style.display = 'none'" style="padding: 0.5rem 0.75rem; cursor: pointer; font-size: 0.75rem; color: hsl(var(--foreground)); border-bottom: 1px solid hsl(var(--border));" onmouseover="this.style.background='hsl(var(--muted))'" onmouseout="this.style.background='transparent'">Rust</div>
                  <div class="language-option" onclick="this.closest('.code-language-dropdown').previousElementSibling.childNodes[0].textContent = 'Go'; this.closest('.code-language-dropdown').style.display = 'none'" style="padding: 0.5rem 0.75rem; cursor: pointer; font-size: 0.75rem; color: hsl(var(--foreground)); border-bottom: 1px solid hsl(var(--border));" onmouseover="this.style.background='hsl(var(--muted))'" onmouseout="this.style.background='transparent'">Go</div>
                  <div class="language-option" onclick="this.closest('.code-language-dropdown').previousElementSibling.childNodes[0].textContent = 'Java'; this.closest('.code-language-dropdown').style.display = 'none'" style="padding: 0.5rem 0.75rem; cursor: pointer; font-size: 0.75rem; color: hsl(var(--foreground)); border-bottom: 1px solid hsl(var(--border));" onmouseover="this.style.background='hsl(var(--muted))'" onmouseout="this.style.background='transparent'">Java</div>
                  <div class="language-option" onclick="this.closest('.code-language-dropdown').previousElementSibling.childNodes[0].textContent = 'C++'; this.closest('.code-language-dropdown').style.display = 'none'" style="padding: 0.5rem 0.75rem; cursor: pointer; font-size: 0.75rem; color: hsl(var(--foreground)); border-bottom: 1px solid hsl(var(--border));" onmouseover="this.style.background='hsl(var(--muted))'" onmouseout="this.style.background='transparent'">C++</div>
                  <div class="language-option" onclick="this.closest('.code-language-dropdown').previousElementSibling.childNodes[0].textContent = 'Ruby'; this.closest('.code-language-dropdown').style.display = 'none'" style="padding: 0.5rem 0.75rem; cursor: pointer; font-size: 0.75rem; color: hsl(var(--foreground)); border-bottom: 1px solid hsl(var(--border));" onmouseover="this.style.background='hsl(var(--muted))'" onmouseout="this.style.background='transparent'">Ruby</div>
                  <div class="language-option" onclick="this.closest('.code-language-dropdown').previousElementSibling.childNodes[0].textContent = 'PHP'; this.closest('.code-language-dropdown').style.display = 'none'" style="padding: 0.5rem 0.75rem; cursor: pointer; font-size: 0.75rem; color: hsl(var(--foreground)); border-bottom: 1px solid hsl(var(--border));" onmouseover="this.style.background='hsl(var(--muted))'" onmouseout="this.style.background='transparent'">PHP</div>
                  <div class="language-option" onclick="this.closest('.code-language-dropdown').previousElementSibling.childNodes[0].textContent = 'Swift'; this.closest('.code-language-dropdown').style.display = 'none'" style="padding: 0.5rem 0.75rem; cursor: pointer; font-size: 0.75rem; color: hsl(var(--foreground)); border-bottom: 1px solid hsl(var(--border));" onmouseover="this.style.background='hsl(var(--muted))'" onmouseout="this.style.background='transparent'">Swift</div>
                  <div class="language-option" onclick="this.closest('.code-language-dropdown').previousElementSibling.childNodes[0].textContent = 'Kotlin'; this.closest('.code-language-dropdown').style.display = 'none'" style="padding: 0.5rem 0.75rem; cursor: pointer; font-size: 0.75rem; color: hsl(var(--foreground)); border-bottom: 1px solid hsl(var(--border));" onmouseover="this.style.background='hsl(var(--muted))'" onmouseout="this.style.background='transparent'">Kotlin</div>
                  <div class="language-option" onclick="this.closest('.code-language-dropdown').previousElementSibling.childNodes[0].textContent = 'Shell'; this.closest('.code-language-dropdown').style.display = 'none'" style="padding: 0.5rem 0.75rem; cursor: pointer; font-size: 0.75rem; color: hsl(var(--foreground));" onmouseover="this.style.background='hsl(var(--muted))'" onmouseout="this.style.background='transparent'">Shell</div>
                </div>

                <button class="code-copy-button" style="position: absolute; top: 0.5rem; right: 0.5rem; background: hsl(var(--background)); border: 1px solid hsl(var(--border)); color: hsl(var(--foreground)); padding: 0.25rem 0.5rem; border-radius: 0.25rem; font-size: 0.75rem; cursor: pointer; opacity: 0; transition: opacity 0.2s ease;">Copy</button>
              </div>
            </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Features Description -->
        <div style="margin-top: 1.5rem; padding: 1.5rem; background: hsl(var(--muted)); border-radius: var(--radius);">
          <h4 style="margin: 0 0 1rem 0; color: hsl(var(--foreground));">Tab Content Features</h4>
          <div style="font-size: 0.875rem; color: hsl(var(--muted-foreground)); line-height: 1.6;">
            <p><strong>Single Tab:</strong> No tab bar shown, content fills full area</p>
            <p><strong>Multiple Tabs:</strong> Tab bar appears with truncated titles (~25 characters)</p>
            <p><strong>Active Tab:</strong> White background with primary accent border, no hover changes</p>
            <p><strong>Inactive Tabs:</strong> Transparent background, subtle border color hover effect</p>
            <p><strong>Instant Interactions:</strong> All state changes happen immediately without animation delays</p>
            <p><strong>New Tab Creation:</strong> Cmd+click opens links in new tab</p>
            <p><strong>Tab Titles:</strong></p>
            <ul style="margin: 0.5rem 0 0 1rem;">
              <li>DateNodes: "Today", "Yesterday", "Jan 27, 2025"</li>
              <li>TaskNodes: Task title/content (truncated)</li>
              <li>EntityNodes: Entity name + type (e.g., "Acme Corp (Customer)")</li>
            </ul>
          </div>
        </div>

        <h3>‚ö° Global Transition Control</h3>
        <p>System-wide animation and transition management for consistent user experience preferences.</p>

        <div style="background: hsl(var(--muted)); padding: 1rem; border-radius: var(--radius); margin: 1rem 0;">
          <p style="margin: 0 0 0.5rem 0; font-weight: 500;">Design Philosophy</p>
          <ul style="margin: 0; padding-left: 1rem; font-size: 0.875rem; color: hsl(var(--muted-foreground));">
            <li><strong>Immediate Feedback:</strong> All interactive states change instantly without animation delays</li>
            <li><strong>Reduced Distraction:</strong> No animated color transitions that can feel "tacky" or draw unnecessary attention</li>
            <li><strong>Performance Focused:</strong> Eliminates animation overhead for faster, more responsive interactions</li>
            <li><strong>Accessibility Friendly:</strong> Respects users who prefer reduced motion without additional configuration</li>
          </ul>
        </div>

        <h4>Implementation</h4>
        <div class="example-code">
          <pre><code>/* Global transition disabling in app.css */
*,
*::before,
*::after {
  transition: none !important;
  animation-duration: 0s !important;
  animation-delay: 0s !important;
}</code></pre>
        </div>

        <div style="background: hsl(var(--card)); border: 1px solid hsl(var(--border)); padding: 1rem; border-radius: var(--radius); margin: 1rem 0;">
          <p style="margin: 0 0 0.5rem 0; font-weight: 500; color: hsl(var(--warning));">‚ö†Ô∏è Implementation Note</p>
          <p style="margin: 0; font-size: 0.875rem; color: hsl(var(--muted-foreground));">
            This global approach overrides any component-level transitions. For specific cases where animation is needed,
            consider using CSS classes that explicitly re-enable transitions with higher specificity.
          </p>
        </div>

        <h3>@Mention System Pattern</h3>
        <p>Universal node referencing system for creating and linking content across the application with inline editing context.</p>

        <div class="pattern-demo">
          <h4 style="margin: 0 0 1rem 0;">Inline Autocomplete Dropdown</h4>
          <div style="border: 1px solid hsl(var(--border)); border-radius: var(--radius); height: 400px; overflow: hidden; background: hsl(var(--background));">
            <div class="node-viewer" style="border: none; border-radius: 0; padding: 1.5rem; background: transparent; height: 100%;">
            <div class="hierarchy-example">
              <!-- Node content with autocomplete trigger -->
              <div class="hierarchy-node">
                <div class="hierarchy-indicator">
                  <div class="task-icon">
                    <div class="text-circle"></div>
                  </div>
                </div>
                I need to contact @acme<span style="animation: blink 1s infinite;">|</span>
              </div>

            <!-- Autocomplete dropdown positioned after @ character -->
            <div style="
              position: absolute;
              top: calc(1.75rem + 0.6rem);
              left: 11.88rem;
              min-width: 300px;
              background: hsl(var(--popover));
              border: 1px solid hsl(var(--border));
              border-radius: var(--radius);
              z-index: 10;
            ">
              <div style="padding: 0.75rem; border-bottom: 1px solid hsl(var(--border)); cursor: pointer; border-top-left-radius: var(--radius); border-top-right-radius: var(--radius);" onmouseover="this.style.background='hsl(var(--muted))'" onmouseout="this.style.background='transparent'">
                <div style="display: flex; align-items: center; gap: 0.5rem;">
                  <div style="width: 20px; height: 20px; display: flex; align-items: center; justify-content: center;">
                    <div class="node-icon">
                      <div class="text-circle"></div>
                    </div>
                  </div>
                  <div style="font-weight: 500;"><span class="search-highlight">Acme</span> Corporation</div>
                </div>
              </div>

              <div style="padding: 0.75rem; border-bottom: 1px solid hsl(var(--border)); cursor: pointer;" onmouseover="this.style.background='hsl(var(--muted))'" onmouseout="this.style.background='transparent'">
                <div style="display: flex; align-items: center; gap: 0.5rem;">
                  <div style="width: 20px; height: 20px; display: flex; align-items: center; justify-content: center;">
                    <div class="node-icon">
                      <div class="text-circle"></div>
                    </div>
                  </div>
                  <div style="font-weight: 500;"><span class="search-highlight">Acme</span> Corp Campaign Strategy</div>
                </div>
              </div>

              <div style="padding: 0.75rem; cursor: pointer; color: hsl(var(--foreground)); background: hsl(var(--muted) / 0.5); font-weight: 600; border-bottom-left-radius: var(--radius); border-bottom-right-radius: var(--radius); text-align: center;" onmouseover="this.style.background='hsl(var(--muted))'; this.style.color='hsl(var(--foreground))';" onmouseout="this.style.background='hsl(var(--muted) / 0.5)'; this.style.color='hsl(var(--foreground))';">
                + Create new "<span class="search-highlight">acme</span>" node
              </div>
            </div>
            </div>
          </div>
        </div>

        <!-- Features Description -->
        <div style="margin-top: 1.5rem; padding: 1.5rem; background: hsl(var(--muted)); border-radius: var(--radius);">
          <h4 style="margin: 0 0 1rem 0; color: hsl(var(--foreground));">@Mention System Features</h4>
          <div style="font-size: 0.875rem; color: hsl(var(--muted-foreground)); line-height: 1.6;">
            <p><strong>Inline Autocomplete:</strong> Dropdown positioned precisely after the "@" character</p>
            <p><strong>Seamless Editing:</strong> No input box required, direct text insertion</p>
            <p><strong>Search Highlighting:</strong> Matching text highlighted with proper contrast</p>
            <p><strong>Node Creation:</strong> High-contrast create action for new nodes</p>
            <p><strong>Universal References:</strong> Links any content type across the application</p>
          </div>
        </div>

        <h3>@Mention Positioning Specifications</h3>
        <div class="component-showcase">
          <div class="component-example">
            <div class="component-title">Dropdown Positioning</div>
            <div class="component-demo">
              <table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
                <thead>
                  <tr style="border-bottom: 1px solid hsl(var(--border));">
                    <th style="padding: 0.5rem; text-align: left;">Direction</th>
                    <th style="padding: 0.5rem; text-align: left;">Position</th>
                    <th style="padding: 0.5rem; text-align: left;">Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr style="border-bottom: 1px solid hsl(var(--border));">
                    <td style="padding: 0.5rem;">Horizontal</td>
                    <td style="padding: 0.5rem;"><code>cursor position</code></td>
                    <td style="padding: 0.5rem;">Aligned exactly with '@' character</td>
                  </tr>
                  <tr style="border-bottom: 1px solid hsl(var(--border));">
                    <td style="padding: 0.5rem;">Vertical</td>
                    <td style="padding: 0.5rem;"><code>cursor position + 0.6rem</code></td>
                    <td style="padding: 0.5rem;">Natural line spacing below text</td>
                  </tr>
                  <tr>
                    <td style="padding: 0.5rem;">Min Width</td>
                    <td style="padding: 0.5rem;"><code>300px</code></td>
                    <td style="padding: 0.5rem;">Ensures readable content width</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <h3>Slash Commands Pattern</h3>
        <p>Quick commands for creating different node types and templates.</p>

        <div class="pattern-demo">
          <h4 style="margin: 0 0 1rem 0;">Command Palette</h4>
          <div style="position: relative; border: 1px solid hsl(var(--border)); border-radius: var(--radius); height: 400px; overflow: hidden; background: hsl(var(--background));">
            <div class="node-viewer" style="border: none; border-radius: 0; padding: 1.5rem; background: transparent; height: 100%;">
            <div class="hierarchy-example">
              <!-- Node content with slash command trigger -->
              <div class="hierarchy-node">
                <div class="hierarchy-indicator">
                  <div class="task-icon">
                    <div class="text-circle"></div>
                  </div>
                </div>
                /<span style="animation: blink 1s infinite;">|</span>
              </div>

            <div style="
              position: absolute;
              top: calc(1.75rem + 0.6rem);
              left: 54px;
              min-width: 300px;
              background: hsl(var(--popover));
              border: 1px solid hsl(var(--border));
              border-radius: var(--radius);
              z-index: 10;
            ">
              <div style="padding: 0.75rem; border-bottom: 1px solid hsl(var(--border)); cursor: pointer; border-top-left-radius: var(--radius); border-top-right-radius: var(--radius);" onmouseover="this.style.background='hsl(var(--muted))'" onmouseout="this.style.background='transparent'">
                <div style="display: flex; align-items: center; gap: 0.5rem;">
                  <div style="width: 20px; height: 20px; display: flex; align-items: center; justify-content: center;">
                    <div class="node-icon">
                      <div class="text-circle"></div>
                    </div>
                  </div>
                  <div style="font-weight: 500;">Text</div>
                </div>
              </div>

              <div style="padding: 0.75rem; border-bottom: 1px solid hsl(var(--border)); cursor: pointer;" onmouseover="this.style.background='hsl(var(--muted))'" onmouseout="this.style.background='transparent'">
                <div style="display: flex; align-items: center; justify-content: space-between;">
                  <div style="display: flex; align-items: center; gap: 0.5rem;">
                    <div style="width: 20px; height: 20px; display: flex; align-items: center; justify-content: center;">
                      <div class="ai-icon">
                        <div class="h1-square-alt"></div>
                      </div>
                    </div>
                    <div style="font-weight: 500;">Header 1</div>
                  </div>
                  <code style="background: hsl(var(--input)); color: hsl(var(--foreground)); padding: 0.125rem 0.25rem; border-radius: 0.25rem; font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, monospace; font-size: 0.75rem;">#</code>
                </div>
              </div>

              <div style="padding: 0.75rem; border-bottom: 1px solid hsl(var(--border)); cursor: pointer;" onmouseover="this.style.background='hsl(var(--muted))'" onmouseout="this.style.background='transparent'">
                <div style="display: flex; align-items: center; justify-content: space-between;">
                  <div style="display: flex; align-items: center; gap: 0.5rem;">
                    <div style="width: 20px; height: 20px; display: flex; align-items: center; justify-content: center;">
                      <div class="ai-icon">
                        <div class="h2-square-alt"></div>
                      </div>
                    </div>
                    <div style="font-weight: 500;">Header 2</div>
                  </div>
                  <code style="background: hsl(var(--input)); color: hsl(var(--foreground)); padding: 0.125rem 0.25rem; border-radius: 0.25rem; font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, monospace; font-size: 0.75rem;">##</code>
                </div>
              </div>

              <div style="padding: 0.75rem; border-bottom: 1px solid hsl(var(--border)); cursor: pointer;" onmouseover="this.style.background='hsl(var(--muted))'" onmouseout="this.style.background='transparent'">
                <div style="display: flex; align-items: center; justify-content: space-between;">
                  <div style="display: flex; align-items: center; gap: 0.5rem;">
                    <div style="width: 20px; height: 20px; display: flex; align-items: center; justify-content: center;">
                      <div class="ai-icon">
                        <div class="h3-square-alt"></div>
                      </div>
                    </div>
                    <div style="font-weight: 500;">Header 3</div>
                  </div>
                  <code style="background: hsl(var(--input)); color: hsl(var(--foreground)); padding: 0.125rem 0.25rem; border-radius: 0.25rem; font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, monospace; font-size: 0.75rem;">###</code>
                </div>
              </div>

              <div style="padding: 0.75rem; border-bottom: 1px solid hsl(var(--border)); cursor: pointer;" onmouseover="this.style.background='hsl(var(--muted))'" onmouseout="this.style.background='transparent'">
                <div style="display: flex; align-items: center; justify-content: space-between;">
                  <div style="display: flex; align-items: center; gap: 0.5rem;">
                    <div style="width: 20px; height: 20px; display: flex; align-items: center; justify-content: center;">
                      <div class="task-icon">
                        <div class="task-circle task-circle-completed"></div>
                      </div>
                    </div>
                    <div style="font-weight: 500;">Task</div>
                  </div>
                  <code style="background: hsl(var(--input)); color: hsl(var(--foreground)); padding: 0.125rem 0.25rem; border-radius: 0.25rem; font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, monospace; font-size: 0.75rem;">[ ]</code>
                </div>
              </div>

              <div style="padding: 0.75rem; cursor: pointer; border-bottom-left-radius: var(--radius); border-bottom-right-radius: var(--radius);" onmouseover="this.style.background='hsl(var(--muted))'" onmouseout="this.style.background='transparent'">
                <div style="display: flex; align-items: center; justify-content: space-between;">
                  <div style="display: flex; align-items: center; gap: 0.5rem;">
                    <div style="width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; position: relative;">
                      <div class="ai-square"></div>
                    </div>
                    <div style="font-weight: 500;">AI Chat</div>
                  </div>
                  <code style="background: hsl(var(--input)); color: hsl(var(--foreground)); padding: 0.125rem 0.25rem; border-radius: 0.25rem; font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, monospace; font-size: 0.75rem;">‚åò + k</code>
                </div>
              </div>
            </div>
            </div>
          </div>
        </div>

        <h3>Autocomplete System Documentation</h3>
        <div class="component-showcase">
          <div class="component-example">
            <div class="component-title">Dropdown Consistency</div>
            <div class="component-demo">
              <div style="background: hsl(var(--muted)); padding: 1rem; border-radius: var(--radius); margin-bottom: 1rem;">
                <p style="margin: 0 0 0.5rem 0; font-weight: 500;">Unified Dropdown Specifications</p>
                <ul style="margin: 0; padding-left: 1rem; font-size: 0.875rem; color: hsl(var(--muted-foreground));">
                  <li><strong>Width:</strong> <code>min-width: 300px</code> for both @mention and slash command dropdowns</li>
                  <li><strong>Item Padding:</strong> <code>0.75rem</code> consistent across all items</li>
                  <li><strong>Layout Structure:</strong> <code>display: flex; align-items: center; gap: 0.5rem</code></li>
                  <li><strong>Icon Space:</strong> <code>20x20px</code> reserved container (filled for content, empty for actions)</li>
                  <li><strong>Typography:</strong> <code>font-weight: 500</code> for content, <code>600</code> for actions</li>
                  <li><strong>Positioning:</strong> Precise alignment after trigger characters ("/" and "@")</li>
                </ul>
              </div>

              <div style="background: hsl(var(--muted)); padding: 1rem; border-radius: var(--radius); margin-bottom: 1rem;">
                <p style="margin: 0 0 0.5rem 0; font-weight: 500;">@Mention System</p>
                <ul style="margin: 0; padding-left: 1rem; font-size: 0.875rem; color: hsl(var(--muted-foreground));">
                  <li><strong>Content Items:</strong> Circle text node icons for existing nodes</li>
                  <li><strong>Create Actions:</strong> Centered text without icons, highlighted background</li>
                  <li><strong>Positioning:</strong> <code>left: 11.88rem</code> - precisely after "@" character</li>
                  <li><strong>Content:</strong> Clean titles without sub-descriptions</li>
                </ul>
              </div>

              <div style="background: hsl(var(--muted)); padding: 1rem; border-radius: var(--radius);">
                <p style="margin: 0 0 0.5rem 0; font-weight: 500;">Slash Command System</p>
                <ul style="margin: 0; padding-left: 1rem; font-size: 0.875rem; color: hsl(var(--muted-foreground));">
                  <li><strong>Text:</strong> Uses <code>node-icon</code> + <code>text-circle</code> (16x16px circle)</li>
                  <li><strong>Headers:</strong> Custom <code>h1/h2/h3-square-alt</code> (16x16px squares with punch-holed text)</li>
                  <li><strong>Task:</strong> Uses <code>task-icon</code> + <code>task-circle-completed</code> (checkmark)</li>
                  <li><strong>AI Chat:</strong> Uses <code>ai-square</code> with sparkle overlay</li>
                  <li><strong>Positioning:</strong> <code>left: 54px</code> - precisely after "/" character</li>
                  <li><strong>Layout:</strong> Icons with labels and keyboard shortcuts</li>
                </ul>
              </div>
            </div>
          </div>

          <div class="component-example">
            <div class="component-title">Header Icon Technical Details</div>
            <div class="component-demo">
              <div style="background: hsl(var(--muted)); padding: 1rem; border-radius: var(--radius);">
                <p style="margin: 0 0 0.5rem 0; font-weight: 500;">Custom Header Icon Implementation</p>
                <ul style="margin: 0; padding-left: 1rem; font-size: 0.875rem; color: hsl(var(--muted-foreground));">
                  <li><strong>Size:</strong> 16x16px squares with 0.5px border-radius</li>
                  <li><strong>Punch-hole Effect:</strong> 14x14px SVG text with background showing through</li>
                  <li><strong>Typography:</strong> 16px font-size, 400 weight, system font stack</li>
                  <li><strong>Positioning:</strong> Centered at x="10" y="12.5" with dominant-baseline="middle"</li>
                  <li><strong>Theme Support:</strong> Light (#FAF9F5) and dark (#252523) text colors</li>
                  <li><strong>SVG ViewBox:</strong> 0 0 20 20 for consistent scaling within 14x14px container</li>
                  <li><strong>CSS Classes:</strong> <code>.h1-square-alt</code>, <code>.h2-square-alt</code>, <code>.h3-square-alt</code></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Related Patterns -->
      <section class="example-section">
        <h2>Related Patterns</h2>
        <div class="pattern-grid">
          <a href="navigation-shell.html" class="pattern-card">
            <h3>üß≠ Navigation Shell</h3>
            <p>Sidebar navigation that works with multi-pane layouts</p>
          </a>
          <a href="../foundations/icon-systems.html" class="pattern-card">
            <h3>üîµ Icon Systems</h3>
            <p>Icon specifications used in tabs and autocomplete systems</p>
          </a>
          <a href="../interaction/keyboard-navigation.html" class="pattern-card">
            <h3>‚å®Ô∏è Keyboard Navigation</h3>
            <p>Tab navigation and keyboard shortcuts for multi-pane interfaces</p>
          </a>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer>
      <p>&copy; 2024 NodeSpace. Part of the NodeSpace Design System.</p>
    </footer>
  </div>

  <!-- Code Block Button Styles -->
  <style>
    /* Prevent global .copy-button styles from interfering */
    .code-node-content .copy-button {
      display: none !important;
    }

    .code-node-example:hover .code-copy-button,
    .code-node-example:hover .code-language-button,
    .code-copy-button:focus,
    .code-language-button:focus {
      opacity: 1 !important;
    }
    .code-copy-button:hover,
    .code-language-button:hover {
      background: hsl(var(--muted)) !important;
      border-color: hsl(var(--primary)) !important;
    }
  </style>

  <!-- JavaScript -->
  <script src="../../assets/style-guide.js"></script>

  <script>
    // Close dropdown when clicking outside or pressing Escape
    (function() {
      const dropdown = document.querySelector('.code-language-dropdown');

      // Close on outside click
      document.addEventListener('click', function(e) {
        if (dropdown && dropdown.style.display === 'block') {
          dropdown.style.display = 'none';
        }
      });

      // Close on Escape key
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && dropdown && dropdown.style.display === 'block') {
          dropdown.style.display = 'none';
        }
      });
    })();
  </script>
</body>
</html>